"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ CleanSharePro; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @cleanshare/core-detect */ \"../core-detect/dist/index.js\");\n/* harmony import */ var _src_components_PresetManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/components/PresetManager */ \"./src/components/PresetManager.tsx\");\n/* harmony import */ var _src_components_HistoryDashboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/components/HistoryDashboard */ \"./src/components/HistoryDashboard.tsx\");\n/* harmony import */ var _src_hooks_useUndoRedo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/hooks/useUndoRedo */ \"./src/hooks/useUndoRedo.ts\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ \"../../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);\nvar _s = $RefreshSig$();\n// CleanShare Pro - Modern UI Implementation\n\n\n\n\n\n\nfunction CleanSharePro() {\n  _s();\n  const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [fileStates, setFileStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [currentFileIndex, setCurrentFileIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [presets, setPresets] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [presetId, setPresetId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [proUnlocked, setProUnlocked] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [showPresetEditor, setShowPresetEditor] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [showHistoryDashboard, setShowHistoryDashboard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [showUndoRedoManager, setShowUndoRedoManager] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [currentSessionId, setCurrentSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [fileProcessingRecords, setFileProcessingRecords] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new Map());\n\n  // Undo/Redo system for file states\n  const undoRedoSystem = (0,_src_hooks_useUndoRedo__WEBPACK_IMPORTED_MODULE_3__.useUndoRedo)([], {\n    maxHistorySize: 100\n  });\n\n  // Sync file states with undo/redo system\n  const updateFileStates = (newStates, actionType, description) => {\n    if (actionType && description) {\n      const oldStates = fileStates;\n      undoRedoSystem.execute(actionType, description, () => {\n        setFileStates(oldStates);\n        return oldStates;\n      }, () => {\n        setFileStates(newStates);\n        return newStates;\n      });\n    } else {\n      setFileStates(newStates);\n    }\n  };\n\n  // Load presets on mount and when preset manager updates\n  const loadPresets = () => {\n    // Import listPresets dynamically to avoid SSR issues\n    Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @cleanshare/core-detect */ \"../core-detect/dist/index.js\")).then(({\n      listPresets\n    }) => {\n      const ps = listPresets();\n      setPresets(ps);\n      if (ps.length > 0 && !presetId) {\n        setPresetId(ps[0].id);\n      }\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    loadPresets();\n  }, []);\n\n  // Process files when they change\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (files.length === 0) return;\n    async function processFiles() {\n      setLoading(true);\n      const newStates = [];\n\n      // Start processing session\n      const currentPreset = presets.find(p => p.id === presetId);\n      const sessionId = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.startSession)({\n        totalFiles: files.length,\n        presetId,\n        presetName: currentPreset?.name,\n        analyzeOptions: {\n          presetId\n        }\n      });\n      setCurrentSessionId(sessionId);\n      const processingRecords = new Map();\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const startTime = Date.now();\n\n        // Start tracking this file\n        const recordId = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.startFileProcessing)({\n          sessionId,\n          fileName: file.name,\n          fileSize: file.size,\n          fileType: file.type\n        });\n        processingRecords.set(i, recordId);\n        try {\n          const result = await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.analyzeDocument)(file, {\n            presetId\n          });\n          const analysisTime = Date.now() - startTime;\n\n          // Record analysis results\n          (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.recordAnalysisResults)(recordId, {\n            detections: result.detections,\n            detectionTime: analysisTime\n          });\n          const selected = {};\n          const actions = {};\n          result.detections.forEach(det => {\n            selected[det.id] = true;\n            actions[det.id] = {\n              style: 'BOX'\n            };\n          });\n          newStates.push({\n            file,\n            detections: result.detections,\n            selected,\n            actions,\n            pages: result.pages || 1,\n            pageImages: [],\n            currentPage: 0,\n            processing: false\n          });\n        } catch (error) {\n          console.error('Failed to process file:', file.name, error);\n\n          // Record analysis error\n          (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.recordAnalysisResults)(recordId, {\n            detections: [],\n            error: error instanceof Error ? error.message : 'Unknown error'\n          });\n\n          // Add the file with error state\n          newStates.push({\n            file,\n            detections: [],\n            selected: {},\n            actions: {},\n            pages: 1,\n            pageImages: [],\n            currentPage: 0,\n            processing: false,\n            error: error instanceof Error ? error.message : 'Unknown error'\n          });\n        }\n      }\n      setFileStates(newStates);\n      setFileProcessingRecords(processingRecords);\n      setLoading(false);\n\n      // End the session\n      (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.endSession)(sessionId, 'completed');\n    }\n    processFiles();\n  }, [files, presetId]);\n  const handleFileChange = e => {\n    const selectedFiles = Array.from(e.target.files || []);\n    setFiles(selectedFiles);\n    setCurrentFileIndex(0);\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const droppedFiles = Array.from(e.dataTransfer.files);\n    setFiles(droppedFiles);\n    setCurrentFileIndex(0);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleSanitize = async fileIndex => {\n    const fileState = fileStates[fileIndex];\n    if (!fileState) return;\n\n    // Update processing state\n    setFileStates(prev => prev.map((state, i) => i === fileIndex ? {\n      ...state,\n      processing: true\n    } : state));\n    const redactionStartTime = Date.now();\n    const recordId = fileProcessingRecords.get(fileIndex);\n    try {\n      // Re-analyze the file to ensure lastResult is set correctly  \n      await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.analyzeDocument)(fileState.file, {\n        presetId\n      });\n      const redactionActions = fileState.detections.filter(det => fileState.selected[det.id]).map(det => ({\n        detectionId: det.id,\n        style: fileState.actions[det.id]?.style || 'BOX',\n        labelText: fileState.actions[det.id]?.labelText\n      }));\n      const result = await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.applyRedactions)(fileState.file, redactionActions, {\n        output: 'image'\n      }, fileState.detections);\n\n      // Convert data URI to blob for download\n      const response = await fetch(result.fileUri);\n      const blob = await response.blob();\n      const url = URL.createObjectURL(blob);\n      const redactionTime = Date.now() - redactionStartTime;\n\n      // Record redaction results\n      if (recordId) {\n        (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.recordRedactionResults)(recordId, {\n          appliedRedactions: redactionActions,\n          redactionTime,\n          outputSize: blob.size\n        });\n      }\n\n      // Update file state with result\n      setFileStates(prev => prev.map((state, i) => i === fileIndex ? {\n        ...state,\n        outputUri: url,\n        previewUri: result.fileUri,\n        processing: false\n      } : state));\n    } catch (error) {\n      console.error('Sanitization failed:', error);\n\n      // Record redaction error\n      if (recordId) {\n        (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.recordRedactionResults)(recordId, {\n          appliedRedactions: [],\n          error: error instanceof Error ? error.message : 'Unknown error'\n        });\n      }\n\n      // Show error to user\n      alert(`Sanitization failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      setFileStates(prev => prev.map((state, i) => i === fileIndex ? {\n        ...state,\n        processing: false\n      } : state));\n    }\n  };\n  const handleDownload = fileIndex => {\n    const fileState = fileStates[fileIndex];\n    if (!fileState?.outputUri) return;\n    const link = document.createElement('a');\n    link.href = fileState.outputUri;\n    link.download = `sanitized_${fileState.file.name}`;\n    link.click();\n  };\n  const handleBulkSanitize = async () => {\n    const filesToProcess = fileStates.map((state, index) => ({\n      state,\n      index\n    })).filter(({\n      state\n    }) => !state.outputUri && !state.error);\n    if (filesToProcess.length === 0) return;\n\n    // Set all eligible files to processing state\n    setFileStates(prev => prev.map((state, index) => {\n      const shouldProcess = filesToProcess.some(({\n        index: processIndex\n      }) => processIndex === index);\n      return shouldProcess ? {\n        ...state,\n        processing: true\n      } : state;\n    }));\n    try {\n      // Process files with limited concurrency\n      const maxConcurrency = 3;\n      for (let i = 0; i < filesToProcess.length; i += maxConcurrency) {\n        const batch = filesToProcess.slice(i, i + maxConcurrency);\n        const promises = batch.map(async ({\n          state,\n          index: fileIndex\n        }) => {\n          try {\n            // Re-analyze the file to ensure lastResult is set correctly  \n            await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.analyzeDocument)(state.file, {\n              presetId\n            });\n            const redactionActions = state.detections.filter(det => state.selected[det.id]).map(det => ({\n              detectionId: det.id,\n              style: state.actions[det.id]?.style || 'BOX',\n              labelText: state.actions[det.id]?.labelText\n            }));\n            const result = await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_5__.applyRedactions)(state.file, redactionActions, {\n              output: 'image'\n            }, state.detections);\n\n            // Convert data URI to blob for download\n            const response = await fetch(result.fileUri);\n            const blob = await response.blob();\n            const url = URL.createObjectURL(blob);\n\n            // Update file state with result\n            setFileStates(prev => prev.map((s, i) => i === fileIndex ? {\n              ...s,\n              outputUri: url,\n              previewUri: result.fileUri,\n              processing: false\n            } : s));\n          } catch (error) {\n            console.error(`Sanitization failed for ${state.file.name}:`, error);\n            setFileStates(prev => prev.map((s, i) => i === fileIndex ? {\n              ...s,\n              processing: false,\n              error: error instanceof Error ? error.message : 'Unknown error'\n            } : s));\n          }\n        });\n        await Promise.all(promises);\n      }\n    } catch (error) {\n      console.error('Bulk sanitization failed:', error);\n    }\n  };\n  const handleBulkDownload = () => {\n    const processedFiles = fileStates.filter(state => state.outputUri);\n    if (processedFiles.length === 0) return;\n\n    // Download each file individually\n    processedFiles.forEach((state, index) => {\n      if (state.outputUri) {\n        setTimeout(() => {\n          const link = document.createElement('a');\n          link.href = state.outputUri;\n          link.download = `sanitized_${state.file.name}`;\n          link.click();\n        }, index * 100); // Stagger downloads by 100ms\n      }\n    });\n  };\n\n  const currentFileState = fileStates[currentFileIndex];\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"header\", {\n      className: \"header\",\n      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"a\", {\n          href: \"#\",\n          className: \"logo\",\n          children: \"CleanShare Pro\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 'var(--space-md)'\n          },\n          children: [presets.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 'var(--space-xs)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"select\", {\n              value: presetId,\n              onChange: e => setPresetId(e.target.value),\n              className: \"form-select\",\n              style: {\n                minWidth: '180px'\n              },\n              children: presets.map(p => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"option\", {\n                value: p.id,\n                children: [p.name, \" \", p.domain && p.domain !== 'General' ? `(${p.domain})` : '']\n              }, p.id))\n            }), (() => {\n              const currentPreset = presets.find(p => p.id === presetId);\n              return currentPreset?.description ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                style: {\n                  fontSize: 'var(--font-size-xs)',\n                  color: 'var(--text-secondary)',\n                  maxWidth: '200px',\n                  lineHeight: '1.2'\n                },\n                children: currentPreset.description\n              }) : null;\n            })()]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n            onClick: () => setProUnlocked(!proUnlocked),\n            className: `btn ${proUnlocked ? 'btn-secondary' : 'btn-outline'} btn-sm`,\n            children: proUnlocked ? '✓ Pro Unlocked' : '🔓 Unlock Pro'\n          }), proUnlocked && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n              onClick: () => setShowPresetEditor(true),\n              className: \"btn btn-primary btn-sm\",\n              children: \"Manage Presets\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n              onClick: () => setShowHistoryDashboard(true),\n              className: \"btn btn-secondary btn-sm\",\n              children: \"\\uD83D\\uDCCA History\"\n            })]\n          })]\n        })]\n      })\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        className: \"card\",\n        style: {\n          marginBottom: 'var(--space-xl)'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n          className: \"card-header\",\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"h2\", {\n            className: \"card-title\",\n            children: \"Upload Files\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n            className: \"card-subtitle\",\n            children: \"Select images or PDF documents to sanitize\"\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n            className: \"file-upload-zone\",\n            onDrop: handleDrop,\n            onDragOver: handleDragOver,\n            onDragLeave: handleDragLeave,\n            onClick: () => document.getElementById('file-input')?.click(),\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n              className: \"file-upload-icon\",\n              children: \"\\uD83D\\uDCC4\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n              className: \"file-upload-text\",\n              children: \"Drop files here or click to browse\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n              className: \"file-upload-subtext\",\n              children: \"Supports images (JPG, PNG, WebP, HEIC, TIFF), PDFs, and documents (DOCX, XLSX) up to 10MB each\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n              id: \"file-input\",\n              type: \"file\",\n              accept: \"image/*,application/pdf,.webp,.heic,.tiff,.docx,.xlsx\",\n              multiple: true,\n              onChange: handleFileChange,\n              style: {\n                display: 'none'\n              }\n            })]\n          }), loading && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n            className: \"loading-text\",\n            style: {\n              marginTop: 'var(--space-md)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n              className: \"loading-spinner\"\n            }), \"Processing files...\"]\n          })]\n        })]\n      }), fileStates.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 'var(--space-xl)'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n          className: \"sidebar\",\n          style: {\n            minWidth: '250px'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"h3\", {\n            className: \"sidebar-title\",\n            children: [\"Files (\", fileStates.length, \")\"]\n          }), fileStates.length > 1 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n            style: {\n              padding: 'var(--space-md)',\n              marginBottom: 'var(--space-md)',\n              border: '2px solid var(--color-primary)',\n              borderRadius: 'var(--radius-md)',\n              background: 'var(--bg-secondary)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"h4\", {\n              style: {\n                margin: '0 0 var(--space-sm) 0',\n                fontSize: 'var(--font-size-sm)',\n                fontWeight: '600'\n              },\n              children: \"\\uD83D\\uDE80 Bulk Processing\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n              style: {\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 'var(--space-xs)'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n                onClick: handleBulkSanitize,\n                className: \"btn btn-primary btn-sm\",\n                disabled: fileStates.some(s => s.processing) || fileStates.every(s => s.outputUri),\n                style: {\n                  width: '100%'\n                },\n                children: fileStates.some(s => s.processing) ? 'Processing...' : fileStates.every(s => s.outputUri) ? 'All Complete' : `Sanitize All (${fileStates.filter(s => !s.outputUri && !s.error).length})`\n              }), fileStates.some(s => s.outputUri) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"button\", {\n                onClick: handleBulkDownload,\n                className: \"btn btn-secondary btn-sm\",\n                style: {\n                  width: '100%'\n                },\n                children: [\"\\uD83D\\uDCE6 Download All (\", fileStates.filter(s => s.outputUri).length, \")\"]\n              })]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n              style: {\n                marginTop: 'var(--space-xs)',\n                fontSize: 'var(--font-size-xs)',\n                color: 'var(--text-secondary)'\n              },\n              children: \"Concurrent processing with progress tracking\"\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 'var(--space-sm)'\n            },\n            children: fileStates.map((state, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n              onClick: () => setCurrentFileIndex(index),\n              style: {\n                padding: 'var(--space-md)',\n                border: `2px solid ${index === currentFileIndex ? 'var(--color-primary)' : 'var(--border-light)'}`,\n                borderRadius: 'var(--radius-md)',\n                cursor: 'pointer',\n                background: index === currentFileIndex ? 'var(--bg-secondary)' : 'var(--bg-primary)',\n                transition: 'all var(--transition-fast)'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                style: {\n                  fontWeight: '600',\n                  fontSize: 'var(--font-size-sm)',\n                  marginBottom: 'var(--space-xs)'\n                },\n                children: state.file.name\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                style: {\n                  fontSize: 'var(--font-size-xs)',\n                  color: state.error ? 'var(--color-error)' : 'var(--text-secondary)'\n                },\n                children: state.error ? `Error: ${state.error}` : `${state.detections.length} detections found`\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                style: {\n                  marginTop: 'var(--space-sm)',\n                  display: 'flex',\n                  gap: 'var(--space-xs)'\n                },\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleSanitize(index);\n                  },\n                  className: \"btn btn-primary btn-sm\",\n                  disabled: state.processing || !!state.error,\n                  style: {\n                    flex: 1\n                  },\n                  children: state.processing ? 'Processing...' : 'Sanitize'\n                }), state.outputUri && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleDownload(index);\n                  },\n                  className: \"btn btn-secondary btn-sm\",\n                  children: \"Download\"\n                })]\n              })]\n            }, index))\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: currentFileState && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"h3\", {\n                className: \"card-title\",\n                children: currentFileState.file.name\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n                className: \"card-subtitle\",\n                children: currentFileState.error ? 'Processing failed' : `Found ${currentFileState.detections.length} sensitive items`\n              })]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n              className: \"card-body\",\n              children: currentFileState.error ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                className: \"alert alert-error\",\n                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"strong\", {\n                    children: \"Processing Error\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"p\", {\n                    style: {\n                      margin: '0',\n                      marginTop: 'var(--space-xs)'\n                    },\n                    children: [\"Failed to analyze this file: \", currentFileState.error]\n                  })]\n                })\n              }) : currentFileState.detections.length > 0 ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"h4\", {\n                  style: {\n                    marginBottom: 'var(--space-md)',\n                    fontSize: 'var(--font-size-lg)'\n                  },\n                  children: \"Detected Sensitive Information\"\n                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                  style: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 'var(--space-sm)'\n                  },\n                  children: currentFileState.detections.map(detection => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                    style: {\n                      padding: 'var(--space-md)',\n                      border: '1px solid var(--border-light)',\n                      borderRadius: 'var(--radius-md)',\n                      background: 'var(--bg-secondary)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'space-between'\n                    },\n                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                      style: {\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: 'var(--space-md)'\n                      },\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"input\", {\n                        type: \"checkbox\",\n                        checked: currentFileState.selected[detection.id] || false,\n                        onChange: e => {\n                          setFileStates(prev => prev.map((state, i) => i === currentFileIndex ? {\n                            ...state,\n                            selected: {\n                              ...state.selected,\n                              [detection.id]: e.target.checked\n                            }\n                          } : state));\n                        }\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                          style: {\n                            fontWeight: '600',\n                            fontSize: 'var(--font-size-sm)'\n                          },\n                          children: [detection.kind, \": \", detection.preview || 'N/A']\n                        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                          style: {\n                            fontSize: 'var(--font-size-xs)',\n                            color: 'var(--text-secondary)'\n                          },\n                          children: [\"Confidence: \", Math.round(detection.confidence * 100), \"%\"]\n                        })]\n                      })]\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"select\", {\n                      value: currentFileState.actions[detection.id]?.style || 'BOX',\n                      onChange: e => {\n                        setFileStates(prev => prev.map((state, i) => i === currentFileIndex ? {\n                          ...state,\n                          actions: {\n                            ...state.actions,\n                            [detection.id]: {\n                              ...state.actions[detection.id],\n                              style: e.target.value\n                            }\n                          }\n                        } : state));\n                      },\n                      className: \"form-select\",\n                      style: {\n                        minWidth: '120px'\n                      },\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"option\", {\n                        value: \"BOX\",\n                        children: \"Black Box\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"option\", {\n                        value: \"BLUR\",\n                        children: \"Blur\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"option\", {\n                        value: \"PIXELATE\",\n                        children: \"Pixelate\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"option\", {\n                        value: \"LABEL\",\n                        children: \"Label\"\n                      })]\n                    })]\n                  }, detection.id))\n                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                  className: \"card-footer\",\n                  style: {\n                    marginTop: 'var(--space-xl)'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n                    onClick: () => handleSanitize(currentFileIndex),\n                    className: \"btn btn-primary btn-lg\",\n                    disabled: currentFileState.processing,\n                    children: currentFileState.processing ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                        className: \"loading-spinner\",\n                        style: {\n                          width: '1rem',\n                          height: '1rem'\n                        }\n                      }), \"Processing...\"]\n                    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n                      children: \"\\uD83D\\uDD12 Sanitize Document\"\n                    })\n                  }), currentFileState.outputUri && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"button\", {\n                    onClick: () => handleDownload(currentFileIndex),\n                    className: \"btn btn-secondary btn-lg\",\n                    children: \"\\uD83D\\uDCE5 Download Clean File\"\n                  })]\n                }), currentFileState.previewUri && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                  style: {\n                    marginTop: 'var(--space-xl)',\n                    padding: 'var(--space-lg)',\n                    background: 'var(--bg-secondary)',\n                    borderRadius: 'var(--radius-md)',\n                    border: '1px solid var(--border-light)'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"h4\", {\n                    style: {\n                      marginBottom: 'var(--space-md)',\n                      fontSize: 'var(--font-size-lg)',\n                      color: 'var(--color-primary)'\n                    },\n                    children: \"\\uD83D\\uDD12 Sanitized Preview\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'center',\n                      alignItems: 'center',\n                      padding: 'var(--space-md)',\n                      background: 'var(--bg-primary)',\n                      borderRadius: 'var(--radius-md)',\n                      border: '1px solid var(--border-light)'\n                    },\n                    children: currentFileState.file.type.startsWith('image/') ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"img\", {\n                      src: currentFileState.previewUri,\n                      alt: \"Sanitized preview\",\n                      style: {\n                        maxWidth: '100%',\n                        maxHeight: '400px',\n                        borderRadius: 'var(--radius-sm)',\n                        boxShadow: 'var(--shadow-md)'\n                      }\n                    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                      style: {\n                        textAlign: 'center',\n                        padding: 'var(--space-xl)',\n                        color: 'var(--text-secondary)'\n                      },\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                        style: {\n                          fontSize: 'var(--font-size-3xl)',\n                          marginBottom: 'var(--space-md)'\n                        },\n                        children: \"\\uD83D\\uDCC4\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n                        children: \"PDF sanitized successfully\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n                        style: {\n                          fontSize: 'var(--font-size-sm)'\n                        },\n                        children: \"Click download to save the clean file\"\n                      })]\n                    })\n                  })]\n                })]\n              }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"div\", {\n                className: \"alert alert-success\",\n                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(\"div\", {\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"strong\", {\n                    children: \"No sensitive information detected!\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(\"p\", {\n                    style: {\n                      margin: '0',\n                      marginTop: 'var(--space-xs)'\n                    },\n                    children: \"This document appears to be clean and safe to share.\"\n                  })]\n                })\n              })\n            })]\n          })\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src_components_PresetManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        isOpen: showPresetEditor && proUnlocked,\n        onClose: () => setShowPresetEditor(false),\n        currentPresetId: presetId,\n        onPresetSelect: id => {\n          setPresetId(id);\n          loadPresets(); // Refresh presets list in case new ones were created\n          setShowPresetEditor(false);\n        }\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_src_components_HistoryDashboard__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        isOpen: showHistoryDashboard && proUnlocked,\n        onClose: () => setShowHistoryDashboard(false)\n      })]\n    })]\n  });\n}\n_s(CleanSharePro, \"STxCRjVXOtYH1wjCA82PhGzjMaM=\", false, function () {\n  return [_src_hooks_useUndoRedo__WEBPACK_IMPORTED_MODULE_3__.useUndoRedo];\n});\n_c = CleanSharePro;\nvar _c;\n$RefreshReg$(_c, \"CleanSharePro\");\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O01BQUEsQ0FDSCxDQUNOLGVBR0R0SixzREFBQSxDQUFDSixxRUFBYTtRQUNaMk0sTUFBTSxFQUFFbEwsZ0JBQWdCLElBQUlGLFdBQVk7UUFDeENxTCxPQUFPLEVBQUVBLENBQUEsS0FBTWxMLG1CQUFtQixDQUFDLEtBQUssQ0FBRTtRQUMxQ21MLGVBQWUsRUFBRTFMLFFBQVM7UUFDMUIyTCxjQUFjLEVBQUc3SixFQUFFLElBQUs7VUFDdEI3QixXQUFXLENBQUM2QixFQUFFLENBQUM7VUFDZkwsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1VBQ2ZsQixtQkFBbUIsQ0FBQyxLQUFLLENBQUM7UUFDNUI7TUFBRSxDQUNILENBQUMsZUFHRnRCLHNEQUFBLENBQUNILHdFQUFnQjtRQUNmME0sTUFBTSxFQUFFaEwsb0JBQW9CLElBQUlKLFdBQVk7UUFDNUNxTCxPQUFPLEVBQUVBLENBQUEsS0FBTWhMLHVCQUF1QixDQUFDLEtBQUs7TUFBRSxDQUMvQyxDQUFDO0lBQUEsQ0FDQyxDQUFDO0VBQUEsQ0FDSCxDQUFDO0FBRVY7QUFBQ2xCLEVBQUEsQ0E5c0J1QkQsYUFBYTtFQUFBLFFBZVpQLCtEQUFXO0FBQUE7QUFBQTZNLEVBQUEsR0FmWnRNLGFBQWE7QUFBQSxJQUFBc00sRUFBQTtBQUFBQyxZQUFBLENBQUFELEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vcGFnZXMvaW5kZXgudHN4PzA3ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ2xlYW5TaGFyZSBQcm8gLSBNb2Rlcm4gVUkgSW1wbGVtZW50YXRpb25cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHR5cGUge1xuICBEZXRlY3Rpb24sXG4gIFJlZGFjdGlvbkFjdGlvbixcbiAgUmVkYWN0aW9uU3R5bGUsXG4gIFByZXNldCxcbiAgRGV0ZWN0aW9uS2luZFxufSBmcm9tICdAY2xlYW5zaGFyZS9jb3JlLWRldGVjdCc7XG5pbXBvcnQgeyBhbmFseXplRG9jdW1lbnQsIGFwcGx5UmVkYWN0aW9ucywgc3RhcnRTZXNzaW9uLCBlbmRTZXNzaW9uLCBzdGFydEZpbGVQcm9jZXNzaW5nLCByZWNvcmRBbmFseXNpc1Jlc3VsdHMsIHJlY29yZFJlZGFjdGlvblJlc3VsdHMgfSBmcm9tICdAY2xlYW5zaGFyZS9jb3JlLWRldGVjdCc7XG5pbXBvcnQgUHJlc2V0TWFuYWdlciBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9QcmVzZXRNYW5hZ2VyJztcbmltcG9ydCBIaXN0b3J5RGFzaGJvYXJkIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL0hpc3RvcnlEYXNoYm9hcmQnO1xuaW1wb3J0IFVuZG9SZWRvTWFuYWdlciwgeyBVbmRvUmVkb0NvbnRyb2xzIH0gZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvVW5kb1JlZG9NYW5hZ2VyJztcbmltcG9ydCB7IHVzZVVuZG9SZWRvIH0gZnJvbSAnLi4vc3JjL2hvb2tzL3VzZVVuZG9SZWRvJztcblxuaW50ZXJmYWNlIEZpbGVTdGF0ZSB7XG4gIGZpbGU6IEZpbGU7XG4gIGRldGVjdGlvbnM6IERldGVjdGlvbltdO1xuICBzZWxlY3RlZDogUmVjb3JkPHN0cmluZywgYm9vbGVhbj47XG4gIGFjdGlvbnM6IFJlY29yZDxzdHJpbmcsIHsgc3R5bGU6IFJlZGFjdGlvblN0eWxlOyBsYWJlbFRleHQ/OiBzdHJpbmcgfT47XG4gIHBhZ2VzOiBudW1iZXI7XG4gIHBhZ2VJbWFnZXM6IHN0cmluZ1tdO1xuICBjdXJyZW50UGFnZTogbnVtYmVyO1xuICBvdXRwdXRVcmk/OiBzdHJpbmc7XG4gIHByZXZpZXdVcmk/OiBzdHJpbmc7IC8vIFByZXZpZXcgb2Ygc2FuaXRpemVkIGZpbGVcbiAgcHJvY2Vzc2luZz86IGJvb2xlYW47XG4gIGVycm9yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDbGVhblNoYXJlUHJvKCkge1xuICBjb25zdCBbZmlsZXMsIHNldEZpbGVzXSA9IHVzZVN0YXRlPEZpbGVbXT4oW10pO1xuICBjb25zdCBbZmlsZVN0YXRlcywgc2V0RmlsZVN0YXRlc10gPSB1c2VTdGF0ZTxGaWxlU3RhdGVbXT4oW10pO1xuICBjb25zdCBbY3VycmVudEZpbGVJbmRleCwgc2V0Q3VycmVudEZpbGVJbmRleF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3ByZXNldHMsIHNldFByZXNldHNdID0gdXNlU3RhdGU8UHJlc2V0W10+KFtdKTtcbiAgY29uc3QgW3ByZXNldElkLCBzZXRQcmVzZXRJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcHJvVW5sb2NrZWQsIHNldFByb1VubG9ja2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dQcmVzZXRFZGl0b3IsIHNldFNob3dQcmVzZXRFZGl0b3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0hpc3RvcnlEYXNoYm9hcmQsIHNldFNob3dIaXN0b3J5RGFzaGJvYXJkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dVbmRvUmVkb01hbmFnZXIsIHNldFNob3dVbmRvUmVkb01hbmFnZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VycmVudFNlc3Npb25JZCwgc2V0Q3VycmVudFNlc3Npb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2ZpbGVQcm9jZXNzaW5nUmVjb3Jkcywgc2V0RmlsZVByb2Nlc3NpbmdSZWNvcmRzXSA9IHVzZVN0YXRlPE1hcDxudW1iZXIsIHN0cmluZz4+KG5ldyBNYXAoKSk7XG5cbiAgLy8gVW5kby9SZWRvIHN5c3RlbSBmb3IgZmlsZSBzdGF0ZXNcbiAgY29uc3QgdW5kb1JlZG9TeXN0ZW0gPSB1c2VVbmRvUmVkbzxGaWxlU3RhdGVbXT4oW10sIHsgbWF4SGlzdG9yeVNpemU6IDEwMCB9KTtcbiAgXG4gIC8vIFN5bmMgZmlsZSBzdGF0ZXMgd2l0aCB1bmRvL3JlZG8gc3lzdGVtXG4gIGNvbnN0IHVwZGF0ZUZpbGVTdGF0ZXMgPSAobmV3U3RhdGVzOiBGaWxlU3RhdGVbXSwgYWN0aW9uVHlwZT86IHN0cmluZywgZGVzY3JpcHRpb24/OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoYWN0aW9uVHlwZSAmJiBkZXNjcmlwdGlvbikge1xuICAgICAgY29uc3Qgb2xkU3RhdGVzID0gZmlsZVN0YXRlcztcbiAgICAgIHVuZG9SZWRvU3lzdGVtLmV4ZWN1dGUoXG4gICAgICAgIGFjdGlvblR5cGUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgc2V0RmlsZVN0YXRlcyhvbGRTdGF0ZXMpO1xuICAgICAgICAgIHJldHVybiBvbGRTdGF0ZXM7XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBzZXRGaWxlU3RhdGVzKG5ld1N0YXRlcyk7XG4gICAgICAgICAgcmV0dXJuIG5ld1N0YXRlcztcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RmlsZVN0YXRlcyhuZXdTdGF0ZXMpO1xuICAgIH1cbiAgfTtcblxuICAvLyBMb2FkIHByZXNldHMgb24gbW91bnQgYW5kIHdoZW4gcHJlc2V0IG1hbmFnZXIgdXBkYXRlc1xuICBjb25zdCBsb2FkUHJlc2V0cyA9ICgpID0+IHtcbiAgICAvLyBJbXBvcnQgbGlzdFByZXNldHMgZHluYW1pY2FsbHkgdG8gYXZvaWQgU1NSIGlzc3Vlc1xuICAgIGltcG9ydCgnQGNsZWFuc2hhcmUvY29yZS1kZXRlY3QnKS50aGVuKCh7IGxpc3RQcmVzZXRzIH0pID0+IHtcbiAgICAgIGNvbnN0IHBzID0gbGlzdFByZXNldHMoKTtcbiAgICAgIHNldFByZXNldHMocHMpO1xuICAgICAgaWYgKHBzLmxlbmd0aCA+IDAgJiYgIXByZXNldElkKSB7XG4gICAgICAgIHNldFByZXNldElkKHBzWzBdLmlkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvYWRQcmVzZXRzKCk7XG4gIH0sIFtdKTtcblxuICAvLyBQcm9jZXNzIGZpbGVzIHdoZW4gdGhleSBjaGFuZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgXG4gICAgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0ZpbGVzKCkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIGNvbnN0IG5ld1N0YXRlczogRmlsZVN0YXRlW10gPSBbXTtcbiAgICAgIFxuICAgICAgLy8gU3RhcnQgcHJvY2Vzc2luZyBzZXNzaW9uXG4gICAgICBjb25zdCBjdXJyZW50UHJlc2V0ID0gcHJlc2V0cy5maW5kKHAgPT4gcC5pZCA9PT0gcHJlc2V0SWQpO1xuICAgICAgY29uc3Qgc2Vzc2lvbklkID0gc3RhcnRTZXNzaW9uKHtcbiAgICAgICAgdG90YWxGaWxlczogZmlsZXMubGVuZ3RoLFxuICAgICAgICBwcmVzZXRJZCxcbiAgICAgICAgcHJlc2V0TmFtZTogY3VycmVudFByZXNldD8ubmFtZSxcbiAgICAgICAgYW5hbHl6ZU9wdGlvbnM6IHsgcHJlc2V0SWQgfVxuICAgICAgfSk7XG4gICAgICBzZXRDdXJyZW50U2Vzc2lvbklkKHNlc3Npb25JZCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHByb2Nlc3NpbmdSZWNvcmRzID0gbmV3IE1hcDxudW1iZXIsIHN0cmluZz4oKTtcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBmaWxlID0gZmlsZXNbaV07XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIFxuICAgICAgICAvLyBTdGFydCB0cmFja2luZyB0aGlzIGZpbGVcbiAgICAgICAgY29uc3QgcmVjb3JkSWQgPSBzdGFydEZpbGVQcm9jZXNzaW5nKHtcbiAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgZmlsZU5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgICBmaWxlU2l6ZTogZmlsZS5zaXplLFxuICAgICAgICAgIGZpbGVUeXBlOiBmaWxlLnR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHByb2Nlc3NpbmdSZWNvcmRzLnNldChpLCByZWNvcmRJZCk7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFuYWx5emVEb2N1bWVudChmaWxlLCB7IHByZXNldElkIH0pO1xuICAgICAgICAgIGNvbnN0IGFuYWx5c2lzVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVjb3JkIGFuYWx5c2lzIHJlc3VsdHNcbiAgICAgICAgICByZWNvcmRBbmFseXNpc1Jlc3VsdHMocmVjb3JkSWQsIHtcbiAgICAgICAgICAgIGRldGVjdGlvbnM6IHJlc3VsdC5kZXRlY3Rpb25zLFxuICAgICAgICAgICAgZGV0ZWN0aW9uVGltZTogYW5hbHlzaXNUaW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWQ6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+ID0ge307XG4gICAgICAgICAgY29uc3QgYWN0aW9uczogUmVjb3JkPHN0cmluZywgeyBzdHlsZTogUmVkYWN0aW9uU3R5bGU7IGxhYmVsVGV4dD86IHN0cmluZyB9PiA9IHt9O1xuICAgICAgICAgIFxuICAgICAgICAgIHJlc3VsdC5kZXRlY3Rpb25zLmZvckVhY2goZGV0ID0+IHtcbiAgICAgICAgICAgIHNlbGVjdGVkW2RldC5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgYWN0aW9uc1tkZXQuaWRdID0geyBzdHlsZTogJ0JPWCcgfTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIG5ld1N0YXRlcy5wdXNoKHtcbiAgICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgICBkZXRlY3Rpb25zOiByZXN1bHQuZGV0ZWN0aW9ucyxcbiAgICAgICAgICAgIHNlbGVjdGVkLFxuICAgICAgICAgICAgYWN0aW9ucyxcbiAgICAgICAgICAgIHBhZ2VzOiByZXN1bHQucGFnZXMgfHwgMSxcbiAgICAgICAgICAgIHBhZ2VJbWFnZXM6IFtdLFxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IDAsXG4gICAgICAgICAgICBwcm9jZXNzaW5nOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwcm9jZXNzIGZpbGU6JywgZmlsZS5uYW1lLCBlcnJvcik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVjb3JkIGFuYWx5c2lzIGVycm9yXG4gICAgICAgICAgcmVjb3JkQW5hbHlzaXNSZXN1bHRzKHJlY29yZElkLCB7XG4gICAgICAgICAgICBkZXRlY3Rpb25zOiBbXSxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCB0aGUgZmlsZSB3aXRoIGVycm9yIHN0YXRlXG4gICAgICAgICAgbmV3U3RhdGVzLnB1c2goe1xuICAgICAgICAgICAgZmlsZSxcbiAgICAgICAgICAgIGRldGVjdGlvbnM6IFtdLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHt9LFxuICAgICAgICAgICAgYWN0aW9uczoge30sXG4gICAgICAgICAgICBwYWdlczogMSxcbiAgICAgICAgICAgIHBhZ2VJbWFnZXM6IFtdLFxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IDAsXG4gICAgICAgICAgICBwcm9jZXNzaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEZpbGVTdGF0ZXMobmV3U3RhdGVzKTtcbiAgICAgIHNldEZpbGVQcm9jZXNzaW5nUmVjb3Jkcyhwcm9jZXNzaW5nUmVjb3Jkcyk7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIFxuICAgICAgLy8gRW5kIHRoZSBzZXNzaW9uXG4gICAgICBlbmRTZXNzaW9uKHNlc3Npb25JZCwgJ2NvbXBsZXRlZCcpO1xuICAgIH1cbiAgICBcbiAgICBwcm9jZXNzRmlsZXMoKTtcbiAgfSwgW2ZpbGVzLCBwcmVzZXRJZF0pO1xuXG4gIGNvbnN0IGhhbmRsZUZpbGVDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZEZpbGVzID0gQXJyYXkuZnJvbShlLnRhcmdldC5maWxlcyB8fCBbXSk7XG4gICAgc2V0RmlsZXMoc2VsZWN0ZWRGaWxlcyk7XG4gICAgc2V0Q3VycmVudEZpbGVJbmRleCgwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEcm9wID0gKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IGRyb3BwZWRGaWxlcyA9IEFycmF5LmZyb20oZS5kYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgIHNldEZpbGVzKGRyb3BwZWRGaWxlcyk7XG4gICAgc2V0Q3VycmVudEZpbGVJbmRleCgwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEcmFnT3ZlciA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEcmFnTGVhdmUgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2FuaXRpemUgPSBhc3luYyAoZmlsZUluZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBmaWxlU3RhdGUgPSBmaWxlU3RhdGVzW2ZpbGVJbmRleF07XG4gICAgaWYgKCFmaWxlU3RhdGUpIHJldHVybjtcblxuICAgIC8vIFVwZGF0ZSBwcm9jZXNzaW5nIHN0YXRlXG4gICAgc2V0RmlsZVN0YXRlcyhwcmV2ID0+IHByZXYubWFwKChzdGF0ZSwgaSkgPT4gXG4gICAgICBpID09PSBmaWxlSW5kZXggPyB7IC4uLnN0YXRlLCBwcm9jZXNzaW5nOiB0cnVlIH0gOiBzdGF0ZVxuICAgICkpO1xuXG4gICAgY29uc3QgcmVkYWN0aW9uU3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCByZWNvcmRJZCA9IGZpbGVQcm9jZXNzaW5nUmVjb3Jkcy5nZXQoZmlsZUluZGV4KTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBSZS1hbmFseXplIHRoZSBmaWxlIHRvIGVuc3VyZSBsYXN0UmVzdWx0IGlzIHNldCBjb3JyZWN0bHkgIFxuICAgICAgYXdhaXQgYW5hbHl6ZURvY3VtZW50KGZpbGVTdGF0ZS5maWxlLCB7IHByZXNldElkIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZWRhY3Rpb25BY3Rpb25zOiBSZWRhY3Rpb25BY3Rpb25bXSA9IGZpbGVTdGF0ZS5kZXRlY3Rpb25zXG4gICAgICAgIC5maWx0ZXIoZGV0ID0+IGZpbGVTdGF0ZS5zZWxlY3RlZFtkZXQuaWRdKVxuICAgICAgICAubWFwKGRldCA9PiAoe1xuICAgICAgICAgIGRldGVjdGlvbklkOiBkZXQuaWQsXG4gICAgICAgICAgc3R5bGU6IGZpbGVTdGF0ZS5hY3Rpb25zW2RldC5pZF0/LnN0eWxlIHx8ICdCT1gnLFxuICAgICAgICAgIGxhYmVsVGV4dDogZmlsZVN0YXRlLmFjdGlvbnNbZGV0LmlkXT8ubGFiZWxUZXh0XG4gICAgICAgIH0pKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBwbHlSZWRhY3Rpb25zKGZpbGVTdGF0ZS5maWxlLCByZWRhY3Rpb25BY3Rpb25zLCB7XG4gICAgICAgIG91dHB1dDogJ2ltYWdlJ1xuICAgICAgfSwgZmlsZVN0YXRlLmRldGVjdGlvbnMpO1xuXG4gICAgICAvLyBDb252ZXJ0IGRhdGEgVVJJIHRvIGJsb2IgZm9yIGRvd25sb2FkXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHJlc3VsdC5maWxlVXJpKTtcbiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgY29uc3QgcmVkYWN0aW9uVGltZSA9IERhdGUubm93KCkgLSByZWRhY3Rpb25TdGFydFRpbWU7XG5cbiAgICAgIC8vIFJlY29yZCByZWRhY3Rpb24gcmVzdWx0c1xuICAgICAgaWYgKHJlY29yZElkKSB7XG4gICAgICAgIHJlY29yZFJlZGFjdGlvblJlc3VsdHMocmVjb3JkSWQsIHtcbiAgICAgICAgICBhcHBsaWVkUmVkYWN0aW9uczogcmVkYWN0aW9uQWN0aW9ucyxcbiAgICAgICAgICByZWRhY3Rpb25UaW1lLFxuICAgICAgICAgIG91dHB1dFNpemU6IGJsb2Iuc2l6ZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGZpbGUgc3RhdGUgd2l0aCByZXN1bHRcbiAgICAgIHNldEZpbGVTdGF0ZXMocHJldiA9PiBwcmV2Lm1hcCgoc3RhdGUsIGkpID0+IFxuICAgICAgICBpID09PSBmaWxlSW5kZXggPyB7IC4uLnN0YXRlLCBvdXRwdXRVcmk6IHVybCwgcHJldmlld1VyaTogcmVzdWx0LmZpbGVVcmksIHByb2Nlc3Npbmc6IGZhbHNlIH0gOiBzdGF0ZVxuICAgICAgKSk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignU2FuaXRpemF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIFJlY29yZCByZWRhY3Rpb24gZXJyb3JcbiAgICAgIGlmIChyZWNvcmRJZCkge1xuICAgICAgICByZWNvcmRSZWRhY3Rpb25SZXN1bHRzKHJlY29yZElkLCB7XG4gICAgICAgICAgYXBwbGllZFJlZGFjdGlvbnM6IFtdLFxuICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2hvdyBlcnJvciB0byB1c2VyXG4gICAgICBhbGVydChgU2FuaXRpemF0aW9uIGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgIHNldEZpbGVTdGF0ZXMocHJldiA9PiBwcmV2Lm1hcCgoc3RhdGUsIGkpID0+IFxuICAgICAgICBpID09PSBmaWxlSW5kZXggPyB7IC4uLnN0YXRlLCBwcm9jZXNzaW5nOiBmYWxzZSB9IDogc3RhdGVcbiAgICAgICkpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEb3dubG9hZCA9IChmaWxlSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IGZpbGVTdGF0ZSA9IGZpbGVTdGF0ZXNbZmlsZUluZGV4XTtcbiAgICBpZiAoIWZpbGVTdGF0ZT8ub3V0cHV0VXJpKSByZXR1cm47XG5cbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuaHJlZiA9IGZpbGVTdGF0ZS5vdXRwdXRVcmk7XG4gICAgbGluay5kb3dubG9hZCA9IGBzYW5pdGl6ZWRfJHtmaWxlU3RhdGUuZmlsZS5uYW1lfWA7XG4gICAgbGluay5jbGljaygpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUJ1bGtTYW5pdGl6ZSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBmaWxlc1RvUHJvY2VzcyA9IGZpbGVTdGF0ZXNcbiAgICAgIC5tYXAoKHN0YXRlLCBpbmRleCkgPT4gKHsgc3RhdGUsIGluZGV4IH0pKVxuICAgICAgLmZpbHRlcigoeyBzdGF0ZSB9KSA9PiAhc3RhdGUub3V0cHV0VXJpICYmICFzdGF0ZS5lcnJvcik7XG5cbiAgICBpZiAoZmlsZXNUb1Byb2Nlc3MubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAvLyBTZXQgYWxsIGVsaWdpYmxlIGZpbGVzIHRvIHByb2Nlc3Npbmcgc3RhdGVcbiAgICBzZXRGaWxlU3RhdGVzKHByZXYgPT4gcHJldi5tYXAoKHN0YXRlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3Qgc2hvdWxkUHJvY2VzcyA9IGZpbGVzVG9Qcm9jZXNzLnNvbWUoKHsgaW5kZXg6IHByb2Nlc3NJbmRleCB9KSA9PiBwcm9jZXNzSW5kZXggPT09IGluZGV4KTtcbiAgICAgIHJldHVybiBzaG91bGRQcm9jZXNzID8geyAuLi5zdGF0ZSwgcHJvY2Vzc2luZzogdHJ1ZSB9IDogc3RhdGU7XG4gICAgfSkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFByb2Nlc3MgZmlsZXMgd2l0aCBsaW1pdGVkIGNvbmN1cnJlbmN5XG4gICAgICBjb25zdCBtYXhDb25jdXJyZW5jeSA9IDM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzVG9Qcm9jZXNzLmxlbmd0aDsgaSArPSBtYXhDb25jdXJyZW5jeSkge1xuICAgICAgICBjb25zdCBiYXRjaCA9IGZpbGVzVG9Qcm9jZXNzLnNsaWNlKGksIGkgKyBtYXhDb25jdXJyZW5jeSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IGJhdGNoLm1hcChhc3luYyAoeyBzdGF0ZSwgaW5kZXg6IGZpbGVJbmRleCB9KSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFJlLWFuYWx5emUgdGhlIGZpbGUgdG8gZW5zdXJlIGxhc3RSZXN1bHQgaXMgc2V0IGNvcnJlY3RseSAgXG4gICAgICAgICAgICBhd2FpdCBhbmFseXplRG9jdW1lbnQoc3RhdGUuZmlsZSwgeyBwcmVzZXRJZCB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVkYWN0aW9uQWN0aW9uczogUmVkYWN0aW9uQWN0aW9uW10gPSBzdGF0ZS5kZXRlY3Rpb25zXG4gICAgICAgICAgICAgIC5maWx0ZXIoZGV0ID0+IHN0YXRlLnNlbGVjdGVkW2RldC5pZF0pXG4gICAgICAgICAgICAgIC5tYXAoZGV0ID0+ICh7XG4gICAgICAgICAgICAgICAgZGV0ZWN0aW9uSWQ6IGRldC5pZCxcbiAgICAgICAgICAgICAgICBzdHlsZTogc3RhdGUuYWN0aW9uc1tkZXQuaWRdPy5zdHlsZSB8fCAnQk9YJyxcbiAgICAgICAgICAgICAgICBsYWJlbFRleHQ6IHN0YXRlLmFjdGlvbnNbZGV0LmlkXT8ubGFiZWxUZXh0XG4gICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBwbHlSZWRhY3Rpb25zKHN0YXRlLmZpbGUsIHJlZGFjdGlvbkFjdGlvbnMsIHtcbiAgICAgICAgICAgICAgb3V0cHV0OiAnaW1hZ2UnXG4gICAgICAgICAgICB9LCBzdGF0ZS5kZXRlY3Rpb25zKTtcblxuICAgICAgICAgICAgLy8gQ29udmVydCBkYXRhIFVSSSB0byBibG9iIGZvciBkb3dubG9hZFxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZXN1bHQuZmlsZVVyaSk7XG4gICAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIGZpbGUgc3RhdGUgd2l0aCByZXN1bHRcbiAgICAgICAgICAgIHNldEZpbGVTdGF0ZXMocHJldiA9PiBwcmV2Lm1hcCgocywgaSkgPT4gXG4gICAgICAgICAgICAgIGkgPT09IGZpbGVJbmRleCA/IHsgLi4ucywgb3V0cHV0VXJpOiB1cmwsIHByZXZpZXdVcmk6IHJlc3VsdC5maWxlVXJpLCBwcm9jZXNzaW5nOiBmYWxzZSB9IDogc1xuICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgU2FuaXRpemF0aW9uIGZhaWxlZCBmb3IgJHtzdGF0ZS5maWxlLm5hbWV9OmAsIGVycm9yKTtcbiAgICAgICAgICAgIHNldEZpbGVTdGF0ZXMocHJldiA9PiBwcmV2Lm1hcCgocywgaSkgPT4gXG4gICAgICAgICAgICAgIGkgPT09IGZpbGVJbmRleCA/IHsgLi4ucywgcHJvY2Vzc2luZzogZmFsc2UsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyB9IDogc1xuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0J1bGsgc2FuaXRpemF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUJ1bGtEb3dubG9hZCA9ICgpID0+IHtcbiAgICBjb25zdCBwcm9jZXNzZWRGaWxlcyA9IGZpbGVTdGF0ZXMuZmlsdGVyKHN0YXRlID0+IHN0YXRlLm91dHB1dFVyaSk7XG4gICAgXG4gICAgaWYgKHByb2Nlc3NlZEZpbGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgLy8gRG93bmxvYWQgZWFjaCBmaWxlIGluZGl2aWR1YWxseVxuICAgIHByb2Nlc3NlZEZpbGVzLmZvckVhY2goKHN0YXRlLCBpbmRleCkgPT4ge1xuICAgICAgaWYgKHN0YXRlLm91dHB1dFVyaSkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgIGxpbmsuaHJlZiA9IHN0YXRlLm91dHB1dFVyaSE7XG4gICAgICAgICAgbGluay5kb3dubG9hZCA9IGBzYW5pdGl6ZWRfJHtzdGF0ZS5maWxlLm5hbWV9YDtcbiAgICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICAgIH0sIGluZGV4ICogMTAwKTsgLy8gU3RhZ2dlciBkb3dubG9hZHMgYnkgMTAwbXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBjdXJyZW50RmlsZVN0YXRlID0gZmlsZVN0YXRlc1tjdXJyZW50RmlsZUluZGV4XTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwLWNvbnRhaW5lclwiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiaGVhZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWNvbnRlbnRcIj5cbiAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImxvZ29cIj5cbiAgICAgICAgICAgIENsZWFuU2hhcmUgUHJvXG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5cbiAgICAgICAgICAgIHtwcmVzZXRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLXhzKScgfX0+XG4gICAgICAgICAgICAgICAgPHNlbGVjdCBcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtwcmVzZXRJZH0gXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFByZXNldElkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tc2VsZWN0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1pbldpZHRoOiAnMTgwcHgnIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3ByZXNldHMubWFwKHAgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17cC5pZH0gdmFsdWU9e3AuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIHtwLm5hbWV9IHtwLmRvbWFpbiAmJiBwLmRvbWFpbiAhPT0gJ0dlbmVyYWwnID8gYCgke3AuZG9tYWlufSlgIDogJyd9XG4gICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UHJlc2V0ID0gcHJlc2V0cy5maW5kKHAgPT4gcC5pZCA9PT0gcHJlc2V0SWQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQcmVzZXQ/LmRlc2NyaXB0aW9uID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXhzKScsIFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJywgXG4gICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6ICcyMDBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDogJzEuMidcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRQcmVzZXQuZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRQcm9VbmxvY2tlZCghcHJvVW5sb2NrZWQpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BidG4gJHtwcm9VbmxvY2tlZCA/ICdidG4tc2Vjb25kYXJ5JyA6ICdidG4tb3V0bGluZSd9IGJ0bi1zbWB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtwcm9VbmxvY2tlZCA/ICfinJMgUHJvIFVubG9ja2VkJyA6ICfwn5STIFVubG9jayBQcm8nfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICB7cHJvVW5sb2NrZWQgJiYgKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dQcmVzZXRFZGl0b3IodHJ1ZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBNYW5hZ2UgUHJlc2V0c1xuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dIaXN0b3J5RGFzaGJvYXJkKHRydWUpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICDwn5OKIEhpc3RvcnlcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICB7LyogTWFpbiBDb250ZW50ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYWluLWNvbnRlbnRcIj5cbiAgICAgICAgey8qIEZpbGUgVXBsb2FkIFNlY3Rpb24gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLXhsKScgfX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWhlYWRlclwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5VcGxvYWQgRmlsZXM8L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC1zdWJ0aXRsZVwiPlNlbGVjdCBpbWFnZXMgb3IgUERGIGRvY3VtZW50cyB0byBzYW5pdGl6ZTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmlsZS11cGxvYWQtem9uZVwiXG4gICAgICAgICAgICAgIG9uRHJvcD17aGFuZGxlRHJvcH1cbiAgICAgICAgICAgICAgb25EcmFnT3Zlcj17aGFuZGxlRHJhZ092ZXJ9XG4gICAgICAgICAgICAgIG9uRHJhZ0xlYXZlPXtoYW5kbGVEcmFnTGVhdmV9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlLWlucHV0Jyk/LmNsaWNrKCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS11cGxvYWQtaWNvblwiPvCfk4Q8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLXVwbG9hZC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgRHJvcCBmaWxlcyBoZXJlIG9yIGNsaWNrIHRvIGJyb3dzZVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLXVwbG9hZC1zdWJ0ZXh0XCI+XG4gICAgICAgICAgICAgICAgU3VwcG9ydHMgaW1hZ2VzIChKUEcsIFBORywgV2ViUCwgSEVJQywgVElGRiksIFBERnMsIGFuZCBkb2N1bWVudHMgKERPQ1gsIFhMU1gpIHVwIHRvIDEwTUIgZWFjaFxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgaWQ9XCJmaWxlLWlucHV0XCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKixhcHBsaWNhdGlvbi9wZGYsLndlYnAsLmhlaWMsLnRpZmYsLmRvY3gsLnhsc3hcIlxuICAgICAgICAgICAgICAgIG11bHRpcGxlXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctdGV4dFwiIHN0eWxlPXt7IG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLW1kKScgfX0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nLXNwaW5uZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICBQcm9jZXNzaW5nIGZpbGVzLi4uXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEZpbGUgUHJvY2Vzc2luZyBSZXN1bHRzICovfVxuICAgICAgICB7ZmlsZVN0YXRlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tc3BhY2UteGwpJyB9fT5cbiAgICAgICAgICAgIHsvKiBGaWxlIExpc3QgU2lkZWJhciAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lkZWJhclwiIHN0eWxlPXt7IG1pbldpZHRoOiAnMjUwcHgnIH19PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwic2lkZWJhci10aXRsZVwiPkZpbGVzICh7ZmlsZVN0YXRlcy5sZW5ndGh9KTwvaDM+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7LyogQnVsayBQcm9jZXNzaW5nIENvbnRyb2xzICovfVxuICAgICAgICAgICAgICB7ZmlsZVN0YXRlcy5sZW5ndGggPiAxICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJ3ZhcigtLXNwYWNlLW1kKScsIFxuICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UtbWQpJywgXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICcycHggc29saWQgdmFyKC0tY29sb3ItcHJpbWFyeSknLCBcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJ3ZhcigtLXJhZGl1cy1tZCknLCBcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS1iZy1zZWNvbmRhcnkpJyBcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT17eyBtYXJnaW46ICcwIDAgdmFyKC0tc3BhY2Utc20pIDAnLCBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknLCBmb250V2VpZ2h0OiAnNjAwJyB9fT5cbiAgICAgICAgICAgICAgICAgICAg8J+agCBCdWxrIFByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLXhzKScgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVCdWxrU2FuaXRpemV9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2ZpbGVTdGF0ZXMuc29tZShzID0+IHMucHJvY2Vzc2luZykgfHwgZmlsZVN0YXRlcy5ldmVyeShzID0+IHMub3V0cHV0VXJpKX1cbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7ZmlsZVN0YXRlcy5zb21lKHMgPT4gcy5wcm9jZXNzaW5nKSBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ1Byb2Nlc3NpbmcuLi4nIFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBmaWxlU3RhdGVzLmV2ZXJ5KHMgPT4gcy5vdXRwdXRVcmkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdBbGwgQ29tcGxldGUnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGBTYW5pdGl6ZSBBbGwgKCR7ZmlsZVN0YXRlcy5maWx0ZXIocyA9PiAhcy5vdXRwdXRVcmkgJiYgIXMuZXJyb3IpLmxlbmd0aH0pYFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIHtmaWxlU3RhdGVzLnNvbWUocyA9PiBzLm91dHB1dFVyaSkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUJ1bGtEb3dubG9hZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAg8J+TpiBEb3dubG9hZCBBbGwgKHtmaWxlU3RhdGVzLmZpbHRlcihzID0+IHMub3V0cHV0VXJpKS5sZW5ndGh9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLXhzKScsIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXhzKScsIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgQ29uY3VycmVudCBwcm9jZXNzaW5nIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmdcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLXNtKScgfX0+XG4gICAgICAgICAgICAgICAge2ZpbGVTdGF0ZXMubWFwKChzdGF0ZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudEZpbGVJbmRleChpbmRleCl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJ3ZhcigtLXNwYWNlLW1kKScsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMnB4IHNvbGlkICR7aW5kZXggPT09IGN1cnJlbnRGaWxlSW5kZXggPyAndmFyKC0tY29sb3ItcHJpbWFyeSknIDogJ3ZhcigtLWJvcmRlci1saWdodCknfWAsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAndmFyKC0tcmFkaXVzLW1kKScsXG4gICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogaW5kZXggPT09IGN1cnJlbnRGaWxlSW5kZXggPyAndmFyKC0tYmctc2Vjb25kYXJ5KScgOiAndmFyKC0tYmctcHJpbWFyeSknLFxuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgdmFyKC0tdHJhbnNpdGlvbi1mYXN0KSdcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiAnNjAwJywgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtc20pJywgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UteHMpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7c3RhdGUuZmlsZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS14cyknLCBjb2xvcjogc3RhdGUuZXJyb3IgPyAndmFyKC0tY29sb3ItZXJyb3IpJyA6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknIH19PlxuICAgICAgICAgICAgICAgICAgICAgIHtzdGF0ZS5lcnJvciA/IGBFcnJvcjogJHtzdGF0ZS5lcnJvcn1gIDogYCR7c3RhdGUuZGV0ZWN0aW9ucy5sZW5ndGh9IGRldGVjdGlvbnMgZm91bmRgfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS1zbSknLCBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLXNwYWNlLXhzKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2FuaXRpemUoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N0YXRlLnByb2Nlc3NpbmcgfHwgISFzdGF0ZS5lcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZsZXg6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGUucHJvY2Vzc2luZyA/ICdQcm9jZXNzaW5nLi4uJyA6ICdTYW5pdGl6ZSd9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAge3N0YXRlLm91dHB1dFVyaSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEb3dubG9hZChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIERvd25sb2FkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogTWFpbiBDb250ZW50IEFyZWEgKi99XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEgfX0+XG4gICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj57Y3VycmVudEZpbGVTdGF0ZS5maWxlLm5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC1zdWJ0aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlLmVycm9yID8gJ1Byb2Nlc3NpbmcgZmFpbGVkJyA6IGBGb3VuZCAke2N1cnJlbnRGaWxlU3RhdGUuZGV0ZWN0aW9ucy5sZW5ndGh9IHNlbnNpdGl2ZSBpdGVtc2B9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRGaWxlU3RhdGUuZXJyb3IgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1lcnJvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5Qcm9jZXNzaW5nIEVycm9yPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogJzAnLCBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZhaWxlZCB0byBhbmFseXplIHRoaXMgZmlsZToge2N1cnJlbnRGaWxlU3RhdGUuZXJyb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogY3VycmVudEZpbGVTdGF0ZS5kZXRlY3Rpb25zLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1tZCknLCBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1sZyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBEZXRlY3RlZCBTZW5zaXRpdmUgSW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLXNtKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlLmRldGVjdGlvbnMubWFwKGRldGVjdGlvbiA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtkZXRlY3Rpb24uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbWQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJvcmRlci1saWdodCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICd2YXIoLS1yYWRpdXMtbWQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLWJnLXNlY29uZGFyeSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50RmlsZVN0YXRlLnNlbGVjdGVkW2RldGVjdGlvbi5pZF0gfHwgZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRGaWxlU3RhdGVzKHByZXYgPT4gcHJldi5tYXAoKHN0YXRlLCBpKSA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9PT0gY3VycmVudEZpbGVJbmRleCA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUuc2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGV0ZWN0aW9uLmlkXTogZS50YXJnZXQuY2hlY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFdlaWdodDogJzYwMCcsIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXNtKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGV0ZWN0aW9uLmtpbmR9OiB7ZGV0ZWN0aW9uLnByZXZpZXcgfHwgJ04vQSd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS14cyknLCBjb2xvcjogJ3ZhcigtLXRleHQtc2Vjb25kYXJ5KScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25maWRlbmNlOiB7TWF0aC5yb3VuZChkZXRlY3Rpb24uY29uZmlkZW5jZSAqIDEwMCl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y3VycmVudEZpbGVTdGF0ZS5hY3Rpb25zW2RldGVjdGlvbi5pZF0/LnN0eWxlIHx8ICdCT1gnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRGaWxlU3RhdGVzKHByZXYgPT4gcHJldi5tYXAoKHN0YXRlLCBpKSA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPT09IGN1cnJlbnRGaWxlSW5kZXggPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUuYWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGV0ZWN0aW9uLmlkXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUuYWN0aW9uc1tkZXRlY3Rpb24uaWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGUudGFyZ2V0LnZhbHVlIGFzIFJlZGFjdGlvblN0eWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1zZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtaW5XaWR0aDogJzEyMHB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQk9YXCI+QmxhY2sgQm94PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJCTFVSXCI+Qmx1cjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiUElYRUxBVEVcIj5QaXhlbGF0ZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTEFCRUxcIj5MYWJlbDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1mb290ZXJcIiBzdHlsZT17eyBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS14bCknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2FuaXRpemUoY3VycmVudEZpbGVJbmRleCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2N1cnJlbnRGaWxlU3RhdGUucHJvY2Vzc2luZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlLnByb2Nlc3NpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctc3Bpbm5lclwiIHN0eWxlPXt7IHdpZHRoOiAnMXJlbScsIGhlaWdodDogJzFyZW0nIH19PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzaW5nLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD7wn5SSIFNhbml0aXplIERvY3VtZW50PC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlLm91dHB1dFVyaSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRG93bmxvYWQoY3VycmVudEZpbGVJbmRleCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXNlY29uZGFyeSBidG4tbGdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk6UgRG93bmxvYWQgQ2xlYW4gRmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBQcmV2aWV3IG9mIHNhbml0aXplZCBmaWxlICovfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRGaWxlU3RhdGUucHJldmlld1VyaSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAndmFyKC0tc3BhY2UteGwpJywgcGFkZGluZzogJ3ZhcigtLXNwYWNlLWxnKScsIGJhY2tncm91bmQ6ICd2YXIoLS1iZy1zZWNvbmRhcnkpJywgYm9yZGVyUmFkaXVzOiAndmFyKC0tcmFkaXVzLW1kKScsIGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1ib3JkZXItbGlnaHQpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UtbWQpJywgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtbGcpJywgY29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5SSIFNhbml0aXplZCBQcmV2aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgcGFkZGluZzogJ3ZhcigtLXNwYWNlLW1kKScsIGJhY2tncm91bmQ6ICd2YXIoLS1iZy1wcmltYXJ5KScsIGJvcmRlclJhZGl1czogJ3ZhcigtLXJhZGl1cy1tZCknLCBib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYm9yZGVyLWxpZ2h0KScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudEZpbGVTdGF0ZS5maWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2N1cnJlbnRGaWxlU3RhdGUucHJldmlld1VyaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJTYW5pdGl6ZWQgcHJldmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6ICc0MDBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICd2YXIoLS1yYWRpdXMtc20pJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJ3ZhcigtLXNoYWRvdy1tZCknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJ3ZhcigtLXNwYWNlLXhsKScsIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLTN4bCknLCBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1tZCknIH19PvCfk4Q8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5QREYgc2FuaXRpemVkIHN1Y2Nlc3NmdWxseTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknIH19PkNsaWNrIGRvd25sb2FkIHRvIHNhdmUgdGhlIGNsZWFuIGZpbGU8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5ObyBzZW5zaXRpdmUgaW5mb3JtYXRpb24gZGV0ZWN0ZWQhPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogJzAnLCBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgZG9jdW1lbnQgYXBwZWFycyB0byBiZSBjbGVhbiBhbmQgc2FmZSB0byBzaGFyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBFbmhhbmNlZCBQcmVzZXQgTWFuYWdlbWVudCBNb2RhbCAqL31cbiAgICAgICAgPFByZXNldE1hbmFnZXJcbiAgICAgICAgICBpc09wZW49e3Nob3dQcmVzZXRFZGl0b3IgJiYgcHJvVW5sb2NrZWR9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd1ByZXNldEVkaXRvcihmYWxzZSl9XG4gICAgICAgICAgY3VycmVudFByZXNldElkPXtwcmVzZXRJZH1cbiAgICAgICAgICBvblByZXNldFNlbGVjdD17KGlkKSA9PiB7XG4gICAgICAgICAgICBzZXRQcmVzZXRJZChpZCk7XG4gICAgICAgICAgICBsb2FkUHJlc2V0cygpOyAvLyBSZWZyZXNoIHByZXNldHMgbGlzdCBpbiBjYXNlIG5ldyBvbmVzIHdlcmUgY3JlYXRlZFxuICAgICAgICAgICAgc2V0U2hvd1ByZXNldEVkaXRvcihmYWxzZSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cblxuICAgICAgICB7LyogUHJvY2Vzc2luZyBIaXN0b3J5IERhc2hib2FyZCAqL31cbiAgICAgICAgPEhpc3RvcnlEYXNoYm9hcmRcbiAgICAgICAgICBpc09wZW49e3Nob3dIaXN0b3J5RGFzaGJvYXJkICYmIHByb1VubG9ja2VkfVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dIaXN0b3J5RGFzaGJvYXJkKGZhbHNlKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiYW5hbHl6ZURvY3VtZW50IiwiYXBwbHlSZWRhY3Rpb25zIiwic3RhcnRTZXNzaW9uIiwiZW5kU2Vzc2lvbiIsInN0YXJ0RmlsZVByb2Nlc3NpbmciLCJyZWNvcmRBbmFseXNpc1Jlc3VsdHMiLCJyZWNvcmRSZWRhY3Rpb25SZXN1bHRzIiwiUHJlc2V0TWFuYWdlciIsIkhpc3RvcnlEYXNoYm9hcmQiLCJ1c2VVbmRvUmVkbyIsImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJGcmFnbWVudCIsIl9GcmFnbWVudCIsIkNsZWFuU2hhcmVQcm8iLCJfcyIsImZpbGVzIiwic2V0RmlsZXMiLCJmaWxlU3RhdGVzIiwic2V0RmlsZVN0YXRlcyIsImN1cnJlbnRGaWxlSW5kZXgiLCJzZXRDdXJyZW50RmlsZUluZGV4IiwicHJlc2V0cyIsInNldFByZXNldHMiLCJwcmVzZXRJZCIsInNldFByZXNldElkIiwibG9hZGluZyIsInNldExvYWRpbmciLCJwcm9VbmxvY2tlZCIsInNldFByb1VubG9ja2VkIiwic2hvd1ByZXNldEVkaXRvciIsInNldFNob3dQcmVzZXRFZGl0b3IiLCJzaG93SGlzdG9yeURhc2hib2FyZCIsInNldFNob3dIaXN0b3J5RGFzaGJvYXJkIiwic2hvd1VuZG9SZWRvTWFuYWdlciIsInNldFNob3dVbmRvUmVkb01hbmFnZXIiLCJjdXJyZW50U2Vzc2lvbklkIiwic2V0Q3VycmVudFNlc3Npb25JZCIsImZpbGVQcm9jZXNzaW5nUmVjb3JkcyIsInNldEZpbGVQcm9jZXNzaW5nUmVjb3JkcyIsIk1hcCIsInVuZG9SZWRvU3lzdGVtIiwibWF4SGlzdG9yeVNpemUiLCJ1cGRhdGVGaWxlU3RhdGVzIiwibmV3U3RhdGVzIiwiYWN0aW9uVHlwZSIsImRlc2NyaXB0aW9uIiwib2xkU3RhdGVzIiwiZXhlY3V0ZSIsImxvYWRQcmVzZXRzIiwidGhlbiIsImxpc3RQcmVzZXRzIiwicHMiLCJsZW5ndGgiLCJpZCIsInByb2Nlc3NGaWxlcyIsImN1cnJlbnRQcmVzZXQiLCJmaW5kIiwicCIsInNlc3Npb25JZCIsInRvdGFsRmlsZXMiLCJwcmVzZXROYW1lIiwibmFtZSIsImFuYWx5emVPcHRpb25zIiwicHJvY2Vzc2luZ1JlY29yZHMiLCJpIiwiZmlsZSIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJyZWNvcmRJZCIsImZpbGVOYW1lIiwiZmlsZVNpemUiLCJzaXplIiwiZmlsZVR5cGUiLCJ0eXBlIiwic2V0IiwicmVzdWx0IiwiYW5hbHlzaXNUaW1lIiwiZGV0ZWN0aW9ucyIsImRldGVjdGlvblRpbWUiLCJzZWxlY3RlZCIsImFjdGlvbnMiLCJmb3JFYWNoIiwiZGV0Iiwic3R5bGUiLCJwdXNoIiwicGFnZXMiLCJwYWdlSW1hZ2VzIiwiY3VycmVudFBhZ2UiLCJwcm9jZXNzaW5nIiwiZXJyb3IiLCJjb25zb2xlIiwiRXJyb3IiLCJtZXNzYWdlIiwiaGFuZGxlRmlsZUNoYW5nZSIsImUiLCJzZWxlY3RlZEZpbGVzIiwiQXJyYXkiLCJmcm9tIiwidGFyZ2V0IiwiaGFuZGxlRHJvcCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZHJvcHBlZEZpbGVzIiwiZGF0YVRyYW5zZmVyIiwiaGFuZGxlRHJhZ092ZXIiLCJoYW5kbGVEcmFnTGVhdmUiLCJoYW5kbGVTYW5pdGl6ZSIsImZpbGVJbmRleCIsImZpbGVTdGF0ZSIsInByZXYiLCJtYXAiLCJzdGF0ZSIsInJlZGFjdGlvblN0YXJ0VGltZSIsImdldCIsInJlZGFjdGlvbkFjdGlvbnMiLCJmaWx0ZXIiLCJkZXRlY3Rpb25JZCIsImxhYmVsVGV4dCIsIm91dHB1dCIsInJlc3BvbnNlIiwiZmV0Y2giLCJmaWxlVXJpIiwiYmxvYiIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJlZGFjdGlvblRpbWUiLCJhcHBsaWVkUmVkYWN0aW9ucyIsIm91dHB1dFNpemUiLCJvdXRwdXRVcmkiLCJwcmV2aWV3VXJpIiwiYWxlcnQiLCJoYW5kbGVEb3dubG9hZCIsImxpbmsiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiZG93bmxvYWQiLCJjbGljayIsImhhbmRsZUJ1bGtTYW5pdGl6ZSIsImZpbGVzVG9Qcm9jZXNzIiwiaW5kZXgiLCJzaG91bGRQcm9jZXNzIiwic29tZSIsInByb2Nlc3NJbmRleCIsIm1heENvbmN1cnJlbmN5IiwiYmF0Y2giLCJzbGljZSIsInByb21pc2VzIiwicyIsIlByb21pc2UiLCJhbGwiLCJoYW5kbGVCdWxrRG93bmxvYWQiLCJwcm9jZXNzZWRGaWxlcyIsInNldFRpbWVvdXQiLCJjdXJyZW50RmlsZVN0YXRlIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImdhcCIsImZsZXhEaXJlY3Rpb24iLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwibWluV2lkdGgiLCJkb21haW4iLCJmb250U2l6ZSIsImNvbG9yIiwibWF4V2lkdGgiLCJsaW5lSGVpZ2h0Iiwib25DbGljayIsIm1hcmdpbkJvdHRvbSIsIm9uRHJvcCIsIm9uRHJhZ092ZXIiLCJvbkRyYWdMZWF2ZSIsImdldEVsZW1lbnRCeUlkIiwiYWNjZXB0IiwibXVsdGlwbGUiLCJtYXJnaW5Ub3AiLCJwYWRkaW5nIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiYmFja2dyb3VuZCIsIm1hcmdpbiIsImZvbnRXZWlnaHQiLCJkaXNhYmxlZCIsImV2ZXJ5Iiwid2lkdGgiLCJjdXJzb3IiLCJ0cmFuc2l0aW9uIiwiZmxleCIsImRldGVjdGlvbiIsImp1c3RpZnlDb250ZW50IiwiY2hlY2tlZCIsImtpbmQiLCJwcmV2aWV3IiwiTWF0aCIsInJvdW5kIiwiY29uZmlkZW5jZSIsImhlaWdodCIsInN0YXJ0c1dpdGgiLCJzcmMiLCJhbHQiLCJtYXhIZWlnaHQiLCJib3hTaGFkb3ciLCJ0ZXh0QWxpZ24iLCJpc09wZW4iLCJvbkNsb3NlIiwiY3VycmVudFByZXNldElkIiwib25QcmVzZXRTZWxlY3QiLCJfYyIsIiRSZWZyZXNoUmVnJCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/index.tsx\n"));

/***/ }),

/***/ "./src/hooks/useUndoRedo.ts":
/*!**********************************!*\
  !*** ./src/hooks/useUndoRedo.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useUndoRedo: function() { return /* binding */ useUndoRedo; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar _s = $RefreshSig$();\n\nfunction useUndoRedo(initialState, options = {}) {\n  _s();\n  const {\n    maxHistorySize = 50,\n    debounceMs = 300\n  } = options;\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    current: initialState,\n    history: [],\n    currentIndex: -1,\n    canUndo: false,\n    canRedo: false\n  });\n  const debounceTimer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const pendingAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const updateState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((newCurrent, newHistory, newIndex) => {\n    setState({\n      current: newCurrent,\n      history: newHistory,\n      currentIndex: newIndex,\n      canUndo: newIndex >= 0,\n      canRedo: newIndex < newHistory.length - 1\n    });\n  }, []);\n  const executeAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(action => {\n    const newCurrent = action.redo();\n    const newHistory = [...state.history.slice(0, state.currentIndex + 1), action];\n\n    // Limit history size\n    if (newHistory.length > maxHistorySize) {\n      newHistory.shift();\n    }\n    const newIndex = newHistory.length - 1;\n    updateState(newCurrent, newHistory, newIndex);\n    return newCurrent;\n  }, [state.history, state.currentIndex, maxHistorySize, updateState]);\n  const executeWithDebounce = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(action => {\n    if (debounceTimer.current) {\n      clearTimeout(debounceTimer.current);\n    }\n    pendingAction.current = action;\n    debounceTimer.current = setTimeout(() => {\n      if (pendingAction.current) {\n        executeAction(pendingAction.current);\n        pendingAction.current = null;\n      }\n    }, debounceMs);\n\n    // Execute immediately but store for potential debouncing\n    return action.redo();\n  }, [debounceMs, executeAction]);\n  const execute = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((type, description, undoFn, redoFn, options = {}) => {\n    const action = {\n      type,\n      description,\n      timestamp: Date.now(),\n      undo: undoFn,\n      redo: redoFn\n    };\n    if (options.debounce && !options.immediate) {\n      return executeWithDebounce(action);\n    } else {\n      return executeAction(action);\n    }\n  }, [executeAction, executeWithDebounce]);\n  const undo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (state.canUndo && state.currentIndex >= 0) {\n      const action = state.history[state.currentIndex];\n      const newCurrent = action.undo();\n      const newIndex = state.currentIndex - 1;\n\n      // Update the current state without adding to history\n      setState(prev => ({\n        ...prev,\n        current: newCurrent,\n        currentIndex: newIndex,\n        canUndo: newIndex >= 0,\n        canRedo: true\n      }));\n      return newCurrent;\n    }\n    return state.current;\n  }, [state]);\n  const redo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (state.canRedo && state.currentIndex < state.history.length - 1) {\n      const nextIndex = state.currentIndex + 1;\n      const action = state.history[nextIndex];\n      const newCurrent = action.redo();\n\n      // Update the current state without adding to history\n      setState(prev => ({\n        ...prev,\n        current: newCurrent,\n        currentIndex: nextIndex,\n        canUndo: true,\n        canRedo: nextIndex < prev.history.length - 1\n      }));\n      return newCurrent;\n    }\n    return state.current;\n  }, [state]);\n  const clearHistory = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    updateState(state.current, [], -1);\n  }, [state.current, updateState]);\n  const getHistoryPreview = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((maxItems = 10) => {\n    const items = [];\n    const start = Math.max(0, state.currentIndex - maxItems + 1);\n    for (let i = start; i <= Math.min(state.currentIndex + maxItems, state.history.length - 1); i++) {\n      const action = state.history[i];\n      if (action) {\n        items.push({\n          index: i,\n          type: action.type,\n          description: action.description,\n          timestamp: action.timestamp,\n          isCurrent: i === state.currentIndex,\n          canRevert: i <= state.currentIndex\n        });\n      }\n    }\n    return items;\n  }, [state.history, state.currentIndex]);\n  const jumpToIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(targetIndex => {\n    if (targetIndex < -1 || targetIndex >= state.history.length) return state.current;\n    let newCurrent = state.current;\n    if (targetIndex > state.currentIndex) {\n      // Redo to target\n      for (let i = state.currentIndex + 1; i <= targetIndex; i++) {\n        newCurrent = state.history[i].redo();\n      }\n    } else if (targetIndex < state.currentIndex) {\n      // Undo to target\n      for (let i = state.currentIndex; i > targetIndex; i--) {\n        newCurrent = state.history[i].undo();\n      }\n    }\n    setState(prev => ({\n      ...prev,\n      current: newCurrent,\n      currentIndex: targetIndex,\n      canUndo: targetIndex >= 0,\n      canRedo: targetIndex < prev.history.length - 1\n    }));\n    return newCurrent;\n  }, [state]);\n  return {\n    // Current state\n    current: state.current,\n    // Actions\n    execute,\n    undo,\n    redo,\n    clearHistory,\n    jumpToIndex,\n    // State queries\n    canUndo: state.canUndo,\n    canRedo: state.canRedo,\n    // History inspection\n    history: state.history,\n    currentIndex: state.currentIndex,\n    getHistoryPreview\n  };\n}\n_s(useUndoRedo, \"FOtoGq8FlalWCAlA5gn0DN3avQc=\");\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ3RCQyxZQUFZLEVBQUVKLEtBQUssQ0FBQ0ksWUFBWTtJQUNoQ2dDO0VBQ0YsQ0FBQztBQUNIO0FBQUN2QyxFQUFBLENBbk1lSCxXQUFXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9ob29rcy91c2VVbmRvUmVkby50cz8xZTg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVuZG9SZWRvQWN0aW9uPFQ+IHtcbiAgdHlwZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgdW5kbzogKCkgPT4gVDtcbiAgcmVkbzogKCkgPT4gVDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbmRvUmVkb1N0YXRlPFQ+IHtcbiAgY3VycmVudDogVDtcbiAgaGlzdG9yeTogVW5kb1JlZG9BY3Rpb248VD5bXTtcbiAgY3VycmVudEluZGV4OiBudW1iZXI7XG4gIGNhblVuZG86IGJvb2xlYW47XG4gIGNhblJlZG86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBVc2VVbmRvUmVkb09wdGlvbnMge1xuICBtYXhIaXN0b3J5U2l6ZT86IG51bWJlcjtcbiAgZGVib3VuY2VNcz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVVuZG9SZWRvPFQ+KFxuICBpbml0aWFsU3RhdGU6IFQsXG4gIG9wdGlvbnM6IFVzZVVuZG9SZWRvT3B0aW9ucyA9IHt9XG4pIHtcbiAgY29uc3QgeyBtYXhIaXN0b3J5U2l6ZSA9IDUwLCBkZWJvdW5jZU1zID0gMzAwIH0gPSBvcHRpb25zO1xuICBcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZTxVbmRvUmVkb1N0YXRlPFQ+Pih7XG4gICAgY3VycmVudDogaW5pdGlhbFN0YXRlLFxuICAgIGhpc3Rvcnk6IFtdLFxuICAgIGN1cnJlbnRJbmRleDogLTEsXG4gICAgY2FuVW5kbzogZmFsc2UsXG4gICAgY2FuUmVkbzogZmFsc2VcbiAgfSk7XG4gIFxuICBjb25zdCBkZWJvdW5jZVRpbWVyID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHBlbmRpbmdBY3Rpb24gPSB1c2VSZWY8VW5kb1JlZG9BY3Rpb248VD4gfCBudWxsPihudWxsKTtcblxuICBjb25zdCB1cGRhdGVTdGF0ZSA9IHVzZUNhbGxiYWNrKChuZXdDdXJyZW50OiBULCBuZXdIaXN0b3J5OiBVbmRvUmVkb0FjdGlvbjxUPltdLCBuZXdJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgc2V0U3RhdGUoe1xuICAgICAgY3VycmVudDogbmV3Q3VycmVudCxcbiAgICAgIGhpc3Rvcnk6IG5ld0hpc3RvcnksXG4gICAgICBjdXJyZW50SW5kZXg6IG5ld0luZGV4LFxuICAgICAgY2FuVW5kbzogbmV3SW5kZXggPj0gMCxcbiAgICAgIGNhblJlZG86IG5ld0luZGV4IDwgbmV3SGlzdG9yeS5sZW5ndGggLSAxXG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBleGVjdXRlQWN0aW9uID0gdXNlQ2FsbGJhY2soKGFjdGlvbjogVW5kb1JlZG9BY3Rpb248VD4pID0+IHtcbiAgICBjb25zdCBuZXdDdXJyZW50ID0gYWN0aW9uLnJlZG8oKTtcbiAgICBjb25zdCBuZXdIaXN0b3J5ID0gWy4uLnN0YXRlLmhpc3Rvcnkuc2xpY2UoMCwgc3RhdGUuY3VycmVudEluZGV4ICsgMSksIGFjdGlvbl07XG4gICAgXG4gICAgLy8gTGltaXQgaGlzdG9yeSBzaXplXG4gICAgaWYgKG5ld0hpc3RvcnkubGVuZ3RoID4gbWF4SGlzdG9yeVNpemUpIHtcbiAgICAgIG5ld0hpc3Rvcnkuc2hpZnQoKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmV3SW5kZXggPSBuZXdIaXN0b3J5Lmxlbmd0aCAtIDE7XG4gICAgdXBkYXRlU3RhdGUobmV3Q3VycmVudCwgbmV3SGlzdG9yeSwgbmV3SW5kZXgpO1xuICAgIFxuICAgIHJldHVybiBuZXdDdXJyZW50O1xuICB9LCBbc3RhdGUuaGlzdG9yeSwgc3RhdGUuY3VycmVudEluZGV4LCBtYXhIaXN0b3J5U2l6ZSwgdXBkYXRlU3RhdGVdKTtcblxuICBjb25zdCBleGVjdXRlV2l0aERlYm91bmNlID0gdXNlQ2FsbGJhY2soKGFjdGlvbjogVW5kb1JlZG9BY3Rpb248VD4pID0+IHtcbiAgICBpZiAoZGVib3VuY2VUaW1lci5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lci5jdXJyZW50KTtcbiAgICB9XG5cbiAgICBwZW5kaW5nQWN0aW9uLmN1cnJlbnQgPSBhY3Rpb247XG4gICAgXG4gICAgZGVib3VuY2VUaW1lci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0FjdGlvbi5jdXJyZW50KSB7XG4gICAgICAgIGV4ZWN1dGVBY3Rpb24ocGVuZGluZ0FjdGlvbi5jdXJyZW50KTtcbiAgICAgICAgcGVuZGluZ0FjdGlvbi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LCBkZWJvdW5jZU1zKTtcblxuICAgIC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgYnV0IHN0b3JlIGZvciBwb3RlbnRpYWwgZGVib3VuY2luZ1xuICAgIHJldHVybiBhY3Rpb24ucmVkbygpO1xuICB9LCBbZGVib3VuY2VNcywgZXhlY3V0ZUFjdGlvbl0pO1xuXG4gIGNvbnN0IGV4ZWN1dGUgPSB1c2VDYWxsYmFjaygoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgdW5kb0ZuOiAoKSA9PiBULFxuICAgIHJlZG9GbjogKCkgPT4gVCxcbiAgICBvcHRpb25zOiB7IGltbWVkaWF0ZT86IGJvb2xlYW47IGRlYm91bmNlPzogYm9vbGVhbiB9ID0ge31cbiAgKTogVCA9PiB7XG4gICAgY29uc3QgYWN0aW9uOiBVbmRvUmVkb0FjdGlvbjxUPiA9IHtcbiAgICAgIHR5cGUsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIHVuZG86IHVuZG9GbixcbiAgICAgIHJlZG86IHJlZG9GblxuICAgIH07XG5cbiAgICBpZiAob3B0aW9ucy5kZWJvdW5jZSAmJiAhb3B0aW9ucy5pbW1lZGlhdGUpIHtcbiAgICAgIHJldHVybiBleGVjdXRlV2l0aERlYm91bmNlKGFjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBleGVjdXRlQWN0aW9uKGFjdGlvbik7XG4gICAgfVxuICB9LCBbZXhlY3V0ZUFjdGlvbiwgZXhlY3V0ZVdpdGhEZWJvdW5jZV0pO1xuXG4gIGNvbnN0IHVuZG8gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHN0YXRlLmNhblVuZG8gJiYgc3RhdGUuY3VycmVudEluZGV4ID49IDApIHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IHN0YXRlLmhpc3Rvcnlbc3RhdGUuY3VycmVudEluZGV4XTtcbiAgICAgIGNvbnN0IG5ld0N1cnJlbnQgPSBhY3Rpb24udW5kbygpO1xuICAgICAgY29uc3QgbmV3SW5kZXggPSBzdGF0ZS5jdXJyZW50SW5kZXggLSAxO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdGhlIGN1cnJlbnQgc3RhdGUgd2l0aG91dCBhZGRpbmcgdG8gaGlzdG9yeVxuICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBjdXJyZW50OiBuZXdDdXJyZW50LFxuICAgICAgICBjdXJyZW50SW5kZXg6IG5ld0luZGV4LFxuICAgICAgICBjYW5VbmRvOiBuZXdJbmRleCA+PSAwLFxuICAgICAgICBjYW5SZWRvOiB0cnVlXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIHJldHVybiBuZXdDdXJyZW50O1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUuY3VycmVudDtcbiAgfSwgW3N0YXRlXSk7XG5cbiAgY29uc3QgcmVkbyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoc3RhdGUuY2FuUmVkbyAmJiBzdGF0ZS5jdXJyZW50SW5kZXggPCBzdGF0ZS5oaXN0b3J5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIGNvbnN0IG5leHRJbmRleCA9IHN0YXRlLmN1cnJlbnRJbmRleCArIDE7XG4gICAgICBjb25zdCBhY3Rpb24gPSBzdGF0ZS5oaXN0b3J5W25leHRJbmRleF07XG4gICAgICBjb25zdCBuZXdDdXJyZW50ID0gYWN0aW9uLnJlZG8oKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHRoZSBjdXJyZW50IHN0YXRlIHdpdGhvdXQgYWRkaW5nIHRvIGhpc3RvcnlcbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgY3VycmVudDogbmV3Q3VycmVudCxcbiAgICAgICAgY3VycmVudEluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgIGNhblVuZG86IHRydWUsXG4gICAgICAgIGNhblJlZG86IG5leHRJbmRleCA8IHByZXYuaGlzdG9yeS5sZW5ndGggLSAxXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIHJldHVybiBuZXdDdXJyZW50O1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUuY3VycmVudDtcbiAgfSwgW3N0YXRlXSk7XG5cbiAgY29uc3QgY2xlYXJIaXN0b3J5ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHVwZGF0ZVN0YXRlKHN0YXRlLmN1cnJlbnQsIFtdLCAtMSk7XG4gIH0sIFtzdGF0ZS5jdXJyZW50LCB1cGRhdGVTdGF0ZV0pO1xuXG4gIGNvbnN0IGdldEhpc3RvcnlQcmV2aWV3ID0gdXNlQ2FsbGJhY2soKG1heEl0ZW1zOiBudW1iZXIgPSAxMCkgPT4ge1xuICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgY29uc3Qgc3RhcnQgPSBNYXRoLm1heCgwLCBzdGF0ZS5jdXJyZW50SW5kZXggLSBtYXhJdGVtcyArIDEpO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBNYXRoLm1pbihzdGF0ZS5jdXJyZW50SW5kZXggKyBtYXhJdGVtcywgc3RhdGUuaGlzdG9yeS5sZW5ndGggLSAxKTsgaSsrKSB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBzdGF0ZS5oaXN0b3J5W2ldO1xuICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICB0eXBlOiBhY3Rpb24udHlwZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHRpbWVzdGFtcDogYWN0aW9uLnRpbWVzdGFtcCxcbiAgICAgICAgICBpc0N1cnJlbnQ6IGkgPT09IHN0YXRlLmN1cnJlbnRJbmRleCxcbiAgICAgICAgICBjYW5SZXZlcnQ6IGkgPD0gc3RhdGUuY3VycmVudEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gaXRlbXM7XG4gIH0sIFtzdGF0ZS5oaXN0b3J5LCBzdGF0ZS5jdXJyZW50SW5kZXhdKTtcblxuICBjb25zdCBqdW1wVG9JbmRleCA9IHVzZUNhbGxiYWNrKCh0YXJnZXRJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHRhcmdldEluZGV4IDwgLTEgfHwgdGFyZ2V0SW5kZXggPj0gc3RhdGUuaGlzdG9yeS5sZW5ndGgpIHJldHVybiBzdGF0ZS5jdXJyZW50O1xuICAgIFxuICAgIGxldCBuZXdDdXJyZW50ID0gc3RhdGUuY3VycmVudDtcbiAgICBcbiAgICBpZiAodGFyZ2V0SW5kZXggPiBzdGF0ZS5jdXJyZW50SW5kZXgpIHtcbiAgICAgIC8vIFJlZG8gdG8gdGFyZ2V0XG4gICAgICBmb3IgKGxldCBpID0gc3RhdGUuY3VycmVudEluZGV4ICsgMTsgaSA8PSB0YXJnZXRJbmRleDsgaSsrKSB7XG4gICAgICAgIG5ld0N1cnJlbnQgPSBzdGF0ZS5oaXN0b3J5W2ldLnJlZG8oKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRhcmdldEluZGV4IDwgc3RhdGUuY3VycmVudEluZGV4KSB7XG4gICAgICAvLyBVbmRvIHRvIHRhcmdldFxuICAgICAgZm9yIChsZXQgaSA9IHN0YXRlLmN1cnJlbnRJbmRleDsgaSA+IHRhcmdldEluZGV4OyBpLS0pIHtcbiAgICAgICAgbmV3Q3VycmVudCA9IHN0YXRlLmhpc3RvcnlbaV0udW5kbygpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgY3VycmVudDogbmV3Q3VycmVudCxcbiAgICAgIGN1cnJlbnRJbmRleDogdGFyZ2V0SW5kZXgsXG4gICAgICBjYW5VbmRvOiB0YXJnZXRJbmRleCA+PSAwLFxuICAgICAgY2FuUmVkbzogdGFyZ2V0SW5kZXggPCBwcmV2Lmhpc3RvcnkubGVuZ3RoIC0gMVxuICAgIH0pKTtcbiAgICBcbiAgICByZXR1cm4gbmV3Q3VycmVudDtcbiAgfSwgW3N0YXRlXSk7XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBDdXJyZW50IHN0YXRlXG4gICAgY3VycmVudDogc3RhdGUuY3VycmVudCxcbiAgICBcbiAgICAvLyBBY3Rpb25zXG4gICAgZXhlY3V0ZSxcbiAgICB1bmRvLFxuICAgIHJlZG8sXG4gICAgY2xlYXJIaXN0b3J5LFxuICAgIGp1bXBUb0luZGV4LFxuICAgIFxuICAgIC8vIFN0YXRlIHF1ZXJpZXNcbiAgICBjYW5VbmRvOiBzdGF0ZS5jYW5VbmRvLFxuICAgIGNhblJlZG86IHN0YXRlLmNhblJlZG8sXG4gICAgXG4gICAgLy8gSGlzdG9yeSBpbnNwZWN0aW9uXG4gICAgaGlzdG9yeTogc3RhdGUuaGlzdG9yeSxcbiAgICBjdXJyZW50SW5kZXg6IHN0YXRlLmN1cnJlbnRJbmRleCxcbiAgICBnZXRIaXN0b3J5UHJldmlld1xuICB9O1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlUmVmIiwidXNlVW5kb1JlZG8iLCJpbml0aWFsU3RhdGUiLCJvcHRpb25zIiwiX3MiLCJtYXhIaXN0b3J5U2l6ZSIsImRlYm91bmNlTXMiLCJzdGF0ZSIsInNldFN0YXRlIiwiY3VycmVudCIsImhpc3RvcnkiLCJjdXJyZW50SW5kZXgiLCJjYW5VbmRvIiwiY2FuUmVkbyIsImRlYm91bmNlVGltZXIiLCJwZW5kaW5nQWN0aW9uIiwidXBkYXRlU3RhdGUiLCJuZXdDdXJyZW50IiwibmV3SGlzdG9yeSIsIm5ld0luZGV4IiwibGVuZ3RoIiwiZXhlY3V0ZUFjdGlvbiIsImFjdGlvbiIsInJlZG8iLCJzbGljZSIsInNoaWZ0IiwiZXhlY3V0ZVdpdGhEZWJvdW5jZSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJleGVjdXRlIiwidHlwZSIsImRlc2NyaXB0aW9uIiwidW5kb0ZuIiwicmVkb0ZuIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInVuZG8iLCJkZWJvdW5jZSIsImltbWVkaWF0ZSIsInByZXYiLCJuZXh0SW5kZXgiLCJjbGVhckhpc3RvcnkiLCJnZXRIaXN0b3J5UHJldmlldyIsIm1heEl0ZW1zIiwiaXRlbXMiLCJzdGFydCIsIk1hdGgiLCJtYXgiLCJpIiwibWluIiwicHVzaCIsImluZGV4IiwiaXNDdXJyZW50IiwiY2FuUmV2ZXJ0IiwianVtcFRvSW5kZXgiLCJ0YXJnZXRJbmRleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/hooks/useUndoRedo.ts\n"));

/***/ })

});