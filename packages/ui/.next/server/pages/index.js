/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"react/jsx-runtime\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction App({\n  Component,\n  pageProps\n}) {\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    // Initialize any global app state here\n    console.log('CleanShare Pro UI initialized');\n  }, []);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Component, {\n    ...pageProps\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNpQztBQUFBO0FBRWxCLFNBQVNHLEdBQUdBLENBQUM7RUFBRUMsU0FBUztFQUFFQztBQUFvQixDQUFDLEVBQUU7RUFDOURMLGdEQUFTLENBQUMsTUFBTTtJQUNkO0lBQ0FNLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLCtCQUErQixDQUFDO0VBQzlDLENBQUMsRUFBRSxFQUFFLENBQUM7RUFFTixvQkFBT0wsc0RBQUEsQ0FBQ0UsU0FBUztJQUFBLEdBQUtDO0VBQVMsQ0FBRyxDQUFDO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNsZWFuc2hhcmUvdWkvLi9wYWdlcy9fYXBwLnRzeD8yZmJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQXBwUHJvcHMgfSBmcm9tICduZXh0L2FwcCdcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9OiBBcHBQcm9wcykge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEluaXRpYWxpemUgYW55IGdsb2JhbCBhcHAgc3RhdGUgaGVyZVxuICAgIGNvbnNvbGUubG9nKCdDbGVhblNoYXJlIFBybyBVSSBpbml0aWFsaXplZCcpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwianN4IiwiX2pzeCIsIkFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @cleanshare/core-detect */ \"../core-detect/dist/index.js\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jszip */ \"jszip\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pdfjs-dist */ \"pdfjs-dist\");\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ \"react/jsx-runtime\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_4__]);\n_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// Main CleanShare Pro UI component\n\n\n\n\n\n// Configure pdfjs worker when running in the browser.  Without this,\n// pdfjs will attempt to load a worker script from the wrong path.  We\n// require the worker via webpack/Next.js which exposes a proper\n// module.  If this import fails silently (e.g., SSR), the default\n// worker may still be used.\n\ntry {\n  // eslint-disable-next-line @typescript-eslint/no-var-requires\n  const workerSrc = __webpack_require__(/*! pdfjs-dist/build/pdf.worker.js */ \"pdfjs-dist/build/pdf.worker.js\");\n  // @ts-ignore\n  pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.GlobalWorkerOptions.workerSrc = workerSrc;\n} catch (e) {\n  // ignore in SSR or test environments\n}\n\n/** Helper to load a PDF file and return an array of Data URLs for each page. */\nasync function loadPdfPages(file) {\n  const buffer = await file.arrayBuffer();\n  const pdf = await pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.getDocument({\n    data: buffer\n  }).promise;\n  const pages = [];\n  for (let i = 1; i <= pdf.numPages; i++) {\n    const page = await pdf.getPage(i);\n    const viewport = page.getViewport({\n      scale: 1.0\n    });\n    const canvas = document.createElement('canvas');\n    canvas.width = viewport.width;\n    canvas.height = viewport.height;\n    const context = canvas.getContext('2d');\n    if (!context) {\n      pages.push('');\n      continue;\n    }\n    const renderContext = {\n      canvasContext: context,\n      viewport\n    };\n    await page.render(renderContext).promise;\n    pages.push(canvas.toDataURL());\n  }\n  return pages;\n}\n\n/** Convert a Data URI to a Uint8Array for binary blobs. */\nfunction dataURIToUint8Array(dataURI) {\n  const parts = dataURI.split(',');\n  const base64String = parts[1];\n  const binaryString = atob(base64String);\n  const len = binaryString.length;\n  const bytes = new Uint8Array(len);\n  for (let i = 0; i < len; i++) {\n    bytes[i] = binaryString.charCodeAt(i);\n  }\n  return bytes;\n}\n\n/** File state structure for each selected file. */\n\nfunction Home() {\n  const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [fileStates, setFileStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [currentFileIndex, setCurrentFileIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [presets, setPresets] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [presetId, setPresetId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [exporting, setExporting] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [zipUrl, setZipUrl] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [reportUrl, setReportUrl] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n\n  // Pro gating.  Some features such as preset editing are locked behind a\n  // simple “Pro” toggle.  In a real app this would be tied to a purchase or\n  // subscription.  For demonstration it is a boolean state.\n  const [proUnlocked, setProUnlocked] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  // Preset editor state.  When showPresetEditor is true the UI displays a\n  // management view where the user can create, edit, and delete presets.\n  const [showPresetEditor, setShowPresetEditor] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [editingPreset, setEditingPreset] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n\n  // Define the list of all possible detection kinds and redaction styles.\n  const DETECTION_KINDS = ['FACE', 'EMAIL', 'PHONE', 'PAN', 'IBAN', 'SSN', 'JWT', 'API_KEY', 'BARCODE', 'NAME', 'ADDRESS', 'OTHER'];\n  const STYLE_OPTIONS = ['BOX', 'BLUR', 'PIXELATE', 'LABEL', 'MASK_LAST4'];\n\n  // Load presets on mount\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const ps = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_4__.listPresets)();\n    setPresets(ps);\n    // default to the first preset\n    if (ps.length > 0) {\n      setPresetId(ps[0].id);\n    }\n  }, []);\n\n  // Analyse files when they change or when preset changes\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (files.length === 0) return;\n    let isCancelled = false;\n    async function analyseAll() {\n      setLoading(true);\n      const newStates = [];\n      for (const file of files) {\n        try {\n          const result = await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_4__.analyzeDocument)(file, {\n            presetId\n          });\n          // Initialise selections and actions\n          const sel = {};\n          const act = {};\n          result.detections.forEach(det => {\n            sel[det.id] = true;\n            act[det.id] = {\n              style: 'BOX'\n            };\n          });\n          let pageImages = [];\n          let pages = result.pages || 1;\n          if (file.type === 'application/pdf') {\n            try {\n              pageImages = await loadPdfPages(file);\n              pages = pageImages.length;\n            } catch (err) {\n              // fallback: leave empty; preview will show nothing\n              pageImages = [];\n            }\n          } else {\n            // For images use a single preview via Object URL\n            pageImages = [URL.createObjectURL(file)];\n            pages = 1;\n          }\n          if (!isCancelled) {\n            newStates.push({\n              file,\n              detections: result.detections,\n              selected: sel,\n              actions: act,\n              pages,\n              pageImages,\n              currentPage: 0,\n              outputUri: undefined,\n              report: undefined\n            });\n          }\n        } catch (err) {\n          console.error(err);\n        }\n      }\n      if (!isCancelled) {\n        setFileStates(newStates);\n        setCurrentFileIndex(0);\n        setLoading(false);\n      }\n    }\n    analyseAll();\n    return () => {\n      isCancelled = true;\n    };\n  }, [files, presetId]);\n\n  /** Handle change of file input */\n  function onFilesChange(e) {\n    const selected = e.target.files;\n    if (!selected || selected.length === 0) return;\n    const arr = Array.from(selected);\n    setFiles(arr);\n    // reset previous exported data\n    setZipUrl(null);\n    setReportUrl(null);\n  }\n\n  /** Toggle a detection on or off */\n  function toggleDetection(detId) {\n    setFileStates(prev => {\n      const copy = [...prev];\n      const fs = copy[currentFileIndex];\n      fs.selected[detId] = !fs.selected[detId];\n      return copy;\n    });\n  }\n\n  /** Change the redaction style for a detection */\n  function changeStyle(detId, style) {\n    setFileStates(prev => {\n      const copy = [...prev];\n      const fs = copy[currentFileIndex];\n      fs.actions[detId].style = style;\n      // Clear label text when style changes away from LABEL\n      if (style !== 'LABEL') {\n        delete fs.actions[detId].labelText;\n      }\n      return copy;\n    });\n  }\n\n  /** Change the label text for a detection (used when style is LABEL) */\n  function changeLabel(detId, text) {\n    setFileStates(prev => {\n      const copy = [...prev];\n      const fs = copy[currentFileIndex];\n      fs.actions[detId].labelText = text;\n      return copy;\n    });\n  }\n\n  /** Change current page for PDF preview */\n  function changePage(delta) {\n    setFileStates(prev => {\n      const copy = [...prev];\n      const fs = copy[currentFileIndex];\n      const next = fs.currentPage + delta;\n      if (next >= 0 && next < fs.pages) {\n        fs.currentPage = next;\n      }\n      return copy;\n    });\n  }\n\n  /** Sanitise the currently selected file */\n  async function sanitiseCurrent() {\n    const fs = fileStates[currentFileIndex];\n    if (!fs) return;\n    setLoading(true);\n    try {\n      // Build actions from selected detections\n      const actions = [];\n      fs.detections.forEach(det => {\n        if (fs.selected[det.id]) {\n          const act = fs.actions[det.id];\n          actions.push({\n            detectionId: det.id,\n            style: act.style,\n            labelText: act.labelText\n          });\n        }\n      });\n      const outputType = fs.file.type === 'application/pdf' ? 'pdf' : 'image';\n      const result = await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_4__.applyRedactions)(fs.file, actions, {\n        output: outputType,\n        quality: 0.92\n      });\n      setFileStates(prev => {\n        const copy = [...prev];\n        copy[currentFileIndex] = {\n          ...copy[currentFileIndex],\n          outputUri: result.fileUri,\n          report: result.report\n        };\n        return copy;\n      });\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  /** Export all files as a zip archive with reports */\n  async function exportAll() {\n    if (fileStates.length === 0) return;\n    setExporting(true);\n    const zip = new (jszip__WEBPACK_IMPORTED_MODULE_1___default())();\n    const aggregatedReport = {};\n    // Ensure each file is sanitised and added to zip\n    for (let idx = 0; idx < fileStates.length; idx++) {\n      const fs = fileStates[idx];\n      // If not yet sanitised, process it\n      if (!fs.outputUri) {\n        try {\n          const actions = [];\n          fs.detections.forEach(det => {\n            if (fs.selected[det.id]) {\n              const act = fs.actions[det.id];\n              actions.push({\n                detectionId: det.id,\n                style: act.style,\n                labelText: act.labelText\n              });\n            }\n          });\n          const outputType = fs.file.type === 'application/pdf' ? 'pdf' : 'image';\n          const result = await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_4__.applyRedactions)(fs.file, actions, {\n            output: outputType,\n            quality: 0.92\n          });\n          fs.outputUri = result.fileUri;\n          fs.report = result.report;\n        } catch (err) {\n          console.error(err);\n        }\n      }\n      // Add to zip if sanitised\n      if (fs.outputUri) {\n        const ext = fs.file.type === 'application/pdf' ? 'pdf' : 'jpg';\n        const filename = fs.file.name ? fs.file.name.replace(/\\.[^.]+$/, '') : `file${idx + 1}`;\n        const data = dataURIToUint8Array(fs.outputUri);\n        zip.file(`${filename}-sanitised.${ext}`, data, {\n          binary: true\n        });\n        aggregatedReport[filename] = fs.report;\n      }\n    }\n    // Add report JSON\n    zip.file('report.json', JSON.stringify(aggregatedReport, null, 2));\n    try {\n      const content = await zip.generateAsync({\n        type: 'blob'\n      });\n      const url = URL.createObjectURL(content);\n      setZipUrl(url);\n      // Create report blob separately for convenience\n      const reportBlob = new Blob([JSON.stringify(aggregatedReport, null, 2)], {\n        type: 'application/json'\n      });\n      const reportURL = URL.createObjectURL(reportBlob);\n      setReportUrl(reportURL);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setExporting(false);\n      // Force state update to reflect new fs values\n      setFileStates([...fileStates]);\n    }\n  }\n\n  /** Change preset selection and reanalyse */\n  function onPresetChange(e) {\n    const id = e.target.value;\n    setPresetId(id);\n  }\n  const currentFileState = fileStates[currentFileIndex];\n  const detectionsOnPage = currentFileState ? currentFileState.detections.filter(det => (det.box.page ?? 0) === currentFileState.currentPage) : [];\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n    style: {\n      padding: '1rem',\n      maxWidth: '1100px',\n      margin: '0 auto',\n      fontFamily: 'sans-serif'\n    },\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"h1\", {\n      style: {\n        fontSize: '1.5rem',\n        fontWeight: 'bold',\n        marginBottom: '1rem'\n      },\n      children: \"CleanShare\\xA0Pro\"\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n      style: {\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"input\", {\n        type: \"file\",\n        accept: \"image/*,application/pdf\",\n        multiple: true,\n        onChange: onFilesChange\n      }), presets.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"select\", {\n        value: presetId,\n        onChange: onPresetChange,\n        style: {\n          marginLeft: '1rem'\n        },\n        children: presets.map(p => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"option\", {\n          value: p.id,\n          children: p.name\n        }, p.id))\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n        onClick: () => {\n          // Toggle proUnlocked state.  In a real app this would trigger a purchase flow.\n          setProUnlocked(!proUnlocked);\n        },\n        style: {\n          marginLeft: '1rem',\n          padding: '0.25rem 0.5rem',\n          border: '1px solid #10b981',\n          borderRadius: '4px',\n          backgroundColor: proUnlocked ? '#10b981' : '#f3f4f6',\n          color: proUnlocked ? 'white' : '#111827'\n        },\n        children: proUnlocked ? 'Pro Unlocked' : 'Unlock Pro'\n      }), proUnlocked && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n        onClick: () => setShowPresetEditor(true),\n        style: {\n          marginLeft: '0.5rem',\n          padding: '0.25rem 0.5rem',\n          border: '1px solid #2563eb',\n          borderRadius: '4px',\n          backgroundColor: '#2563eb',\n          color: 'white'\n        },\n        children: \"Manage Presets\"\n      })]\n    }), loading && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"p\", {\n      children: \"Processing\\u2026\"\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '1rem'\n      },\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n        style: {\n          width: '200px',\n          borderRight: '1px solid #ddd',\n          paddingRight: '1rem'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"h2\", {\n          style: {\n            fontSize: '1rem',\n            fontWeight: 'bold',\n            marginBottom: '0.5rem'\n          },\n          children: \"Files\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"ul\", {\n          style: {\n            listStyle: 'none',\n            padding: 0,\n            margin: 0\n          },\n          children: fileStates.map((fs, idx) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"li\", {\n            style: {\n              marginBottom: '0.5rem',\n              cursor: 'pointer',\n              fontWeight: idx === currentFileIndex ? 'bold' : 'normal'\n            },\n            onClick: () => setCurrentFileIndex(idx),\n            children: [fs.file.name || `File ${idx + 1}`, \" (\", fs.detections.length, \")\"]\n          }, idx))\n        }), fileStates.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n          onClick: exportAll,\n          disabled: exporting,\n          style: {\n            marginTop: '1rem',\n            padding: '0.5rem',\n            backgroundColor: '#2563eb',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '4px',\n            width: '100%'\n          },\n          children: exporting ? 'Exporting…' : 'Export All'\n        }), zipUrl && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n          style: {\n            marginTop: '0.5rem'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"a\", {\n            href: zipUrl,\n            download: \"cleanshare-sanitised.zip\",\n            style: {\n              color: '#2563eb'\n            },\n            children: \"Download Zip\"\n          }), reportUrl && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n            style: {\n              marginTop: '0.25rem'\n            },\n            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"a\", {\n              href: reportUrl,\n              download: \"report.json\",\n              style: {\n                color: '#2563eb'\n              },\n              children: \"Download Report\"\n            })\n          })]\n        })]\n      }), currentFileState && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"h2\", {\n          style: {\n            fontSize: '1rem',\n            fontWeight: 'bold',\n            marginBottom: '0.5rem'\n          },\n          children: \"Preview\"\n        }), currentFileState.pages > 1 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n          style: {\n            marginBottom: '0.5rem'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n            onClick: () => changePage(-1),\n            disabled: currentFileState.currentPage === 0,\n            style: {\n              marginRight: '0.5rem'\n            },\n            children: \"Prev\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n            onClick: () => changePage(1),\n            disabled: currentFileState.currentPage === currentFileState.pages - 1,\n            children: \"Next\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"span\", {\n            style: {\n              marginLeft: '0.5rem'\n            },\n            children: [\"Page \", currentFileState.currentPage + 1, \" / \", currentFileState.pages]\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n          style: {\n            position: 'relative',\n            border: '1px solid #ddd',\n            display: 'inline-block',\n            maxWidth: '100%'\n          },\n          children: [currentFileState.pageImages[currentFileState.currentPage] ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"img\", {\n            src: currentFileState.pageImages[currentFileState.currentPage],\n            alt: \"Preview\",\n            style: {\n              maxWidth: '100%',\n              height: 'auto',\n              display: 'block'\n            }\n          }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n            style: {\n              padding: '1rem'\n            },\n            children: \"No preview available\"\n          }), detectionsOnPage.map(det => {\n            const sel = currentFileState.selected[det.id];\n            // Only draw if selected\n            if (!sel) return null;\n            const style = {\n              position: 'absolute',\n              border: '2px solid red',\n              left: `${det.box.x * 100}%`,\n              top: `${det.box.y * 100}%`,\n              width: `${det.box.w * 100}%`,\n              height: `${det.box.h * 100}%`,\n              boxSizing: 'border-box'\n            };\n            return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n              style: style,\n              title: `${det.kind}: ${det.reason}`\n            }, det.id);\n          })]\n        }), currentFileState.outputUri && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n          style: {\n            marginTop: '0.5rem'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"h3\", {\n            style: {\n              fontSize: '0.9rem',\n              fontWeight: 'bold'\n            },\n            children: \"Sanitised\"\n          }), currentFileState.file.type === 'application/pdf' ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"p\", {\n            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"a\", {\n              href: currentFileState.outputUri,\n              download: `${currentFileState.file.name.replace(/\\.[^.]+$/, '')}-sanitised.pdf`,\n              style: {\n                color: '#2563eb'\n              },\n              children: \"Download PDF\"\n            })\n          }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"img\", {\n            src: currentFileState.outputUri,\n            alt: \"Sanitised preview\",\n            style: {\n              maxWidth: '100%',\n              height: 'auto'\n            }\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n          style: {\n            marginTop: '1rem'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"h2\", {\n            style: {\n              fontSize: '1rem',\n              fontWeight: 'bold'\n            },\n            children: \"Detections\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"ul\", {\n            style: {\n              listStyle: 'none',\n              padding: 0\n            },\n            children: currentFileState.detections.map(det => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"li\", {\n              style: {\n                marginBottom: '0.5rem',\n                borderBottom: '1px solid #eee',\n                paddingBottom: '0.25rem'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"label\", {\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"input\", {\n                    type: \"checkbox\",\n                    checked: !!currentFileState.selected[det.id],\n                    onChange: () => toggleDetection(det.id),\n                    style: {\n                      marginRight: '0.5rem'\n                    }\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"strong\", {\n                    children: det.kind\n                  }), \" \\u2014 \", det.reason, \" \", det.preview ? `(“${det.preview}”)` : '']\n                })\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n                style: {\n                  marginLeft: '1.5rem',\n                  marginTop: '0.25rem'\n                },\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"select\", {\n                  value: currentFileState.actions[det.id].style,\n                  onChange: e => changeStyle(det.id, e.target.value),\n                  style: {\n                    marginRight: '0.5rem'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"option\", {\n                    value: \"BOX\",\n                    children: \"Box\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"option\", {\n                    value: \"BLUR\",\n                    children: \"Blur\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"option\", {\n                    value: \"PIXELATE\",\n                    children: \"Pixelate\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"option\", {\n                    value: \"LABEL\",\n                    children: \"Label\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"option\", {\n                    value: \"MASK_LAST4\",\n                    children: \"Mask Last 4\"\n                  })]\n                }), currentFileState.actions[det.id].style === 'LABEL' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Label text\",\n                  value: currentFileState.actions[det.id].labelText || '',\n                  onChange: e => changeLabel(det.id, e.target.value),\n                  style: {\n                    padding: '0.25rem',\n                    border: '1px solid #ccc',\n                    borderRadius: '3px'\n                  }\n                })]\n              })]\n            }, det.id))\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n            onClick: sanitiseCurrent,\n            disabled: loading,\n            style: {\n              marginTop: '0.5rem',\n              padding: '0.5rem 1rem',\n              backgroundColor: '#10b981',\n              color: 'white',\n              borderRadius: '4px',\n              border: 'none'\n            },\n            children: \"Sanitise Current\"\n          })]\n        })]\n      })]\n    }), showPresetEditor && proUnlocked && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          padding: '1rem',\n          borderRadius: '6px',\n          width: '90%',\n          maxWidth: '600px',\n          maxHeight: '90%',\n          overflowY: 'auto'\n        },\n        children: [!editingPreset && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"h2\", {\n            style: {\n              fontSize: '1.25rem',\n              fontWeight: 'bold',\n              marginBottom: '0.5rem'\n            },\n            children: \"Manage Presets\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"ul\", {\n            style: {\n              listStyle: 'none',\n              padding: 0,\n              margin: 0\n            },\n            children: presets.map(p => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"li\", {\n              style: {\n                marginBottom: '0.5rem',\n                borderBottom: '1px solid #eee',\n                paddingBottom: '0.5rem'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"strong\", {\n                children: p.name\n              }), \" (\", p.id, \")\", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n                style: {\n                  marginTop: '0.25rem'\n                },\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n                  onClick: () => {\n                    // Start editing this preset by cloning its object.  Clone to avoid\n                    // direct mutation of the PRESETS array.\n                    setEditingPreset({\n                      id: p.id,\n                      name: p.name,\n                      enabledKinds: [...p.enabledKinds],\n                      styleMap: {\n                        ...(p.styleMap || {})\n                      },\n                      customRegex: p.customRegex ? [...p.customRegex] : []\n                    });\n                  },\n                  style: {\n                    marginRight: '0.5rem',\n                    padding: '0.25rem 0.5rem',\n                    border: '1px solid #2563eb',\n                    backgroundColor: '#2563eb',\n                    color: 'white',\n                    borderRadius: '4px'\n                  },\n                  children: \"Edit\"\n                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n                  onClick: () => {\n                    if (confirm(`Delete preset \"${p.name}\"?`)) {\n                      (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_4__.deletePreset)(p.id);\n                      // Reload presets from core after deletion\n                      setPresets((0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_4__.listPresets)());\n                    }\n                  },\n                  style: {\n                    padding: '0.25rem 0.5rem',\n                    border: '1px solid #dc2626',\n                    backgroundColor: '#dc2626',\n                    color: 'white',\n                    borderRadius: '4px'\n                  },\n                  children: \"Delete\"\n                })]\n              })]\n            }, p.id))\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n            onClick: () => {\n              // Create a new preset template\n              setEditingPreset({\n                id: '',\n                name: '',\n                enabledKinds: [],\n                styleMap: {},\n                customRegex: []\n              });\n            },\n            style: {\n              marginTop: '0.5rem',\n              padding: '0.5rem',\n              borderRadius: '4px',\n              backgroundColor: '#10b981',\n              color: 'white',\n              border: 'none'\n            },\n            children: \"Add New Preset\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n            onClick: () => {\n              setShowPresetEditor(false);\n              setEditingPreset(null);\n            },\n            style: {\n              marginLeft: '0.5rem',\n              marginTop: '0.5rem',\n              padding: '0.5rem',\n              borderRadius: '4px',\n              backgroundColor: '#6b7280',\n              color: 'white',\n              border: 'none'\n            },\n            children: \"Close\"\n          })]\n        }), editingPreset && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"h2\", {\n            style: {\n              fontSize: '1.25rem',\n              fontWeight: 'bold',\n              marginBottom: '0.5rem'\n            },\n            children: editingPreset.id ? 'Edit Preset' : 'Create Preset'\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n            style: {\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '0.25rem'\n              },\n              children: \"Preset Name\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"input\", {\n              type: \"text\",\n              value: editingPreset.name,\n              onChange: e => setEditingPreset({\n                ...editingPreset,\n                name: e.target.value\n              }),\n              style: {\n                width: '100%',\n                padding: '0.25rem',\n                border: '1px solid #ccc',\n                borderRadius: '4px'\n              }\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n            style: {\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '0.25rem'\n              },\n              children: \"Enabled Detectors\"\n            }), DETECTION_KINDS.map(kind => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n              style: {\n                marginBottom: '0.25rem'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"label\", {\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"input\", {\n                  type: \"checkbox\",\n                  checked: editingPreset.enabledKinds.includes(kind),\n                  onChange: e => {\n                    const checked = e.target.checked;\n                    setEditingPreset(prev => {\n                      const enabled = new Set(prev.enabledKinds);\n                      if (checked) enabled.add(kind);else enabled.delete(kind);\n                      return {\n                        ...prev,\n                        enabledKinds: Array.from(enabled)\n                      };\n                    });\n                  },\n                  style: {\n                    marginRight: '0.5rem'\n                  }\n                }), kind]\n              }), editingPreset.enabledKinds.includes(kind) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"select\", {\n                value: editingPreset.styleMap && editingPreset.styleMap[kind] || 'BOX',\n                onChange: e => {\n                  const style = e.target.value;\n                  setEditingPreset(prev => {\n                    const newMap = {\n                      ...(prev.styleMap || {})\n                    };\n                    newMap[kind] = style;\n                    return {\n                      ...prev,\n                      styleMap: newMap\n                    };\n                  });\n                },\n                style: {\n                  marginLeft: '0.5rem'\n                },\n                children: STYLE_OPTIONS.map(opt => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"option\", {\n                  value: opt,\n                  children: opt\n                }, opt))\n              })]\n            }, kind))]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n            style: {\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '0.25rem'\n              },\n              children: \"Custom Regex Patterns (one per line)\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"textarea\", {\n              value: (editingPreset.customRegex || []).join('\\n'),\n              onChange: e => {\n                const lines = e.target.value.split(/\\n+/).map(s => s.trim()).filter(Boolean);\n                setEditingPreset(prev => ({\n                  ...prev,\n                  customRegex: lines\n                }));\n              },\n              style: {\n                width: '100%',\n                height: '80px',\n                padding: '0.25rem',\n                border: '1px solid #ccc',\n                borderRadius: '4px',\n                fontFamily: 'monospace'\n              }\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'flex-end'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n              onClick: () => {\n                setEditingPreset(null);\n              },\n              style: {\n                marginRight: '0.5rem',\n                padding: '0.5rem 1rem',\n                backgroundColor: '#6b7280',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px'\n              },\n              children: \"Back\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"button\", {\n              onClick: () => {\n                // When creating a new preset, generate an ID based on the name\n                let id = editingPreset.id;\n                const name = editingPreset.name.trim();\n                if (!id) {\n                  id = name.toLowerCase().replace(/[^a-z0-9]+/g, '-');\n                }\n                const presetToSave = {\n                  id,\n                  name: editingPreset.name,\n                  enabledKinds: editingPreset.enabledKinds,\n                  styleMap: editingPreset.styleMap,\n                  customRegex: editingPreset.customRegex\n                };\n                (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_4__.savePreset)(presetToSave);\n                setPresets((0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_4__.listPresets)());\n                setPresetId(id);\n                setEditingPreset(null);\n                setShowPresetEditor(false);\n              },\n              style: {\n                padding: '0.5rem 1rem',\n                backgroundColor: '#10b981',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px'\n              },\n              children: \"Save\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFhO2dCQUFFaUIsZUFBZSxFQUFFLFNBQVM7Z0JBQUVDLEtBQUssRUFBRSxPQUFPO2dCQUFFSCxNQUFNLEVBQUUsTUFBTTtnQkFBRUMsWUFBWSxFQUFFO2NBQU0sQ0FBRTtjQUFBWixRQUFBLEVBQ3BIO1lBQUksQ0FBUSxDQUFDO1VBQUEsQ0FDWCxDQUFDO1FBQUEsQ0FDSCxDQUNOO01BQUEsQ0FDRTtJQUFDLENBQ0gsQ0FDTjtFQUFBLENBQ0UsQ0FBQztBQUVWLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uL3BhZ2VzL2luZGV4LnRzeD8wN2ZmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE1haW4gQ2xlYW5TaGFyZSBQcm8gVUkgY29tcG9uZW50XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHtcbiAgRGV0ZWN0aW9uLFxuICBSZWRhY3Rpb25BY3Rpb24sXG4gIFJlZGFjdGlvblN0eWxlLFxuICBQcmVzZXRcbiAgLCBEZXRlY3Rpb25LaW5kXG59IGZyb20gJ0BjbGVhbnNoYXJlL2NvcmUtZGV0ZWN0JztcbmltcG9ydCB7IGFuYWx5emVEb2N1bWVudCwgYXBwbHlSZWRhY3Rpb25zLCBsaXN0UHJlc2V0cywgc2F2ZVByZXNldCwgZGVsZXRlUHJlc2V0IH0gZnJvbSAnQGNsZWFuc2hhcmUvY29yZS1kZXRlY3QnO1xuaW1wb3J0IEpTWmlwIGZyb20gJ2pzemlwJztcbmltcG9ydCAqIGFzIHBkZmpzTGliIGZyb20gJ3BkZmpzLWRpc3QnO1xuXG4vLyBDb25maWd1cmUgcGRmanMgd29ya2VyIHdoZW4gcnVubmluZyBpbiB0aGUgYnJvd3Nlci4gIFdpdGhvdXQgdGhpcyxcbi8vIHBkZmpzIHdpbGwgYXR0ZW1wdCB0byBsb2FkIGEgd29ya2VyIHNjcmlwdCBmcm9tIHRoZSB3cm9uZyBwYXRoLiAgV2Vcbi8vIHJlcXVpcmUgdGhlIHdvcmtlciB2aWEgd2VicGFjay9OZXh0LmpzIHdoaWNoIGV4cG9zZXMgYSBwcm9wZXJcbi8vIG1vZHVsZS4gIElmIHRoaXMgaW1wb3J0IGZhaWxzIHNpbGVudGx5IChlLmcuLCBTU1IpLCB0aGUgZGVmYXVsdFxuLy8gd29ya2VyIG1heSBzdGlsbCBiZSB1c2VkLlxudHJ5IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcbiAgY29uc3Qgd29ya2VyU3JjID0gcmVxdWlyZSgncGRmanMtZGlzdC9idWlsZC9wZGYud29ya2VyLmpzJyk7XG4gIC8vIEB0cy1pZ25vcmVcbiAgcGRmanNMaWIuR2xvYmFsV29ya2VyT3B0aW9ucy53b3JrZXJTcmMgPSB3b3JrZXJTcmM7XG59IGNhdGNoIChlKSB7XG4gIC8vIGlnbm9yZSBpbiBTU1Igb3IgdGVzdCBlbnZpcm9ubWVudHNcbn1cblxuLyoqIEhlbHBlciB0byBsb2FkIGEgUERGIGZpbGUgYW5kIHJldHVybiBhbiBhcnJheSBvZiBEYXRhIFVSTHMgZm9yIGVhY2ggcGFnZS4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRQZGZQYWdlcyhmaWxlOiBGaWxlKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICBjb25zdCBidWZmZXIgPSBhd2FpdCBmaWxlLmFycmF5QnVmZmVyKCk7XG4gIGNvbnN0IHBkZiA9IGF3YWl0IHBkZmpzTGliLmdldERvY3VtZW50KHsgZGF0YTogYnVmZmVyIH0pLnByb21pc2U7XG4gIGNvbnN0IHBhZ2VzOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGxldCBpID0gMTsgaSA8PSBwZGYubnVtUGFnZXM7IGkrKykge1xuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBwZGYuZ2V0UGFnZShpKTtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHBhZ2UuZ2V0Vmlld3BvcnQoeyBzY2FsZTogMS4wIH0pO1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IHZpZXdwb3J0LndpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgcGFnZXMucHVzaCgnJyk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgcmVuZGVyQ29udGV4dCA9IHsgY2FudmFzQ29udGV4dDogY29udGV4dCwgdmlld3BvcnQgfTtcbiAgICBhd2FpdCBwYWdlLnJlbmRlcihyZW5kZXJDb250ZXh0KS5wcm9taXNlO1xuICAgIHBhZ2VzLnB1c2goY2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgfVxuICByZXR1cm4gcGFnZXM7XG59XG5cbi8qKiBDb252ZXJ0IGEgRGF0YSBVUkkgdG8gYSBVaW50OEFycmF5IGZvciBiaW5hcnkgYmxvYnMuICovXG5mdW5jdGlvbiBkYXRhVVJJVG9VaW50OEFycmF5KGRhdGFVUkk6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBwYXJ0cyA9IGRhdGFVUkkuc3BsaXQoJywnKTtcbiAgY29uc3QgYmFzZTY0U3RyaW5nID0gcGFydHNbMV07XG4gIGNvbnN0IGJpbmFyeVN0cmluZyA9IGF0b2IoYmFzZTY0U3RyaW5nKTtcbiAgY29uc3QgbGVuID0gYmluYXJ5U3RyaW5nLmxlbmd0aDtcbiAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gYnl0ZXM7XG59XG5cbi8qKiBGaWxlIHN0YXRlIHN0cnVjdHVyZSBmb3IgZWFjaCBzZWxlY3RlZCBmaWxlLiAqL1xuaW50ZXJmYWNlIEZpbGVTdGF0ZSB7XG4gIGZpbGU6IEZpbGU7XG4gIGRldGVjdGlvbnM6IERldGVjdGlvbltdO1xuICAvLyBtYXAgb2YgZGV0ZWN0aW9uIGlkIHRvIHdoZXRoZXIgdGhlIHVzZXIgd2FudHMgdG8gcmVkYWN0IGl0XG4gIHNlbGVjdGVkOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcbiAgLy8gbWFwIG9mIGRldGVjdGlvbiBpZCB0byBzdHlsZSBhbmQgb3B0aW9uYWwgbGFiZWxcbiAgYWN0aW9uczogUmVjb3JkPHN0cmluZywgeyBzdHlsZTogUmVkYWN0aW9uU3R5bGU7IGxhYmVsVGV4dD86IHN0cmluZyB9PjtcbiAgcGFnZXM6IG51bWJlcjtcbiAgLy8gZGF0YSBVUkxzIGZvciBQREYgcGFnZXMgb3IgYSBzaW5nbGUgaW1hZ2VcbiAgcGFnZUltYWdlczogc3RyaW5nW107XG4gIGN1cnJlbnRQYWdlOiBudW1iZXI7XG4gIG91dHB1dFVyaT86IHN0cmluZztcbiAgcmVwb3J0PzogYW55O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lKCkge1xuICBjb25zdCBbZmlsZXMsIHNldEZpbGVzXSA9IHVzZVN0YXRlPEZpbGVbXT4oW10pO1xuICBjb25zdCBbZmlsZVN0YXRlcywgc2V0RmlsZVN0YXRlc10gPSB1c2VTdGF0ZTxGaWxlU3RhdGVbXT4oW10pO1xuICBjb25zdCBbY3VycmVudEZpbGVJbmRleCwgc2V0Q3VycmVudEZpbGVJbmRleF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3ByZXNldHMsIHNldFByZXNldHNdID0gdXNlU3RhdGU8UHJlc2V0W10+KFtdKTtcbiAgY29uc3QgW3ByZXNldElkLCBzZXRQcmVzZXRJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXhwb3J0aW5nLCBzZXRFeHBvcnRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbemlwVXJsLCBzZXRaaXBVcmxdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtyZXBvcnRVcmwsIHNldFJlcG9ydFVybF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBQcm8gZ2F0aW5nLiAgU29tZSBmZWF0dXJlcyBzdWNoIGFzIHByZXNldCBlZGl0aW5nIGFyZSBsb2NrZWQgYmVoaW5kIGFcbiAgLy8gc2ltcGxlIOKAnFByb+KAnSB0b2dnbGUuICBJbiBhIHJlYWwgYXBwIHRoaXMgd291bGQgYmUgdGllZCB0byBhIHB1cmNoYXNlIG9yXG4gIC8vIHN1YnNjcmlwdGlvbi4gIEZvciBkZW1vbnN0cmF0aW9uIGl0IGlzIGEgYm9vbGVhbiBzdGF0ZS5cbiAgY29uc3QgW3Byb1VubG9ja2VkLCBzZXRQcm9VbmxvY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIC8vIFByZXNldCBlZGl0b3Igc3RhdGUuICBXaGVuIHNob3dQcmVzZXRFZGl0b3IgaXMgdHJ1ZSB0aGUgVUkgZGlzcGxheXMgYVxuICAvLyBtYW5hZ2VtZW50IHZpZXcgd2hlcmUgdGhlIHVzZXIgY2FuIGNyZWF0ZSwgZWRpdCwgYW5kIGRlbGV0ZSBwcmVzZXRzLlxuICBjb25zdCBbc2hvd1ByZXNldEVkaXRvciwgc2V0U2hvd1ByZXNldEVkaXRvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlZGl0aW5nUHJlc2V0LCBzZXRFZGl0aW5nUHJlc2V0XSA9IHVzZVN0YXRlPFByZXNldCB8IG51bGw+KG51bGwpO1xuXG4gIC8vIERlZmluZSB0aGUgbGlzdCBvZiBhbGwgcG9zc2libGUgZGV0ZWN0aW9uIGtpbmRzIGFuZCByZWRhY3Rpb24gc3R5bGVzLlxuICBjb25zdCBERVRFQ1RJT05fS0lORFM6IERldGVjdGlvbktpbmRbXSA9IFtcbiAgICAnRkFDRScsXG4gICAgJ0VNQUlMJyxcbiAgICAnUEhPTkUnLFxuICAgICdQQU4nLFxuICAgICdJQkFOJyxcbiAgICAnU1NOJyxcbiAgICAnSldUJyxcbiAgICAnQVBJX0tFWScsXG4gICAgJ0JBUkNPREUnLFxuICAgICdOQU1FJyxcbiAgICAnQUREUkVTUycsXG4gICAgJ09USEVSJ1xuICBdO1xuICBjb25zdCBTVFlMRV9PUFRJT05TOiBSZWRhY3Rpb25TdHlsZVtdID0gW1xuICAgICdCT1gnLFxuICAgICdCTFVSJyxcbiAgICAnUElYRUxBVEUnLFxuICAgICdMQUJFTCcsXG4gICAgJ01BU0tfTEFTVDQnXG4gIF07XG5cbiAgLy8gTG9hZCBwcmVzZXRzIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgcHMgPSBsaXN0UHJlc2V0cygpO1xuICAgIHNldFByZXNldHMocHMpO1xuICAgIC8vIGRlZmF1bHQgdG8gdGhlIGZpcnN0IHByZXNldFxuICAgIGlmIChwcy5sZW5ndGggPiAwKSB7XG4gICAgICBzZXRQcmVzZXRJZChwc1swXS5pZCk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gQW5hbHlzZSBmaWxlcyB3aGVuIHRoZXkgY2hhbmdlIG9yIHdoZW4gcHJlc2V0IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgbGV0IGlzQ2FuY2VsbGVkID0gZmFsc2U7XG4gICAgYXN5bmMgZnVuY3Rpb24gYW5hbHlzZUFsbCgpIHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBjb25zdCBuZXdTdGF0ZXM6IEZpbGVTdGF0ZVtdID0gW107XG4gICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhbmFseXplRG9jdW1lbnQoZmlsZSwgeyBwcmVzZXRJZCB9KTtcbiAgICAgICAgICAvLyBJbml0aWFsaXNlIHNlbGVjdGlvbnMgYW5kIGFjdGlvbnNcbiAgICAgICAgICBjb25zdCBzZWw6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+ID0ge307XG4gICAgICAgICAgY29uc3QgYWN0OiBSZWNvcmQ8c3RyaW5nLCB7IHN0eWxlOiBSZWRhY3Rpb25TdHlsZTsgbGFiZWxUZXh0Pzogc3RyaW5nIH0+ID0ge307XG4gICAgICAgICAgcmVzdWx0LmRldGVjdGlvbnMuZm9yRWFjaChkZXQgPT4ge1xuICAgICAgICAgICAgc2VsW2RldC5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgYWN0W2RldC5pZF0gPSB7IHN0eWxlOiAnQk9YJyB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxldCBwYWdlSW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgIGxldCBwYWdlcyA9IHJlc3VsdC5wYWdlcyB8fCAxO1xuICAgICAgICAgIGlmICgoZmlsZSBhcyBhbnkpLnR5cGUgPT09ICdhcHBsaWNhdGlvbi9wZGYnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBwYWdlSW1hZ2VzID0gYXdhaXQgbG9hZFBkZlBhZ2VzKGZpbGUpO1xuICAgICAgICAgICAgICBwYWdlcyA9IHBhZ2VJbWFnZXMubGVuZ3RoO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgIC8vIGZhbGxiYWNrOiBsZWF2ZSBlbXB0eTsgcHJldmlldyB3aWxsIHNob3cgbm90aGluZ1xuICAgICAgICAgICAgICBwYWdlSW1hZ2VzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZvciBpbWFnZXMgdXNlIGEgc2luZ2xlIHByZXZpZXcgdmlhIE9iamVjdCBVUkxcbiAgICAgICAgICAgIHBhZ2VJbWFnZXMgPSBbVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKV07XG4gICAgICAgICAgICBwYWdlcyA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgZmlsZSxcbiAgICAgICAgICAgICAgZGV0ZWN0aW9uczogcmVzdWx0LmRldGVjdGlvbnMsXG4gICAgICAgICAgICAgIHNlbGVjdGVkOiBzZWwsXG4gICAgICAgICAgICAgIGFjdGlvbnM6IGFjdCxcbiAgICAgICAgICAgICAgcGFnZXMsXG4gICAgICAgICAgICAgIHBhZ2VJbWFnZXMsXG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAwLFxuICAgICAgICAgICAgICBvdXRwdXRVcmk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgcmVwb3J0OiB1bmRlZmluZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHNldEZpbGVTdGF0ZXMobmV3U3RhdGVzKTtcbiAgICAgICAgc2V0Q3VycmVudEZpbGVJbmRleCgwKTtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFuYWx5c2VBbGwoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNDYW5jZWxsZWQgPSB0cnVlO1xuICAgIH07XG4gIH0sIFtmaWxlcywgcHJlc2V0SWRdKTtcblxuICAvKiogSGFuZGxlIGNoYW5nZSBvZiBmaWxlIGlucHV0ICovXG4gIGZ1bmN0aW9uIG9uRmlsZXNDaGFuZ2UoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pIHtcbiAgICBjb25zdCBzZWxlY3RlZCA9IGUudGFyZ2V0LmZpbGVzO1xuICAgIGlmICghc2VsZWN0ZWQgfHwgc2VsZWN0ZWQubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgY29uc3QgYXJyID0gQXJyYXkuZnJvbShzZWxlY3RlZCk7XG4gICAgc2V0RmlsZXMoYXJyKTtcbiAgICAvLyByZXNldCBwcmV2aW91cyBleHBvcnRlZCBkYXRhXG4gICAgc2V0WmlwVXJsKG51bGwpO1xuICAgIHNldFJlcG9ydFVybChudWxsKTtcbiAgfVxuXG4gIC8qKiBUb2dnbGUgYSBkZXRlY3Rpb24gb24gb3Igb2ZmICovXG4gIGZ1bmN0aW9uIHRvZ2dsZURldGVjdGlvbihkZXRJZDogc3RyaW5nKSB7XG4gICAgc2V0RmlsZVN0YXRlcyhwcmV2ID0+IHtcbiAgICAgIGNvbnN0IGNvcHkgPSBbLi4ucHJldl07XG4gICAgICBjb25zdCBmcyA9IGNvcHlbY3VycmVudEZpbGVJbmRleF07XG4gICAgICBmcy5zZWxlY3RlZFtkZXRJZF0gPSAhZnMuc2VsZWN0ZWRbZGV0SWRdO1xuICAgICAgcmV0dXJuIGNvcHk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQ2hhbmdlIHRoZSByZWRhY3Rpb24gc3R5bGUgZm9yIGEgZGV0ZWN0aW9uICovXG4gIGZ1bmN0aW9uIGNoYW5nZVN0eWxlKGRldElkOiBzdHJpbmcsIHN0eWxlOiBSZWRhY3Rpb25TdHlsZSkge1xuICAgIHNldEZpbGVTdGF0ZXMocHJldiA9PiB7XG4gICAgICBjb25zdCBjb3B5ID0gWy4uLnByZXZdO1xuICAgICAgY29uc3QgZnMgPSBjb3B5W2N1cnJlbnRGaWxlSW5kZXhdO1xuICAgICAgZnMuYWN0aW9uc1tkZXRJZF0uc3R5bGUgPSBzdHlsZTtcbiAgICAgIC8vIENsZWFyIGxhYmVsIHRleHQgd2hlbiBzdHlsZSBjaGFuZ2VzIGF3YXkgZnJvbSBMQUJFTFxuICAgICAgaWYgKHN0eWxlICE9PSAnTEFCRUwnKSB7XG4gICAgICAgIGRlbGV0ZSBmcy5hY3Rpb25zW2RldElkXS5sYWJlbFRleHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29weTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBDaGFuZ2UgdGhlIGxhYmVsIHRleHQgZm9yIGEgZGV0ZWN0aW9uICh1c2VkIHdoZW4gc3R5bGUgaXMgTEFCRUwpICovXG4gIGZ1bmN0aW9uIGNoYW5nZUxhYmVsKGRldElkOiBzdHJpbmcsIHRleHQ6IHN0cmluZykge1xuICAgIHNldEZpbGVTdGF0ZXMocHJldiA9PiB7XG4gICAgICBjb25zdCBjb3B5ID0gWy4uLnByZXZdO1xuICAgICAgY29uc3QgZnMgPSBjb3B5W2N1cnJlbnRGaWxlSW5kZXhdO1xuICAgICAgZnMuYWN0aW9uc1tkZXRJZF0ubGFiZWxUZXh0ID0gdGV4dDtcbiAgICAgIHJldHVybiBjb3B5O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIENoYW5nZSBjdXJyZW50IHBhZ2UgZm9yIFBERiBwcmV2aWV3ICovXG4gIGZ1bmN0aW9uIGNoYW5nZVBhZ2UoZGVsdGE6IG51bWJlcikge1xuICAgIHNldEZpbGVTdGF0ZXMocHJldiA9PiB7XG4gICAgICBjb25zdCBjb3B5ID0gWy4uLnByZXZdO1xuICAgICAgY29uc3QgZnMgPSBjb3B5W2N1cnJlbnRGaWxlSW5kZXhdO1xuICAgICAgY29uc3QgbmV4dCA9IGZzLmN1cnJlbnRQYWdlICsgZGVsdGE7XG4gICAgICBpZiAobmV4dCA+PSAwICYmIG5leHQgPCBmcy5wYWdlcykge1xuICAgICAgICBmcy5jdXJyZW50UGFnZSA9IG5leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29weTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBTYW5pdGlzZSB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGZpbGUgKi9cbiAgYXN5bmMgZnVuY3Rpb24gc2FuaXRpc2VDdXJyZW50KCkge1xuICAgIGNvbnN0IGZzID0gZmlsZVN0YXRlc1tjdXJyZW50RmlsZUluZGV4XTtcbiAgICBpZiAoIWZzKSByZXR1cm47XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgLy8gQnVpbGQgYWN0aW9ucyBmcm9tIHNlbGVjdGVkIGRldGVjdGlvbnNcbiAgICAgIGNvbnN0IGFjdGlvbnM6IFJlZGFjdGlvbkFjdGlvbltdID0gW107XG4gICAgICBmcy5kZXRlY3Rpb25zLmZvckVhY2goZGV0ID0+IHtcbiAgICAgICAgaWYgKGZzLnNlbGVjdGVkW2RldC5pZF0pIHtcbiAgICAgICAgICBjb25zdCBhY3QgPSBmcy5hY3Rpb25zW2RldC5pZF07XG4gICAgICAgICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgIGRldGVjdGlvbklkOiBkZXQuaWQsXG4gICAgICAgICAgICBzdHlsZTogYWN0LnN0eWxlLFxuICAgICAgICAgICAgbGFiZWxUZXh0OiBhY3QubGFiZWxUZXh0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3Qgb3V0cHV0VHlwZSA9IChmcy5maWxlIGFzIGFueSkudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3BkZicgPyAncGRmJyA6ICdpbWFnZSc7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhcHBseVJlZGFjdGlvbnMoZnMuZmlsZSwgYWN0aW9ucywgeyBvdXRwdXQ6IG91dHB1dFR5cGUgYXMgYW55LCBxdWFsaXR5OiAwLjkyIH0pO1xuICAgICAgc2V0RmlsZVN0YXRlcyhwcmV2ID0+IHtcbiAgICAgICAgY29uc3QgY29weSA9IFsuLi5wcmV2XTtcbiAgICAgICAgY29weVtjdXJyZW50RmlsZUluZGV4XSA9IHtcbiAgICAgICAgICAuLi5jb3B5W2N1cnJlbnRGaWxlSW5kZXhdLFxuICAgICAgICAgIG91dHB1dFVyaTogcmVzdWx0LmZpbGVVcmksXG4gICAgICAgICAgcmVwb3J0OiByZXN1bHQucmVwb3J0XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBFeHBvcnQgYWxsIGZpbGVzIGFzIGEgemlwIGFyY2hpdmUgd2l0aCByZXBvcnRzICovXG4gIGFzeW5jIGZ1bmN0aW9uIGV4cG9ydEFsbCgpIHtcbiAgICBpZiAoZmlsZVN0YXRlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBzZXRFeHBvcnRpbmcodHJ1ZSk7XG4gICAgY29uc3QgemlwID0gbmV3IEpTWmlwKCk7XG4gICAgY29uc3QgYWdncmVnYXRlZFJlcG9ydDogYW55ID0ge307XG4gICAgLy8gRW5zdXJlIGVhY2ggZmlsZSBpcyBzYW5pdGlzZWQgYW5kIGFkZGVkIHRvIHppcFxuICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGZpbGVTdGF0ZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgY29uc3QgZnMgPSBmaWxlU3RhdGVzW2lkeF07XG4gICAgICAvLyBJZiBub3QgeWV0IHNhbml0aXNlZCwgcHJvY2VzcyBpdFxuICAgICAgaWYgKCFmcy5vdXRwdXRVcmkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhY3Rpb25zOiBSZWRhY3Rpb25BY3Rpb25bXSA9IFtdO1xuICAgICAgICAgIGZzLmRldGVjdGlvbnMuZm9yRWFjaChkZXQgPT4ge1xuICAgICAgICAgICAgaWYgKGZzLnNlbGVjdGVkW2RldC5pZF0pIHtcbiAgICAgICAgICAgICAgY29uc3QgYWN0ID0gZnMuYWN0aW9uc1tkZXQuaWRdO1xuICAgICAgICAgICAgICBhY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGRldGVjdGlvbklkOiBkZXQuaWQsXG4gICAgICAgICAgICAgICAgc3R5bGU6IGFjdC5zdHlsZSxcbiAgICAgICAgICAgICAgICBsYWJlbFRleHQ6IGFjdC5sYWJlbFRleHRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3Qgb3V0cHV0VHlwZSA9IChmcy5maWxlIGFzIGFueSkudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3BkZicgPyAncGRmJyA6ICdpbWFnZSc7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBwbHlSZWRhY3Rpb25zKGZzLmZpbGUsIGFjdGlvbnMsIHsgb3V0cHV0OiBvdXRwdXRUeXBlIGFzIGFueSwgcXVhbGl0eTogMC45MiB9KTtcbiAgICAgICAgICBmcy5vdXRwdXRVcmkgPSByZXN1bHQuZmlsZVVyaTtcbiAgICAgICAgICBmcy5yZXBvcnQgPSByZXN1bHQucmVwb3J0O1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEFkZCB0byB6aXAgaWYgc2FuaXRpc2VkXG4gICAgICBpZiAoZnMub3V0cHV0VXJpKSB7XG4gICAgICAgIGNvbnN0IGV4dCA9IChmcy5maWxlIGFzIGFueSkudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3BkZicgPyAncGRmJyA6ICdqcGcnO1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGZzLmZpbGUubmFtZSA/IGZzLmZpbGUubmFtZS5yZXBsYWNlKC9cXC5bXi5dKyQvLCAnJykgOiBgZmlsZSR7aWR4ICsgMX1gO1xuICAgICAgICBjb25zdCBkYXRhID0gZGF0YVVSSVRvVWludDhBcnJheShmcy5vdXRwdXRVcmkpO1xuICAgICAgICB6aXAuZmlsZShgJHtmaWxlbmFtZX0tc2FuaXRpc2VkLiR7ZXh0fWAsIGRhdGEsIHsgYmluYXJ5OiB0cnVlIH0pO1xuICAgICAgICBhZ2dyZWdhdGVkUmVwb3J0W2ZpbGVuYW1lXSA9IGZzLnJlcG9ydDtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQWRkIHJlcG9ydCBKU09OXG4gICAgemlwLmZpbGUoJ3JlcG9ydC5qc29uJywgSlNPTi5zdHJpbmdpZnkoYWdncmVnYXRlZFJlcG9ydCwgbnVsbCwgMikpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgemlwLmdlbmVyYXRlQXN5bmMoeyB0eXBlOiAnYmxvYicgfSk7XG4gICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGNvbnRlbnQpO1xuICAgICAgc2V0WmlwVXJsKHVybCk7XG4gICAgICAvLyBDcmVhdGUgcmVwb3J0IGJsb2Igc2VwYXJhdGVseSBmb3IgY29udmVuaWVuY2VcbiAgICAgIGNvbnN0IHJlcG9ydEJsb2IgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoYWdncmVnYXRlZFJlcG9ydCwgbnVsbCwgMildLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcbiAgICAgIGNvbnN0IHJlcG9ydFVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwocmVwb3J0QmxvYik7XG4gICAgICBzZXRSZXBvcnRVcmwocmVwb3J0VVJMKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0RXhwb3J0aW5nKGZhbHNlKTtcbiAgICAgIC8vIEZvcmNlIHN0YXRlIHVwZGF0ZSB0byByZWZsZWN0IG5ldyBmcyB2YWx1ZXNcbiAgICAgIHNldEZpbGVTdGF0ZXMoWy4uLmZpbGVTdGF0ZXNdKTtcbiAgICB9XG4gIH1cblxuICAvKiogQ2hhbmdlIHByZXNldCBzZWxlY3Rpb24gYW5kIHJlYW5hbHlzZSAqL1xuICBmdW5jdGlvbiBvblByZXNldENoYW5nZShlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MU2VsZWN0RWxlbWVudD4pIHtcbiAgICBjb25zdCBpZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgIHNldFByZXNldElkKGlkKTtcbiAgfVxuXG4gIGNvbnN0IGN1cnJlbnRGaWxlU3RhdGUgPSBmaWxlU3RhdGVzW2N1cnJlbnRGaWxlSW5kZXhdO1xuICBjb25zdCBkZXRlY3Rpb25zT25QYWdlID0gY3VycmVudEZpbGVTdGF0ZVxuICAgID8gY3VycmVudEZpbGVTdGF0ZS5kZXRlY3Rpb25zLmZpbHRlcihkZXQgPT4gKGRldC5ib3gucGFnZSA/PyAwKSA9PT0gY3VycmVudEZpbGVTdGF0ZS5jdXJyZW50UGFnZSlcbiAgICA6IFtdO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17eyBwYWRkaW5nOiAnMXJlbScsIG1heFdpZHRoOiAnMTEwMHB4JywgbWFyZ2luOiAnMCBhdXRvJywgZm9udEZhbWlseTogJ3NhbnMtc2VyaWYnIH19PlxuICAgICAgPGgxIHN0eWxlPXt7IGZvbnRTaXplOiAnMS41cmVtJywgZm9udFdlaWdodDogJ2JvbGQnLCBtYXJnaW5Cb3R0b206ICcxcmVtJyB9fT5DbGVhblNoYXJlwqBQcm88L2gxPlxuICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICcxcmVtJyB9fT5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgYWNjZXB0PVwiaW1hZ2UvKixhcHBsaWNhdGlvbi9wZGZcIiBtdWx0aXBsZSBvbkNoYW5nZT17b25GaWxlc0NoYW5nZX0gLz5cbiAgICAgICAge3ByZXNldHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPHNlbGVjdCB2YWx1ZT17cHJlc2V0SWR9IG9uQ2hhbmdlPXtvblByZXNldENoYW5nZX0gc3R5bGU9e3sgbWFyZ2luTGVmdDogJzFyZW0nIH19PlxuICAgICAgICAgICAge3ByZXNldHMubWFwKHAgPT4gKFxuICAgICAgICAgICAgICA8b3B0aW9uIGtleT17cC5pZH0gdmFsdWU9e3AuaWR9PntwLm5hbWV9PC9vcHRpb24+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgKX1cbiAgICAgICAgey8qIFBybyB1bmxvY2sgYW5kIHByZXNldCBtYW5hZ2VtZW50ICovfVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgLy8gVG9nZ2xlIHByb1VubG9ja2VkIHN0YXRlLiAgSW4gYSByZWFsIGFwcCB0aGlzIHdvdWxkIHRyaWdnZXIgYSBwdXJjaGFzZSBmbG93LlxuICAgICAgICAgICAgc2V0UHJvVW5sb2NrZWQoIXByb1VubG9ja2VkKTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICcxcmVtJywgcGFkZGluZzogJzAuMjVyZW0gMC41cmVtJywgYm9yZGVyOiAnMXB4IHNvbGlkICMxMGI5ODEnLCBib3JkZXJSYWRpdXM6ICc0cHgnLCBiYWNrZ3JvdW5kQ29sb3I6IHByb1VubG9ja2VkID8gJyMxMGI5ODEnIDogJyNmM2Y0ZjYnLCBjb2xvcjogcHJvVW5sb2NrZWQgPyAnd2hpdGUnIDogJyMxMTE4MjcnIH19XG4gICAgICAgID5cbiAgICAgICAgICB7cHJvVW5sb2NrZWQgPyAnUHJvIFVubG9ja2VkJyA6ICdVbmxvY2sgUHJvJ31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIHtwcm9VbmxvY2tlZCAmJiAoXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1ByZXNldEVkaXRvcih0cnVlKX1cbiAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICcwLjVyZW0nLCBwYWRkaW5nOiAnMC4yNXJlbSAwLjVyZW0nLCBib3JkZXI6ICcxcHggc29saWQgIzI1NjNlYicsIGJvcmRlclJhZGl1czogJzRweCcsIGJhY2tncm91bmRDb2xvcjogJyMyNTYzZWInLCBjb2xvcjogJ3doaXRlJyB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIE1hbmFnZSBQcmVzZXRzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIHtsb2FkaW5nICYmIDxwPlByb2Nlc3NpbmfigKY8L3A+fVxuICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzFyZW0nIH19PlxuICAgICAgICB7LyogU2lkZWJhciB3aXRoIGZpbGUgbGlzdCAqL31cbiAgICAgICAgPGRpdiBzdHlsZT17eyB3aWR0aDogJzIwMHB4JywgYm9yZGVyUmlnaHQ6ICcxcHggc29saWQgI2RkZCcsIHBhZGRpbmdSaWdodDogJzFyZW0nIH19PlxuICAgICAgICAgIDxoMiBzdHlsZT17eyBmb250U2l6ZTogJzFyZW0nLCBmb250V2VpZ2h0OiAnYm9sZCcsIG1hcmdpbkJvdHRvbTogJzAuNXJlbScgfX0+RmlsZXM8L2gyPlxuICAgICAgICAgIDx1bCBzdHlsZT17eyBsaXN0U3R5bGU6ICdub25lJywgcGFkZGluZzogMCwgbWFyZ2luOiAwIH19PlxuICAgICAgICAgICAge2ZpbGVTdGF0ZXMubWFwKChmcywgaWR4KSA9PiAoXG4gICAgICAgICAgICAgIDxsaSBrZXk9e2lkeH0gc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMC41cmVtJywgY3Vyc29yOiAncG9pbnRlcicsIGZvbnRXZWlnaHQ6IGlkeCA9PT0gY3VycmVudEZpbGVJbmRleCA/ICdib2xkJyA6ICdub3JtYWwnIH19IG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRGaWxlSW5kZXgoaWR4KX0+XG4gICAgICAgICAgICAgICAge2ZzLmZpbGUubmFtZSB8fCBgRmlsZSAke2lkeCArIDF9YH0gKHtmcy5kZXRlY3Rpb25zLmxlbmd0aH0pXG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICAgIHtmaWxlU3RhdGVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtleHBvcnRBbGx9IGRpc2FibGVkPXtleHBvcnRpbmd9IHN0eWxlPXt7IG1hcmdpblRvcDogJzFyZW0nLCBwYWRkaW5nOiAnMC41cmVtJywgYmFja2dyb3VuZENvbG9yOiAnIzI1NjNlYicsIGNvbG9yOiAnI2ZmZicsIGJvcmRlcjogJ25vbmUnLCBib3JkZXJSYWRpdXM6ICc0cHgnLCB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICB7ZXhwb3J0aW5nID8gJ0V4cG9ydGluZ+KApicgOiAnRXhwb3J0IEFsbCd9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHt6aXBVcmwgJiYgKFxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICA8YSBocmVmPXt6aXBVcmx9IGRvd25sb2FkPVwiY2xlYW5zaGFyZS1zYW5pdGlzZWQuemlwXCIgc3R5bGU9e3sgY29sb3I6ICcjMjU2M2ViJyB9fT5Eb3dubG9hZCBaaXA8L2E+XG4gICAgICAgICAgICAgIHtyZXBvcnRVcmwgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMC4yNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgICA8YSBocmVmPXtyZXBvcnRVcmx9IGRvd25sb2FkPVwicmVwb3J0Lmpzb25cIiBzdHlsZT17eyBjb2xvcjogJyMyNTYzZWInIH19PkRvd25sb2FkIFJlcG9ydDwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7LyogTWFpbiBhcmVhOiBwcmV2aWV3IGFuZCBkZXRlY3Rpb25zICovfVxuICAgICAgICB7Y3VycmVudEZpbGVTdGF0ZSAmJiAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxIH19PlxuICAgICAgICAgICAgPGgyIHN0eWxlPXt7IGZvbnRTaXplOiAnMXJlbScsIGZvbnRXZWlnaHQ6ICdib2xkJywgbWFyZ2luQm90dG9tOiAnMC41cmVtJyB9fT5QcmV2aWV3PC9oMj5cbiAgICAgICAgICAgIHsvKiBQYWdlIG5hdmlnYXRpb24gZm9yIFBERnMgKi99XG4gICAgICAgICAgICB7Y3VycmVudEZpbGVTdGF0ZS5wYWdlcyA+IDEgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzAuNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBjaGFuZ2VQYWdlKC0xKX0gZGlzYWJsZWQ9e2N1cnJlbnRGaWxlU3RhdGUuY3VycmVudFBhZ2UgPT09IDB9IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMC41cmVtJyB9fT5QcmV2PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBjaGFuZ2VQYWdlKDEpfSBkaXNhYmxlZD17Y3VycmVudEZpbGVTdGF0ZS5jdXJyZW50UGFnZSA9PT0gY3VycmVudEZpbGVTdGF0ZS5wYWdlcyAtIDF9Pk5leHQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBtYXJnaW5MZWZ0OiAnMC41cmVtJyB9fT5QYWdlIHtjdXJyZW50RmlsZVN0YXRlLmN1cnJlbnRQYWdlICsgMX0gLyB7Y3VycmVudEZpbGVTdGF0ZS5wYWdlc308L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHsvKiBQcmV2aWV3IGNvbnRhaW5lciAqL31cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScsIGJvcmRlcjogJzFweCBzb2xpZCAjZGRkJywgZGlzcGxheTogJ2lubGluZS1ibG9jaycsIG1heFdpZHRoOiAnMTAwJScgfX0+XG4gICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlLnBhZ2VJbWFnZXNbY3VycmVudEZpbGVTdGF0ZS5jdXJyZW50UGFnZV0gPyAoXG4gICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgc3JjPXtjdXJyZW50RmlsZVN0YXRlLnBhZ2VJbWFnZXNbY3VycmVudEZpbGVTdGF0ZS5jdXJyZW50UGFnZV19XG4gICAgICAgICAgICAgICAgICBhbHQ9XCJQcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1heFdpZHRoOiAnMTAwJScsIGhlaWdodDogJ2F1dG8nLCBkaXNwbGF5OiAnYmxvY2snIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6ICcxcmVtJyB9fT5ObyBwcmV2aWV3IGF2YWlsYWJsZTwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7LyogT3ZlcmxheSBkZXRlY3Rpb25zIGZvciBjdXJyZW50IHBhZ2UgKi99XG4gICAgICAgICAgICAgIHtkZXRlY3Rpb25zT25QYWdlLm1hcChkZXQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbCA9IGN1cnJlbnRGaWxlU3RhdGUuc2VsZWN0ZWRbZGV0LmlkXTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGRyYXcgaWYgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICBpZiAoIXNlbCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzJweCBzb2xpZCByZWQnLFxuICAgICAgICAgICAgICAgICAgbGVmdDogYCR7ZGV0LmJveC54ICogMTAwfSVgLFxuICAgICAgICAgICAgICAgICAgdG9wOiBgJHtkZXQuYm94LnkgKiAxMDB9JWAsXG4gICAgICAgICAgICAgICAgICB3aWR0aDogYCR7ZGV0LmJveC53ICogMTAwfSVgLFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHtkZXQuYm94LmggKiAxMDB9JWAsXG4gICAgICAgICAgICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxkaXYga2V5PXtkZXQuaWR9IHN0eWxlPXtzdHlsZX0gdGl0bGU9e2Ake2RldC5raW5kfTogJHtkZXQucmVhc29ufWB9IC8+O1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey8qIFNhbml0aXNlZCBwcmV2aWV3IG9yIGRvd25sb2FkIGxpbmsgKi99XG4gICAgICAgICAgICB7Y3VycmVudEZpbGVTdGF0ZS5vdXRwdXRVcmkgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJzAuNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgPGgzIHN0eWxlPXt7IGZvbnRTaXplOiAnMC45cmVtJywgZm9udFdlaWdodDogJ2JvbGQnIH19PlNhbml0aXNlZDwvaDM+XG4gICAgICAgICAgICAgICAgeygoY3VycmVudEZpbGVTdGF0ZS5maWxlIGFzIGFueSkudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3BkZicpID8gKFxuICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2N1cnJlbnRGaWxlU3RhdGUub3V0cHV0VXJpfSBkb3dubG9hZD17YCR7Y3VycmVudEZpbGVTdGF0ZS5maWxlLm5hbWUucmVwbGFjZSgvXFwuW14uXSskLywgJycpfS1zYW5pdGlzZWQucGRmYH0gc3R5bGU9e3sgY29sb3I6ICcjMjU2M2ViJyB9fT5Eb3dubG9hZCBQREY8L2E+XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtjdXJyZW50RmlsZVN0YXRlLm91dHB1dFVyaX0gYWx0PVwiU2FuaXRpc2VkIHByZXZpZXdcIiBzdHlsZT17eyBtYXhXaWR0aDogJzEwMCUnLCBoZWlnaHQ6ICdhdXRvJyB9fSAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHsvKiBEZXRlY3Rpb25zIGxpc3QgKi99XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJzFyZW0nIH19PlxuICAgICAgICAgICAgICA8aDIgc3R5bGU9e3sgZm9udFNpemU6ICcxcmVtJywgZm9udFdlaWdodDogJ2JvbGQnIH19PkRldGVjdGlvbnM8L2gyPlxuICAgICAgICAgICAgICA8dWwgc3R5bGU9e3sgbGlzdFN0eWxlOiAnbm9uZScsIHBhZGRpbmc6IDAgfX0+XG4gICAgICAgICAgICAgICAge2N1cnJlbnRGaWxlU3RhdGUuZGV0ZWN0aW9ucy5tYXAoZGV0ID0+IChcbiAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e2RldC5pZH0gc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMC41cmVtJywgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkICNlZWUnLCBwYWRkaW5nQm90dG9tOiAnMC4yNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9eyEhY3VycmVudEZpbGVTdGF0ZS5zZWxlY3RlZFtkZXQuaWRdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gdG9nZ2xlRGV0ZWN0aW9uKGRldC5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMC41cmVtJyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+e2RldC5raW5kfTwvc3Ryb25nPiDigJQge2RldC5yZWFzb259IHtkZXQucHJldmlldyA/IGAo4oCcJHtkZXQucHJldmlld33igJ0pYCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7LyogU3R5bGUgc2VsZWN0b3IgYW5kIGxhYmVsIGlucHV0ICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICcxLjVyZW0nLCBtYXJnaW5Ub3A6ICcwLjI1cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y3VycmVudEZpbGVTdGF0ZS5hY3Rpb25zW2RldC5pZF0uc3R5bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBjaGFuZ2VTdHlsZShkZXQuaWQsIGUudGFyZ2V0LnZhbHVlIGFzIFJlZGFjdGlvblN0eWxlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMC41cmVtJyB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJCT1hcIj5Cb3g8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJCTFVSXCI+Qmx1cjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlBJWEVMQVRFXCI+UGl4ZWxhdGU8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJMQUJFTFwiPkxhYmVsPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTUFTS19MQVNUNFwiPk1hc2sgTGFzdCA0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRGaWxlU3RhdGUuYWN0aW9uc1tkZXQuaWRdLnN0eWxlID09PSAnTEFCRUwnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTGFiZWwgdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXJyZW50RmlsZVN0YXRlLmFjdGlvbnNbZGV0LmlkXS5sYWJlbFRleHQgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IGNoYW5nZUxhYmVsKGRldC5pZCwgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiAnMC4yNXJlbScsIGJvcmRlcjogJzFweCBzb2xpZCAjY2NjJywgYm9yZGVyUmFkaXVzOiAnM3B4JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtzYW5pdGlzZUN1cnJlbnR9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmd9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMC41cmVtJywgcGFkZGluZzogJzAuNXJlbSAxcmVtJywgYmFja2dyb3VuZENvbG9yOiAnIzEwYjk4MScsIGNvbG9yOiAnd2hpdGUnLCBib3JkZXJSYWRpdXM6ICc0cHgnLCBib3JkZXI6ICdub25lJyB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgU2FuaXRpc2UgQ3VycmVudFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICB7LyogUHJlc2V0IEVkaXRvciBPdmVybGF5LiAgT25seSB2aXNpYmxlIHdoZW4gc2hvd1ByZXNldEVkaXRvciBpcyB0cnVlIGFuZCBQcm8gaXMgdW5sb2NrZWQuICovfVxuICAgICAge3Nob3dQcmVzZXRFZGl0b3IgJiYgcHJvVW5sb2NrZWQgJiYgKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC41KScsXG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgIHpJbmRleDogMTAwMFxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZScsIHBhZGRpbmc6ICcxcmVtJywgYm9yZGVyUmFkaXVzOiAnNnB4Jywgd2lkdGg6ICc5MCUnLCBtYXhXaWR0aDogJzYwMHB4JywgbWF4SGVpZ2h0OiAnOTAlJywgb3ZlcmZsb3dZOiAnYXV0bycgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7LyogSWYgZWRpdGluZ1ByZXNldCBpcyBudWxsLCBzaG93IHRoZSBsaXN0IG9mIHByZXNldHMgd2l0aCBlZGl0L2RlbGV0ZSBhbmQgY3JlYXRlIG5ldyAqL31cbiAgICAgICAgICAgIHshZWRpdGluZ1ByZXNldCAmJiAoXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGgyIHN0eWxlPXt7IGZvbnRTaXplOiAnMS4yNXJlbScsIGZvbnRXZWlnaHQ6ICdib2xkJywgbWFyZ2luQm90dG9tOiAnMC41cmVtJyB9fT5NYW5hZ2UgUHJlc2V0czwvaDI+XG4gICAgICAgICAgICAgICAgPHVsIHN0eWxlPXt7IGxpc3RTdHlsZTogJ25vbmUnLCBwYWRkaW5nOiAwLCBtYXJnaW46IDAgfX0+XG4gICAgICAgICAgICAgICAgICB7cHJlc2V0cy5tYXAocCA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e3AuaWR9IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzAuNXJlbScsIGJvcmRlckJvdHRvbTogJzFweCBzb2xpZCAjZWVlJywgcGFkZGluZ0JvdHRvbTogJzAuNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz57cC5uYW1lfTwvc3Ryb25nPiAoe3AuaWR9KVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMC4yNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBlZGl0aW5nIHRoaXMgcHJlc2V0IGJ5IGNsb25pbmcgaXRzIG9iamVjdC4gIENsb25lIHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlyZWN0IG11dGF0aW9uIG9mIHRoZSBQUkVTRVRTIGFycmF5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdQcmVzZXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHAuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkS2luZHM6IFsuLi5wLmVuYWJsZWRLaW5kc10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZU1hcDogeyAuLi4ocC5zdHlsZU1hcCB8fCB7fSkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlZ2V4OiBwLmN1c3RvbVJlZ2V4ID8gWy4uLnAuY3VzdG9tUmVnZXhdIDogW11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6ICcwLjVyZW0nLCBwYWRkaW5nOiAnMC4yNXJlbSAwLjVyZW0nLCBib3JkZXI6ICcxcHggc29saWQgIzI1NjNlYicsIGJhY2tncm91bmRDb2xvcjogJyMyNTYzZWInLCBjb2xvcjogJ3doaXRlJywgYm9yZGVyUmFkaXVzOiAnNHB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPkVkaXQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtKGBEZWxldGUgcHJlc2V0IFwiJHtwLm5hbWV9XCI/YCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVByZXNldChwLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbG9hZCBwcmVzZXRzIGZyb20gY29yZSBhZnRlciBkZWxldGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJlc2V0cyhsaXN0UHJlc2V0cygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHBhZGRpbmc6ICcwLjI1cmVtIDAuNXJlbScsIGJvcmRlcjogJzFweCBzb2xpZCAjZGMyNjI2JywgYmFja2dyb3VuZENvbG9yOiAnI2RjMjYyNicsIGNvbG9yOiAnd2hpdGUnLCBib3JkZXJSYWRpdXM6ICc0cHgnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHByZXNldCB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nUHJlc2V0KHsgaWQ6ICcnLCBuYW1lOiAnJywgZW5hYmxlZEtpbmRzOiBbXSwgc3R5bGVNYXA6IHt9LCBjdXN0b21SZWdleDogW10gfSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMC41cmVtJywgcGFkZGluZzogJzAuNXJlbScsIGJvcmRlclJhZGl1czogJzRweCcsIGJhY2tncm91bmRDb2xvcjogJyMxMGI5ODEnLCBjb2xvcjogJ3doaXRlJywgYm9yZGVyOiAnbm9uZScgfX1cbiAgICAgICAgICAgICAgICA+QWRkIE5ldyBQcmVzZXQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dQcmVzZXRFZGl0b3IoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nUHJlc2V0KG51bGwpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICcwLjVyZW0nLCBtYXJnaW5Ub3A6ICcwLjVyZW0nLCBwYWRkaW5nOiAnMC41cmVtJywgYm9yZGVyUmFkaXVzOiAnNHB4JywgYmFja2dyb3VuZENvbG9yOiAnIzZiNzI4MCcsIGNvbG9yOiAnd2hpdGUnLCBib3JkZXI6ICdub25lJyB9fVxuICAgICAgICAgICAgICAgID5DbG9zZTwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7LyogRWRpdGluZy9DcmVhdGluZyBhIHByZXNldCAqL31cbiAgICAgICAgICAgIHtlZGl0aW5nUHJlc2V0ICYmIChcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDIgc3R5bGU9e3sgZm9udFNpemU6ICcxLjI1cmVtJywgZm9udFdlaWdodDogJ2JvbGQnLCBtYXJnaW5Cb3R0b206ICcwLjVyZW0nIH19PntlZGl0aW5nUHJlc2V0LmlkID8gJ0VkaXQgUHJlc2V0JyA6ICdDcmVhdGUgUHJlc2V0J308L2gyPlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBtYXJnaW5Cb3R0b206ICcwLjI1cmVtJyB9fT5QcmVzZXQgTmFtZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZWRpdGluZ1ByZXNldC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBzZXRFZGl0aW5nUHJlc2V0KHsgLi4uZWRpdGluZ1ByZXNldCwgbmFtZTogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIHBhZGRpbmc6ICcwLjI1cmVtJywgYm9yZGVyOiAnMXB4IHNvbGlkICNjY2MnLCBib3JkZXJSYWRpdXM6ICc0cHgnIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBtYXJnaW5Cb3R0b206ICcwLjI1cmVtJyB9fT5FbmFibGVkIERldGVjdG9yczwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICB7REVURUNUSU9OX0tJTkRTLm1hcChraW5kID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2tpbmR9IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzAuMjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtlZGl0aW5nUHJlc2V0LmVuYWJsZWRLaW5kcy5pbmNsdWRlcyhraW5kKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdQcmVzZXQocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmFibGVkID0gbmV3IFNldChwcmV2LmVuYWJsZWRLaW5kcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCkgZW5hYmxlZC5hZGQoa2luZCk7IGVsc2UgZW5hYmxlZC5kZWxldGUoa2luZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCBlbmFibGVkS2luZHM6IEFycmF5LmZyb20oZW5hYmxlZCkgfSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMC41cmVtJyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtraW5kfVxuICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgey8qIFN0eWxlIHNlbGVjdG9yIGZvciBlYWNoIGRldGVjdGlvbiBraW5kICovfVxuICAgICAgICAgICAgICAgICAgICAgIHtlZGl0aW5nUHJlc2V0LmVuYWJsZWRLaW5kcy5pbmNsdWRlcyhraW5kKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXsoZWRpdGluZ1ByZXNldC5zdHlsZU1hcCAmJiBlZGl0aW5nUHJlc2V0LnN0eWxlTWFwW2tpbmRdKSB8fCAnQk9YJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZS50YXJnZXQudmFsdWUgYXMgUmVkYWN0aW9uU3R5bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ1ByZXNldChwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld01hcCA9IHsgLi4uKHByZXYuc3R5bGVNYXAgfHwge30pIH0gYXMgYW55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3TWFwW2tpbmRdID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCBzdHlsZU1hcDogbmV3TWFwIH0gYXMgYW55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5MZWZ0OiAnMC41cmVtJyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7U1RZTEVfT1BUSU9OUy5tYXAob3B0ID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17b3B0fSB2YWx1ZT17b3B0fT57b3B0fTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIG1hcmdpbkJvdHRvbTogJzAuMjVyZW0nIH19PkN1c3RvbSBSZWdleCBQYXR0ZXJucyAob25lIHBlciBsaW5lKTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9eyhlZGl0aW5nUHJlc2V0LmN1c3RvbVJlZ2V4IHx8IFtdKS5qb2luKCdcXG4nKX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gZS50YXJnZXQudmFsdWUuc3BsaXQoL1xcbisvKS5tYXAocyA9PiBzLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgICAgICAgICAgIHNldEVkaXRpbmdQcmVzZXQocHJldiA9PiAoeyAuLi5wcmV2LCBjdXN0b21SZWdleDogbGluZXMgfSBhcyBhbnkpKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnODBweCcsIHBhZGRpbmc6ICcwLjI1cmVtJywgYm9yZGVyOiAnMXB4IHNvbGlkICNjY2MnLCBib3JkZXJSYWRpdXM6ICc0cHgnLCBmb250RmFtaWx5OiAnbW9ub3NwYWNlJyB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcgfX0+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRFZGl0aW5nUHJlc2V0KG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5SaWdodDogJzAuNXJlbScsIHBhZGRpbmc6ICcwLjVyZW0gMXJlbScsIGJhY2tncm91bmRDb2xvcjogJyM2YjcyODAnLCBjb2xvcjogJ3doaXRlJywgYm9yZGVyOiAnbm9uZScsIGJvcmRlclJhZGl1czogJzRweCcgfX1cbiAgICAgICAgICAgICAgICAgID5CYWNrPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGNyZWF0aW5nIGEgbmV3IHByZXNldCwgZ2VuZXJhdGUgYW4gSUQgYmFzZWQgb24gdGhlIG5hbWVcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBlZGl0aW5nUHJlc2V0LmlkO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBlZGl0aW5nUHJlc2V0Lm5hbWUudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkID0gbmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1teYS16MC05XSsvZywgJy0nKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJlc2V0VG9TYXZlOiBQcmVzZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGVkaXRpbmdQcmVzZXQubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZWRLaW5kczogZWRpdGluZ1ByZXNldC5lbmFibGVkS2luZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZU1hcDogZWRpdGluZ1ByZXNldC5zdHlsZU1hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlZ2V4OiBlZGl0aW5nUHJlc2V0LmN1c3RvbVJlZ2V4XG4gICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICBzYXZlUHJlc2V0KHByZXNldFRvU2F2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0UHJlc2V0cyhsaXN0UHJlc2V0cygpKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRQcmVzZXRJZChpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0RWRpdGluZ1ByZXNldChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93UHJlc2V0RWRpdG9yKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzAuNXJlbSAxcmVtJywgYmFja2dyb3VuZENvbG9yOiAnIzEwYjk4MScsIGNvbG9yOiAnd2hpdGUnLCBib3JkZXI6ICdub25lJywgYm9yZGVyUmFkaXVzOiAnNHB4JyB9fVxuICAgICAgICAgICAgICAgICAgPlNhdmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJhbmFseXplRG9jdW1lbnQiLCJhcHBseVJlZGFjdGlvbnMiLCJsaXN0UHJlc2V0cyIsInNhdmVQcmVzZXQiLCJkZWxldGVQcmVzZXQiLCJKU1ppcCIsInBkZmpzTGliIiwianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsIndvcmtlclNyYyIsInJlcXVpcmUiLCJHbG9iYWxXb3JrZXJPcHRpb25zIiwiZSIsImxvYWRQZGZQYWdlcyIsImZpbGUiLCJidWZmZXIiLCJhcnJheUJ1ZmZlciIsInBkZiIsImdldERvY3VtZW50IiwiZGF0YSIsInByb21pc2UiLCJwYWdlcyIsImkiLCJudW1QYWdlcyIsInBhZ2UiLCJnZXRQYWdlIiwidmlld3BvcnQiLCJnZXRWaWV3cG9ydCIsInNjYWxlIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsInB1c2giLCJyZW5kZXJDb250ZXh0IiwiY2FudmFzQ29udGV4dCIsInJlbmRlciIsInRvRGF0YVVSTCIsImRhdGFVUklUb1VpbnQ4QXJyYXkiLCJkYXRhVVJJIiwicGFydHMiLCJzcGxpdCIsImJhc2U2NFN0cmluZyIsImJpbmFyeVN0cmluZyIsImF0b2IiLCJsZW4iLCJsZW5ndGgiLCJieXRlcyIsIlVpbnQ4QXJyYXkiLCJjaGFyQ29kZUF0IiwiSG9tZSIsImZpbGVzIiwic2V0RmlsZXMiLCJmaWxlU3RhdGVzIiwic2V0RmlsZVN0YXRlcyIsImN1cnJlbnRGaWxlSW5kZXgiLCJzZXRDdXJyZW50RmlsZUluZGV4IiwicHJlc2V0cyIsInNldFByZXNldHMiLCJwcmVzZXRJZCIsInNldFByZXNldElkIiwibG9hZGluZyIsInNldExvYWRpbmciLCJleHBvcnRpbmciLCJzZXRFeHBvcnRpbmciLCJ6aXBVcmwiLCJzZXRaaXBVcmwiLCJyZXBvcnRVcmwiLCJzZXRSZXBvcnRVcmwiLCJwcm9VbmxvY2tlZCIsInNldFByb1VubG9ja2VkIiwic2hvd1ByZXNldEVkaXRvciIsInNldFNob3dQcmVzZXRFZGl0b3IiLCJlZGl0aW5nUHJlc2V0Iiwic2V0RWRpdGluZ1ByZXNldCIsIkRFVEVDVElPTl9LSU5EUyIsIlNUWUxFX09QVElPTlMiLCJwcyIsImlkIiwiaXNDYW5jZWxsZWQiLCJhbmFseXNlQWxsIiwibmV3U3RhdGVzIiwicmVzdWx0Iiwic2VsIiwiYWN0IiwiZGV0ZWN0aW9ucyIsImZvckVhY2giLCJkZXQiLCJzdHlsZSIsInBhZ2VJbWFnZXMiLCJ0eXBlIiwiZXJyIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwic2VsZWN0ZWQiLCJhY3Rpb25zIiwiY3VycmVudFBhZ2UiLCJvdXRwdXRVcmkiLCJ1bmRlZmluZWQiLCJyZXBvcnQiLCJjb25zb2xlIiwiZXJyb3IiLCJvbkZpbGVzQ2hhbmdlIiwidGFyZ2V0IiwiYXJyIiwiQXJyYXkiLCJmcm9tIiwidG9nZ2xlRGV0ZWN0aW9uIiwiZGV0SWQiLCJwcmV2IiwiY29weSIsImZzIiwiY2hhbmdlU3R5bGUiLCJsYWJlbFRleHQiLCJjaGFuZ2VMYWJlbCIsInRleHQiLCJjaGFuZ2VQYWdlIiwiZGVsdGEiLCJuZXh0Iiwic2FuaXRpc2VDdXJyZW50IiwiZGV0ZWN0aW9uSWQiLCJvdXRwdXRUeXBlIiwib3V0cHV0IiwicXVhbGl0eSIsImZpbGVVcmkiLCJleHBvcnRBbGwiLCJ6aXAiLCJhZ2dyZWdhdGVkUmVwb3J0IiwiaWR4IiwiZXh0IiwiZmlsZW5hbWUiLCJuYW1lIiwicmVwbGFjZSIsImJpbmFyeSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb250ZW50IiwiZ2VuZXJhdGVBc3luYyIsInVybCIsInJlcG9ydEJsb2IiLCJCbG9iIiwicmVwb3J0VVJMIiwib25QcmVzZXRDaGFuZ2UiLCJ2YWx1ZSIsImN1cnJlbnRGaWxlU3RhdGUiLCJkZXRlY3Rpb25zT25QYWdlIiwiZmlsdGVyIiwiYm94IiwicGFkZGluZyIsIm1heFdpZHRoIiwibWFyZ2luIiwiZm9udEZhbWlseSIsImNoaWxkcmVuIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwibWFyZ2luQm90dG9tIiwiYWNjZXB0IiwibXVsdGlwbGUiLCJvbkNoYW5nZSIsIm1hcmdpbkxlZnQiLCJtYXAiLCJwIiwib25DbGljayIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiZGlzcGxheSIsImdhcCIsImJvcmRlclJpZ2h0IiwicGFkZGluZ1JpZ2h0IiwibGlzdFN0eWxlIiwiY3Vyc29yIiwiZGlzYWJsZWQiLCJtYXJnaW5Ub3AiLCJocmVmIiwiZG93bmxvYWQiLCJmbGV4IiwibWFyZ2luUmlnaHQiLCJwb3NpdGlvbiIsInNyYyIsImFsdCIsImxlZnQiLCJ4IiwidG9wIiwieSIsInciLCJoIiwiYm94U2l6aW5nIiwidGl0bGUiLCJraW5kIiwicmVhc29uIiwiYm9yZGVyQm90dG9tIiwicGFkZGluZ0JvdHRvbSIsImNoZWNrZWQiLCJwcmV2aWV3IiwicGxhY2Vob2xkZXIiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJ6SW5kZXgiLCJtYXhIZWlnaHQiLCJvdmVyZmxvd1kiLCJlbmFibGVkS2luZHMiLCJzdHlsZU1hcCIsImN1c3RvbVJlZ2V4IiwiY29uZmlybSIsImluY2x1ZGVzIiwiZW5hYmxlZCIsIlNldCIsImFkZCIsImRlbGV0ZSIsIm5ld01hcCIsIm9wdCIsImpvaW4iLCJsaW5lcyIsInMiLCJ0cmltIiwiQm9vbGVhbiIsInRvTG93ZXJDYXNlIiwicHJlc2V0VG9TYXZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/index.tsx\n");

/***/ }),

/***/ "../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.tsx\");\n/* harmony import */ var _pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/index.tsx */ \"./pages/index.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__]);\n_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/index\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMS4wX0BiYWJlbCtjb3JlQDcuMjguM19yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMF9fcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkYmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmluZGV4LnRzeCZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ2hDO0FBQ0w7QUFDMUQ7QUFDb0Q7QUFDVjtBQUMxQztBQUM4QztBQUM5QztBQUNBLGlFQUFlLHdFQUFLLENBQUMsNkNBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMsNkNBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMsNkNBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMsNkNBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLDZDQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLDZDQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMsNkNBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMsNkNBQVE7QUFDekQ7QUFDTyx3QkFBd0IseUdBQWdCO0FBQy9DO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsV0FBVztBQUNYLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQsaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8/NGQxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc1JvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCBEb2N1bWVudCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19kb2N1bWVudFwiO1xuaW1wb3J0IEFwcCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2luZGV4LnRzeFwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL2luZGV4XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "../core-detect/dist/detectors/index.js":
/*!**********************************************!*\
  !*** ../core-detect/dist/detectors/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   detectToken: () => (/* binding */ detectToken),\n/* harmony export */   isAWSKey: () => (/* binding */ isAWSKey),\n/* harmony export */   isJWT: () => (/* binding */ isJWT),\n/* harmony export */   isLuhnValid: () => (/* binding */ isLuhnValid),\n/* harmony export */   isValidIBAN: () => (/* binding */ isValidIBAN),\n/* harmony export */   isValidSSN: () => (/* binding */ isValidSSN)\n/* harmony export */ });\n/**\n * Determine whether a string of digits represents a valid PAN according\n * to the Luhn checksum algorithm.  Only digits are considered; all\n * non‑numeric characters should be stripped before calling this function.\n */\nfunction isLuhnValid(value) {\n    let sum = 0;\n    let shouldDouble = false;\n    for (let i = value.length - 1; i >= 0; i--) {\n        const c = value.charCodeAt(i) - 48;\n        if (c < 0 || c > 9) {\n            return false;\n        }\n        let digit = c;\n        if (shouldDouble) {\n            digit *= 2;\n            if (digit > 9)\n                digit -= 9;\n        }\n        sum += digit;\n        shouldDouble = !shouldDouble;\n    }\n    return sum % 10 === 0;\n}\n/**\n * Validate an International Bank Account Number (IBAN) using the MOD 97\n * algorithm defined in ISO 13616.  Letters are mapped A=10, B=11, …\n * The function returns true when the IBAN appears structurally valid.  It\n * does not verify that the account exists.\n */\nfunction isValidIBAN(iban) {\n    const cleaned = iban.replace(/\\s+/g, '').toUpperCase();\n    // Basic length check: IBANs are between 15 and 34 characters long\n    if (cleaned.length < 15 || cleaned.length > 34)\n        return false;\n    // Move the four initial characters to the end of the string\n    const rearranged = cleaned.slice(4) + cleaned.slice(0, 4);\n    // Replace letters with numbers: A=10, B=11, …\n    let numeric = '';\n    for (const ch of rearranged) {\n        const code = ch.charCodeAt(0);\n        if (code >= 48 && code <= 57) {\n            numeric += ch;\n        }\n        else if (code >= 65 && code <= 90) {\n            numeric += (code - 55).toString();\n        }\n        else {\n            return false;\n        }\n    }\n    // Compute the remainder using mod 97\n    let remainder = 0;\n    for (let i = 0; i < numeric.length; i++) {\n        remainder = (remainder * 10 + Number(numeric[i])) % 97;\n    }\n    return remainder === 1;\n}\n/**\n * Validate a US Social Security Number (SSN).  Performs basic\n * structural checks: XXX-XX-XXXX where the area number is not 000,\n * 666, or between 900–999; the group number is not 00; and the serial\n * number is not 0000.\n */\nfunction isValidSSN(value) {\n    const ssnRegex = /^(\\d{3})-(\\d{2})-(\\d{4})$/;\n    const match = ssnRegex.exec(value);\n    if (!match)\n        return false;\n    const area = parseInt(match[1], 10);\n    const group = parseInt(match[2], 10);\n    const serial = parseInt(match[3], 10);\n    if (area === 0 || group === 0 || serial === 0)\n        return false;\n    if (area === 666 || area >= 900)\n        return false;\n    return true;\n}\n/** Detect whether a token is formatted like a JSON Web Token (JWT). */\nfunction isJWT(value) {\n    return /^[A-Za-z0-9_-]+\\.[A-Za-z0-9_-]+\\.[A-Za-z0-9_-]+$/.test(value.trim());\n}\n/** Detect whether a token looks like an AWS access key ID.  AWS keys\n * typically start with AKIA or ASIA followed by 16 uppercase letters or\n * digits. */\nfunction isAWSKey(value) {\n    return /^(A(KIA|SIA)[A-Z0-9]{16})$/.test(value.trim());\n}\n/**\n * Perform high‑level detection for a single token.  If the token matches\n * a sensitive pattern, this function returns an object describing the\n * detection; otherwise it returns null.  Note that this function does\n * not compute bounding boxes – it only classifies the token.  Bounding\n * boxes are provided by the OCR engine.\n */\nfunction detectToken(token) {\n    const raw = token.trim();\n    if (!raw)\n        return null;\n    // Detect names (proper nouns) – starts with uppercase letter followed by lowercase letters\n    // and not purely numeric.  Short words like \"AI\" or all uppercase words are ignored.\n    const namePattern = /^[A-Z][a-z]{2,}$/;\n    if (namePattern.test(raw) && !/\\d/.test(raw) && raw.toUpperCase() !== raw) {\n        return { kind: 'NAME', reason: 'Likely proper name' };\n    }\n    // Detect addresses: tokens that look like street types or contain digits\n    const streetTypes = /^(Street|St\\.?|Avenue|Ave\\.?|Road|Rd\\.?|Lane|Ln\\.?|Boulevard|Blvd\\.?|Drive|Dr\\.?)$/i;\n    if (/\\d/.test(raw) && raw.length >= 3) {\n        return { kind: 'ADDRESS', reason: 'Contains digits and could be part of an address' };\n    }\n    if (streetTypes.test(raw)) {\n        return { kind: 'ADDRESS', reason: 'Street type indicator' };\n    }\n    // Email\n    const emailPattern = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i;\n    if (emailPattern.test(raw)) {\n        return { kind: 'EMAIL', reason: 'Matches email pattern' };\n    }\n    // Phone number (very permissive, minimum 7 digits)\n    const digitsOnly = raw.replace(/\\D/g, '');\n    if (digitsOnly.length >= 7 && /\\d{3,}/.test(digitsOnly)) {\n        // Simple heuristic: if it contains 10–15 digits and is not part of another pattern\n        if (digitsOnly.length >= 10 && digitsOnly.length <= 15) {\n            return { kind: 'PHONE', reason: 'Potential phone number' };\n        }\n    }\n    // PAN (credit card number) – 13–19 digits with Luhn valid\n    if (digitsOnly.length >= 13 && digitsOnly.length <= 19 && isLuhnValid(digitsOnly)) {\n        return { kind: 'PAN', reason: 'Luhn valid primary account number' };\n    }\n    // IBAN (starts with two letters followed by digits and letters)\n    const ibanPattern = /^[A-Z]{2}[0-9A-Z]{13,32}$/i;\n    if (ibanPattern.test(raw) && isValidIBAN(raw)) {\n        return { kind: 'IBAN', reason: 'Valid IBAN checksum' };\n    }\n    // SSN (US format)\n    const ssnPattern = /^\\d{3}-\\d{2}-\\d{4}$/;\n    if (ssnPattern.test(raw) && isValidSSN(raw)) {\n        return { kind: 'SSN', reason: 'Valid US SSN format' };\n    }\n    // JWT\n    if (isJWT(raw)) {\n        return { kind: 'JWT', reason: 'Looks like a JWT token' };\n    }\n    // AWS access key id\n    if (isAWSKey(raw)) {\n        return { kind: 'API_KEY', reason: 'Looks like an AWS access key' };\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC9kZXRlY3RvcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsbUNBQW1DLFFBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNEJBQTRCO0FBQ3hEO0FBQ0E7QUFDTztBQUNQLDJCQUEyQixFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGlDQUFpQyxHQUFHO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxHQUFHO0FBQ3hDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDZEQUE2RCxHQUFHO0FBQ2hFO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxHQUFHO0FBQ3pDO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGdDQUFnQyxFQUFFLFNBQVMsTUFBTTtBQUNqRDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsNEJBQTRCLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtBQUMxQztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BjbGVhbnNoYXJlL3VpLy4uL2NvcmUtZGV0ZWN0L2Rpc3QvZGV0ZWN0b3JzL2luZGV4LmpzP2RhMzUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciBhIHN0cmluZyBvZiBkaWdpdHMgcmVwcmVzZW50cyBhIHZhbGlkIFBBTiBhY2NvcmRpbmdcbiAqIHRvIHRoZSBMdWhuIGNoZWNrc3VtIGFsZ29yaXRobS4gIE9ubHkgZGlnaXRzIGFyZSBjb25zaWRlcmVkOyBhbGxcbiAqIG5vbuKAkW51bWVyaWMgY2hhcmFjdGVycyBzaG91bGQgYmUgc3RyaXBwZWQgYmVmb3JlIGNhbGxpbmcgdGhpcyBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTHVoblZhbGlkKHZhbHVlKSB7XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgbGV0IHNob3VsZERvdWJsZSA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSB2YWx1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBjID0gdmFsdWUuY2hhckNvZGVBdChpKSAtIDQ4O1xuICAgICAgICBpZiAoYyA8IDAgfHwgYyA+IDkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlnaXQgPSBjO1xuICAgICAgICBpZiAoc2hvdWxkRG91YmxlKSB7XG4gICAgICAgICAgICBkaWdpdCAqPSAyO1xuICAgICAgICAgICAgaWYgKGRpZ2l0ID4gOSlcbiAgICAgICAgICAgICAgICBkaWdpdCAtPSA5O1xuICAgICAgICB9XG4gICAgICAgIHN1bSArPSBkaWdpdDtcbiAgICAgICAgc2hvdWxkRG91YmxlID0gIXNob3VsZERvdWJsZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bSAlIDEwID09PSAwO1xufVxuLyoqXG4gKiBWYWxpZGF0ZSBhbiBJbnRlcm5hdGlvbmFsIEJhbmsgQWNjb3VudCBOdW1iZXIgKElCQU4pIHVzaW5nIHRoZSBNT0TCoDk3XG4gKiBhbGdvcml0aG0gZGVmaW5lZCBpbiBJU0/CoDEzNjE2LiAgTGV0dGVycyBhcmUgbWFwcGVkIEE9MTAsIEI9MTEsIOKAplxuICogVGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHRoZSBJQkFOIGFwcGVhcnMgc3RydWN0dXJhbGx5IHZhbGlkLiAgSXRcbiAqIGRvZXMgbm90IHZlcmlmeSB0aGF0IHRoZSBhY2NvdW50IGV4aXN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRJQkFOKGliYW4pIHtcbiAgICBjb25zdCBjbGVhbmVkID0gaWJhbi5yZXBsYWNlKC9cXHMrL2csICcnKS50b1VwcGVyQ2FzZSgpO1xuICAgIC8vIEJhc2ljIGxlbmd0aCBjaGVjazogSUJBTnMgYXJlIGJldHdlZW4gMTUgYW5kIDM0IGNoYXJhY3RlcnMgbG9uZ1xuICAgIGlmIChjbGVhbmVkLmxlbmd0aCA8IDE1IHx8IGNsZWFuZWQubGVuZ3RoID4gMzQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBNb3ZlIHRoZSBmb3VyIGluaXRpYWwgY2hhcmFjdGVycyB0byB0aGUgZW5kIG9mIHRoZSBzdHJpbmdcbiAgICBjb25zdCByZWFycmFuZ2VkID0gY2xlYW5lZC5zbGljZSg0KSArIGNsZWFuZWQuc2xpY2UoMCwgNCk7XG4gICAgLy8gUmVwbGFjZSBsZXR0ZXJzIHdpdGggbnVtYmVyczogQT0xMCwgQj0xMSwg4oCmXG4gICAgbGV0IG51bWVyaWMgPSAnJztcbiAgICBmb3IgKGNvbnN0IGNoIG9mIHJlYXJyYW5nZWQpIHtcbiAgICAgICAgY29uc3QgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmIChjb2RlID49IDQ4ICYmIGNvZGUgPD0gNTcpIHtcbiAgICAgICAgICAgIG51bWVyaWMgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29kZSA+PSA2NSAmJiBjb2RlIDw9IDkwKSB7XG4gICAgICAgICAgICBudW1lcmljICs9IChjb2RlIC0gNTUpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ29tcHV0ZSB0aGUgcmVtYWluZGVyIHVzaW5nIG1vZCA5N1xuICAgIGxldCByZW1haW5kZXIgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtZXJpYy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZW1haW5kZXIgPSAocmVtYWluZGVyICogMTAgKyBOdW1iZXIobnVtZXJpY1tpXSkpICUgOTc7XG4gICAgfVxuICAgIHJldHVybiByZW1haW5kZXIgPT09IDE7XG59XG4vKipcbiAqIFZhbGlkYXRlIGEgVVMgU29jaWFsIFNlY3VyaXR5IE51bWJlciAoU1NOKS4gIFBlcmZvcm1zIGJhc2ljXG4gKiBzdHJ1Y3R1cmFsIGNoZWNrczogWFhYLVhYLVhYWFggd2hlcmUgdGhlIGFyZWEgbnVtYmVyIGlzIG5vdCAwMDAsXG4gKiA2NjYsIG9yIGJldHdlZW4gOTAw4oCTOTk5OyB0aGUgZ3JvdXAgbnVtYmVyIGlzIG5vdCAwMDsgYW5kIHRoZSBzZXJpYWxcbiAqIG51bWJlciBpcyBub3QgMDAwMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRTU04odmFsdWUpIHtcbiAgICBjb25zdCBzc25SZWdleCA9IC9eKFxcZHszfSktKFxcZHsyfSktKFxcZHs0fSkkLztcbiAgICBjb25zdCBtYXRjaCA9IHNzblJlZ2V4LmV4ZWModmFsdWUpO1xuICAgIGlmICghbWF0Y2gpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBhcmVhID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICBjb25zdCBncm91cCA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgY29uc3Qgc2VyaWFsID0gcGFyc2VJbnQobWF0Y2hbM10sIDEwKTtcbiAgICBpZiAoYXJlYSA9PT0gMCB8fCBncm91cCA9PT0gMCB8fCBzZXJpYWwgPT09IDApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoYXJlYSA9PT0gNjY2IHx8IGFyZWEgPj0gOTAwKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKiogRGV0ZWN0IHdoZXRoZXIgYSB0b2tlbiBpcyBmb3JtYXR0ZWQgbGlrZSBhIEpTT04gV2ViIFRva2VuIChKV1QpLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSldUKHZhbHVlKSB7XG4gICAgcmV0dXJuIC9eW0EtWmEtejAtOV8tXStcXC5bQS1aYS16MC05Xy1dK1xcLltBLVphLXowLTlfLV0rJC8udGVzdCh2YWx1ZS50cmltKCkpO1xufVxuLyoqIERldGVjdCB3aGV0aGVyIGEgdG9rZW4gbG9va3MgbGlrZSBhbiBBV1MgYWNjZXNzIGtleSBJRC4gIEFXUyBrZXlzXG4gKiB0eXBpY2FsbHkgc3RhcnQgd2l0aCBBS0lBIG9yIEFTSUEgZm9sbG93ZWQgYnkgMTYgdXBwZXJjYXNlIGxldHRlcnMgb3JcbiAqIGRpZ2l0cy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FXU0tleSh2YWx1ZSkge1xuICAgIHJldHVybiAvXihBKEtJQXxTSUEpW0EtWjAtOV17MTZ9KSQvLnRlc3QodmFsdWUudHJpbSgpKTtcbn1cbi8qKlxuICogUGVyZm9ybSBoaWdo4oCRbGV2ZWwgZGV0ZWN0aW9uIGZvciBhIHNpbmdsZSB0b2tlbi4gIElmIHRoZSB0b2tlbiBtYXRjaGVzXG4gKiBhIHNlbnNpdGl2ZSBwYXR0ZXJuLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYW4gb2JqZWN0IGRlc2NyaWJpbmcgdGhlXG4gKiBkZXRlY3Rpb247IG90aGVyd2lzZSBpdCByZXR1cm5zIG51bGwuICBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBkb2VzXG4gKiBub3QgY29tcHV0ZSBib3VuZGluZyBib3hlcyDigJMgaXQgb25seSBjbGFzc2lmaWVzIHRoZSB0b2tlbi4gIEJvdW5kaW5nXG4gKiBib3hlcyBhcmUgcHJvdmlkZWQgYnkgdGhlIE9DUiBlbmdpbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RUb2tlbih0b2tlbikge1xuICAgIGNvbnN0IHJhdyA9IHRva2VuLnRyaW0oKTtcbiAgICBpZiAoIXJhdylcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgLy8gRGV0ZWN0IG5hbWVzIChwcm9wZXIgbm91bnMpIOKAkyBzdGFydHMgd2l0aCB1cHBlcmNhc2UgbGV0dGVyIGZvbGxvd2VkIGJ5IGxvd2VyY2FzZSBsZXR0ZXJzXG4gICAgLy8gYW5kIG5vdCBwdXJlbHkgbnVtZXJpYy4gIFNob3J0IHdvcmRzIGxpa2UgXCJBSVwiIG9yIGFsbCB1cHBlcmNhc2Ugd29yZHMgYXJlIGlnbm9yZWQuXG4gICAgY29uc3QgbmFtZVBhdHRlcm4gPSAvXltBLVpdW2Etel17Mix9JC87XG4gICAgaWYgKG5hbWVQYXR0ZXJuLnRlc3QocmF3KSAmJiAhL1xcZC8udGVzdChyYXcpICYmIHJhdy50b1VwcGVyQ2FzZSgpICE9PSByYXcpIHtcbiAgICAgICAgcmV0dXJuIHsga2luZDogJ05BTUUnLCByZWFzb246ICdMaWtlbHkgcHJvcGVyIG5hbWUnIH07XG4gICAgfVxuICAgIC8vIERldGVjdCBhZGRyZXNzZXM6IHRva2VucyB0aGF0IGxvb2sgbGlrZSBzdHJlZXQgdHlwZXMgb3IgY29udGFpbiBkaWdpdHNcbiAgICBjb25zdCBzdHJlZXRUeXBlcyA9IC9eKFN0cmVldHxTdFxcLj98QXZlbnVlfEF2ZVxcLj98Um9hZHxSZFxcLj98TGFuZXxMblxcLj98Qm91bGV2YXJkfEJsdmRcXC4/fERyaXZlfERyXFwuPykkL2k7XG4gICAgaWYgKC9cXGQvLnRlc3QocmF3KSAmJiByYXcubGVuZ3RoID49IDMpIHtcbiAgICAgICAgcmV0dXJuIHsga2luZDogJ0FERFJFU1MnLCByZWFzb246ICdDb250YWlucyBkaWdpdHMgYW5kIGNvdWxkIGJlIHBhcnQgb2YgYW4gYWRkcmVzcycgfTtcbiAgICB9XG4gICAgaWYgKHN0cmVldFR5cGVzLnRlc3QocmF3KSkge1xuICAgICAgICByZXR1cm4geyBraW5kOiAnQUREUkVTUycsIHJlYXNvbjogJ1N0cmVldCB0eXBlIGluZGljYXRvcicgfTtcbiAgICB9XG4gICAgLy8gRW1haWxcbiAgICBjb25zdCBlbWFpbFBhdHRlcm4gPSAvXltBLVowLTkuXyUrLV0rQFtBLVowLTkuLV0rXFwuW0EtWl17Mix9JC9pO1xuICAgIGlmIChlbWFpbFBhdHRlcm4udGVzdChyYXcpKSB7XG4gICAgICAgIHJldHVybiB7IGtpbmQ6ICdFTUFJTCcsIHJlYXNvbjogJ01hdGNoZXMgZW1haWwgcGF0dGVybicgfTtcbiAgICB9XG4gICAgLy8gUGhvbmUgbnVtYmVyICh2ZXJ5IHBlcm1pc3NpdmUsIG1pbmltdW0gNyBkaWdpdHMpXG4gICAgY29uc3QgZGlnaXRzT25seSA9IHJhdy5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgIGlmIChkaWdpdHNPbmx5Lmxlbmd0aCA+PSA3ICYmIC9cXGR7Myx9Ly50ZXN0KGRpZ2l0c09ubHkpKSB7XG4gICAgICAgIC8vIFNpbXBsZSBoZXVyaXN0aWM6IGlmIGl0IGNvbnRhaW5zIDEw4oCTMTUgZGlnaXRzIGFuZCBpcyBub3QgcGFydCBvZiBhbm90aGVyIHBhdHRlcm5cbiAgICAgICAgaWYgKGRpZ2l0c09ubHkubGVuZ3RoID49IDEwICYmIGRpZ2l0c09ubHkubGVuZ3RoIDw9IDE1KSB7XG4gICAgICAgICAgICByZXR1cm4geyBraW5kOiAnUEhPTkUnLCByZWFzb246ICdQb3RlbnRpYWwgcGhvbmUgbnVtYmVyJyB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFBBTiAoY3JlZGl0IGNhcmQgbnVtYmVyKSDigJMgMTPigJMxOSBkaWdpdHMgd2l0aCBMdWhuIHZhbGlkXG4gICAgaWYgKGRpZ2l0c09ubHkubGVuZ3RoID49IDEzICYmIGRpZ2l0c09ubHkubGVuZ3RoIDw9IDE5ICYmIGlzTHVoblZhbGlkKGRpZ2l0c09ubHkpKSB7XG4gICAgICAgIHJldHVybiB7IGtpbmQ6ICdQQU4nLCByZWFzb246ICdMdWhuIHZhbGlkIHByaW1hcnkgYWNjb3VudCBudW1iZXInIH07XG4gICAgfVxuICAgIC8vIElCQU4gKHN0YXJ0cyB3aXRoIHR3byBsZXR0ZXJzIGZvbGxvd2VkIGJ5IGRpZ2l0cyBhbmQgbGV0dGVycylcbiAgICBjb25zdCBpYmFuUGF0dGVybiA9IC9eW0EtWl17Mn1bMC05QS1aXXsxMywzMn0kL2k7XG4gICAgaWYgKGliYW5QYXR0ZXJuLnRlc3QocmF3KSAmJiBpc1ZhbGlkSUJBTihyYXcpKSB7XG4gICAgICAgIHJldHVybiB7IGtpbmQ6ICdJQkFOJywgcmVhc29uOiAnVmFsaWQgSUJBTiBjaGVja3N1bScgfTtcbiAgICB9XG4gICAgLy8gU1NOIChVUyBmb3JtYXQpXG4gICAgY29uc3Qgc3NuUGF0dGVybiA9IC9eXFxkezN9LVxcZHsyfS1cXGR7NH0kLztcbiAgICBpZiAoc3NuUGF0dGVybi50ZXN0KHJhdykgJiYgaXNWYWxpZFNTTihyYXcpKSB7XG4gICAgICAgIHJldHVybiB7IGtpbmQ6ICdTU04nLCByZWFzb246ICdWYWxpZCBVUyBTU04gZm9ybWF0JyB9O1xuICAgIH1cbiAgICAvLyBKV1RcbiAgICBpZiAoaXNKV1QocmF3KSkge1xuICAgICAgICByZXR1cm4geyBraW5kOiAnSldUJywgcmVhc29uOiAnTG9va3MgbGlrZSBhIEpXVCB0b2tlbicgfTtcbiAgICB9XG4gICAgLy8gQVdTIGFjY2VzcyBrZXkgaWRcbiAgICBpZiAoaXNBV1NLZXkocmF3KSkge1xuICAgICAgICByZXR1cm4geyBraW5kOiAnQVBJX0tFWScsIHJlYXNvbjogJ0xvb2tzIGxpa2UgYW4gQVdTIGFjY2VzcyBrZXknIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../core-detect/dist/detectors/index.js\n");

/***/ }),

/***/ "../core-detect/dist/index.js":
/*!************************************!*\
  !*** ../core-detect/dist/index.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeDocument: () => (/* reexport safe */ _pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__.analyzeDocument),\n/* harmony export */   applyRedactions: () => (/* reexport safe */ _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__.applyRedactions),\n/* harmony export */   deletePreset: () => (/* reexport safe */ _presets__WEBPACK_IMPORTED_MODULE_3__.deletePreset),\n/* harmony export */   getPreset: () => (/* reexport safe */ _presets__WEBPACK_IMPORTED_MODULE_3__.getPreset),\n/* harmony export */   listPresets: () => (/* reexport safe */ _presets__WEBPACK_IMPORTED_MODULE_3__.listPresets),\n/* harmony export */   savePreset: () => (/* reexport safe */ _presets__WEBPACK_IMPORTED_MODULE_3__.savePreset)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"../core-detect/dist/types.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_0__) if([\"default\",\"analyzeDocument\",\"applyRedactions\",\"listPresets\",\"getPreset\",\"savePreset\",\"deletePreset\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _types__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pipeline/analyze */ \"../core-detect/dist/pipeline/analyze.js\");\n/* harmony import */ var _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pipeline/apply */ \"../core-detect/dist/pipeline/apply.js\");\n/* harmony import */ var _presets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./presets */ \"../core-detect/dist/presets.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__, _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__]);\n([_pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__, _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdCO0FBQzZCO0FBQ0Y7QUFDMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uLi9jb3JlLWRldGVjdC9kaXN0L2luZGV4LmpzPzVlY2QiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyBhbmFseXplRG9jdW1lbnQgfSBmcm9tICcuL3BpcGVsaW5lL2FuYWx5emUnO1xuZXhwb3J0IHsgYXBwbHlSZWRhY3Rpb25zIH0gZnJvbSAnLi9waXBlbGluZS9hcHBseSc7XG5leHBvcnQgeyBsaXN0UHJlc2V0cywgZ2V0UHJlc2V0LCBzYXZlUHJlc2V0LCBkZWxldGVQcmVzZXQgfSBmcm9tICcuL3ByZXNldHMnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../core-detect/dist/index.js\n");

/***/ }),

/***/ "../core-detect/dist/pipeline/analyze.js":
/*!***********************************************!*\
  !*** ../core-detect/dist/pipeline/analyze.js ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeDocument: () => (/* binding */ analyzeDocument)\n/* harmony export */ });\n/* harmony import */ var _detectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../detectors */ \"../core-detect/dist/detectors/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tesseract.js */ \"../../node_modules/.pnpm/tesseract.js@4.1.4/node_modules/tesseract.js/src/index.js\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tesseract_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pdfjs-dist */ \"pdfjs-dist\");\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jsqr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsqr */ \"jsqr\");\n/* harmony import */ var jsqr__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsqr__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _presets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../presets */ \"../core-detect/dist/presets.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([uuid__WEBPACK_IMPORTED_MODULE_0__]);\nuuid__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// Barcode detection library.  jsQR is a small library that can scan QR codes\n// and linear barcodes from image pixel data.  It returns the location of the\n// detected code if one is found.  See https://github.com/cozmo/jsQR for details.\n\n// Import preset utilities to allow filtering detections based on enabled kinds\n\n/*\n * The analyse pipeline orchestrates OCR and token detection for both images\n * and PDFs.  It uses native OCR when available (via Capacitor plugins) and\n * falls back to Tesseract.js running in the browser or a web worker.  PDF\n * pages are rendered to canvases via pdfjs-dist, then treated like images.\n */\n/** Convert a File/Blob to a Data URI. */\nasync function fileToDataURL(file) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = () => reject(reader.error);\n        reader.readAsDataURL(file);\n    });\n}\n/** Perform OCR on a data URL and return detections. */\nasync function analyzeImageDataURL(dataURL, pageIndex = 0) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    // Optionally perform a simple document auto‑crop before running OCR.  Many\n    // scanned documents contain large white margins.  Cropping to the\n    // bounding rectangle of non‑white pixels improves OCR accuracy and\n    // reduces processing time.  We detect the smallest rectangle that\n    // contains all pixels whose brightness is below a threshold.  If the\n    // resulting crop covers almost the entire image (>95%), we skip the\n    // crop to avoid losing content.  This heuristic is cheap to compute\n    // and does not require external dependencies.  See docs/ROADMAP.md.\n    async function autoCrop(dataUrl) {\n        return new Promise(resolve => {\n            const img = new Image();\n            img.onload = () => {\n                const canvas = document.createElement('canvas');\n                canvas.width = img.width;\n                canvas.height = img.height;\n                const ctx = canvas.getContext('2d');\n                if (!ctx) {\n                    resolve(dataUrl);\n                    return;\n                }\n                ctx.drawImage(img, 0, 0);\n                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n                const data = imageData.data;\n                let minX = canvas.width;\n                let maxX = 0;\n                let minY = canvas.height;\n                let maxY = 0;\n                // Threshold to consider a pixel as background (very light)\n                const isBg = (r, g, b) => r > 230 && g > 230 && b > 230;\n                for (let y = 0; y < canvas.height; y++) {\n                    for (let x = 0; x < canvas.width; x++) {\n                        const idx = (y * canvas.width + x) * 4;\n                        const r = data[idx];\n                        const g = data[idx + 1];\n                        const b = data[idx + 2];\n                        if (!isBg(r, g, b)) {\n                            if (x < minX)\n                                minX = x;\n                            if (x > maxX)\n                                maxX = x;\n                            if (y < minY)\n                                minY = y;\n                            if (y > maxY)\n                                maxY = y;\n                        }\n                    }\n                }\n                // If no foreground found, return original\n                if (minX > maxX || minY > maxY) {\n                    resolve(dataUrl);\n                    return;\n                }\n                // Compute bounds width/height\n                const bw = maxX - minX;\n                const bh = maxY - minY;\n                // If crop covers almost entire image, skip cropping\n                if (bw / canvas.width > 0.95 && bh / canvas.height > 0.95) {\n                    resolve(dataUrl);\n                    return;\n                }\n                // Expand crop by 5% margins to avoid cutting content\n                const marginX = Math.floor(bw * 0.05);\n                const marginY = Math.floor(bh * 0.05);\n                const cropX = Math.max(0, minX - marginX);\n                const cropY = Math.max(0, minY - marginY);\n                const cropW = Math.min(canvas.width - cropX, bw + marginX * 2);\n                const cropH = Math.min(canvas.height - cropY, bh + marginY * 2);\n                const croppedCanvas = document.createElement('canvas');\n                croppedCanvas.width = cropW;\n                croppedCanvas.height = cropH;\n                const cctx = croppedCanvas.getContext('2d');\n                if (!cctx) {\n                    resolve(dataUrl);\n                    return;\n                }\n                cctx.drawImage(canvas, cropX, cropY, cropW, cropH, 0, 0, cropW, cropH);\n                resolve(croppedCanvas.toDataURL());\n            };\n            img.onerror = () => resolve(dataUrl);\n            img.src = dataUrl;\n        });\n    }\n    // Run Tesseract on the original Data URL.  Cropping is disabled by\n    // default because adjusting bounding boxes back to the original\n    // coordinates is non‑trivial.  To experiment with auto‑crop, call\n    // autoCrop() on dataURL and adjust bounding boxes accordingly.\n    const result = await tesseract_js__WEBPACK_IMPORTED_MODULE_1___default().recognize(dataURL, 'eng', { logger: () => { } });\n    const { words } = result.data;\n    const detections = [];\n    // Determine image dimensions\n    const img = new Image();\n    await new Promise(resolve => {\n        img.onload = resolve;\n        img.src = dataURL;\n    });\n    const width = img.width;\n    const height = img.height;\n    for (const word of words) {\n        const text = (word.text || '').trim();\n        if (!text)\n            continue;\n        const match = (0,_detectors__WEBPACK_IMPORTED_MODULE_4__.detectToken)(text);\n        if (match) {\n            const { kind, reason } = match;\n            const bbox = word.bbox;\n            const x0 = (_b = (_a = bbox.x0) !== null && _a !== void 0 ? _a : bbox.left) !== null && _b !== void 0 ? _b : 0;\n            const y0 = (_d = (_c = bbox.y0) !== null && _c !== void 0 ? _c : bbox.top) !== null && _d !== void 0 ? _d : 0;\n            const x1 = (_f = (_e = bbox.x1) !== null && _e !== void 0 ? _e : bbox.right) !== null && _f !== void 0 ? _f : 0;\n            const y1 = (_h = (_g = bbox.y1) !== null && _g !== void 0 ? _g : bbox.bottom) !== null && _h !== void 0 ? _h : 0;\n            const box = {\n                x: x0 / width,\n                y: y0 / height,\n                w: (x1 - x0) / width,\n                h: (y1 - y0) / height,\n                page: pageIndex\n            };\n            detections.push({\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)(),\n                kind: kind,\n                box,\n                confidence: (_j = word.confidence) !== null && _j !== void 0 ? _j : 0.9,\n                reason,\n                preview: text\n            });\n        }\n    }\n    // Barcode detection using jsQR.  Draw the image onto a temporary canvas\n    // and scan its pixels.  jsQR returns null if no code is found.\n    try {\n        const canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        const ctx = canvas.getContext('2d');\n        if (ctx) {\n            ctx.drawImage(img, 0, 0, width, height);\n            const imageData = ctx.getImageData(0, 0, width, height);\n            const code = jsqr__WEBPACK_IMPORTED_MODULE_3___default()(imageData.data, imageData.width, imageData.height);\n            if (code && code.location) {\n                // Compute bounding box from corner points\n                const { topLeftCorner, topRightCorner, bottomRightCorner, bottomLeftCorner } = code.location;\n                const xs = [topLeftCorner.x, topRightCorner.x, bottomRightCorner.x, bottomLeftCorner.x];\n                const ys = [topLeftCorner.y, topRightCorner.y, bottomRightCorner.y, bottomLeftCorner.y];\n                const minX = Math.min(...xs);\n                const maxX = Math.max(...xs);\n                const minY = Math.min(...ys);\n                const maxY = Math.max(...ys);\n                const bbox = {\n                    x: minX / width,\n                    y: minY / height,\n                    w: (maxX - minX) / width,\n                    h: (maxY - minY) / height,\n                    page: pageIndex\n                };\n                detections.push({\n                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)(),\n                    kind: 'BARCODE',\n                    box: bbox,\n                    confidence: 1,\n                    reason: 'Detected barcode/QR code',\n                    preview: (_k = code.data) === null || _k === void 0 ? void 0 : _k.slice(0, 64) // show truncated payload\n                });\n            }\n        }\n    }\n    catch (err) {\n        // eslint-disable-next-line no-console\n        console.warn('Barcode detection failed:', err);\n    }\n    return detections;\n}\n/** Analyse a single file (image or PDF) and return detections across all pages. */\n// Import preset utilities at the top level\nasync function analyzeDocument(file, opts = {}) {\n    // Determine the MIME type from the file object if possible\n    const type = file.type || '';\n    const detections = [];\n    let pages = 1;\n    if (type === 'application/pdf') {\n        // Read the PDF into an ArrayBuffer\n        const buffer = await file.arrayBuffer();\n        // Configure worker for pdfjs if running in a browser\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        if (pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.GlobalWorkerOptions && pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.workerSrc === undefined) {\n            // Provide a default worker if none was set.  This requires that\n            // `pdfjs-dist/build/pdf.worker.js` is available in the bundle.\n            try {\n                // eslint-disable-next-line @typescript-eslint/no-var-requires\n                const workerSrc = __webpack_require__(/*! pdfjs-dist/build/pdf.worker.js */ \"pdfjs-dist/build/pdf.worker.js\");\n                pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.GlobalWorkerOptions.workerSrc = workerSrc;\n            }\n            catch (e) {\n                // ignore if require fails – pdfjs will attempt to fallback\n            }\n        }\n        const loadingTask = pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.getDocument({ data: buffer });\n        const pdf = await loadingTask.promise;\n        pages = pdf.numPages;\n        for (let i = 1; i <= pages; i++) {\n            const page = await pdf.getPage(i);\n            const viewport = page.getViewport({ scale: 1.0 });\n            const canvas = document.createElement('canvas');\n            canvas.width = viewport.width;\n            canvas.height = viewport.height;\n            const context = canvas.getContext('2d');\n            if (!context)\n                continue;\n            const renderContext = { canvasContext: context, viewport };\n            await page.render(renderContext).promise;\n            const dataURL = canvas.toDataURL();\n            const pageDetections = await analyzeImageDataURL(dataURL, i - 1);\n            detections.push(...pageDetections);\n        }\n    }\n    else {\n        // Assume image\n        const dataURL = await fileToDataURL(file);\n        const imgDetections = await analyzeImageDataURL(dataURL, 0);\n        detections.push(...imgDetections);\n    }\n    // Filter detections by preset if provided\n    if (opts.presetId) {\n        const preset = (0,_presets__WEBPACK_IMPORTED_MODULE_5__.getPreset)(opts.presetId);\n        if (preset && preset.enabledKinds && preset.enabledKinds.length > 0) {\n            // Remove detections whose kind is not enabled\n            for (let i = detections.length - 1; i >= 0; i--) {\n                if (!preset.enabledKinds.includes(detections[i].kind)) {\n                    detections.splice(i, 1);\n                }\n            }\n        }\n    }\n    return { detections, pages };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC9waXBlbGluZS9hbmFseXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkM7QUFDUDtBQUNDO0FBQ0U7QUFDdkM7QUFDQTtBQUNBO0FBQ3dCO0FBQ3hCO0FBQ3VDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxtQkFBbUI7QUFDbkQsb0NBQW9DLGtCQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZEQUFtQixtQkFBbUIsbUJBQW1CO0FBQ2xGLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFXO0FBQ2pDO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0NBQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkNBQUk7QUFDN0I7QUFDQTtBQUNBLHdCQUF3QixxRUFBcUU7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3Q0FBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw4Q0FBOEM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJEQUE0QixJQUFJLGlEQUFrQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtQkFBTyxDQUFDLHNFQUFnQztBQUMxRSxnQkFBZ0IsMkRBQTRCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbURBQW9CLEdBQUcsY0FBYztBQUNqRTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQSxnREFBZ0QsWUFBWTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtREFBUztBQUNoQztBQUNBO0FBQ0EsZ0RBQWdELFFBQVE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNsZWFuc2hhcmUvdWkvLi4vY29yZS1kZXRlY3QvZGlzdC9waXBlbGluZS9hbmFseXplLmpzP2Q3NmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGV0ZWN0VG9rZW4gfSBmcm9tICcuLi9kZXRlY3RvcnMnO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgVGVzc2VyYWN0IGZyb20gJ3Rlc3NlcmFjdC5qcyc7XG5pbXBvcnQgKiBhcyBwZGZqc0xpYiBmcm9tICdwZGZqcy1kaXN0Jztcbi8vIEJhcmNvZGUgZGV0ZWN0aW9uIGxpYnJhcnkuICBqc1FSIGlzIGEgc21hbGwgbGlicmFyeSB0aGF0IGNhbiBzY2FuIFFSIGNvZGVzXG4vLyBhbmQgbGluZWFyIGJhcmNvZGVzIGZyb20gaW1hZ2UgcGl4ZWwgZGF0YS4gIEl0IHJldHVybnMgdGhlIGxvY2F0aW9uIG9mIHRoZVxuLy8gZGV0ZWN0ZWQgY29kZSBpZiBvbmUgaXMgZm91bmQuICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2Nvem1vL2pzUVIgZm9yIGRldGFpbHMuXG5pbXBvcnQganNRUiBmcm9tICdqc3FyJztcbi8vIEltcG9ydCBwcmVzZXQgdXRpbGl0aWVzIHRvIGFsbG93IGZpbHRlcmluZyBkZXRlY3Rpb25zIGJhc2VkIG9uIGVuYWJsZWQga2luZHNcbmltcG9ydCB7IGdldFByZXNldCB9IGZyb20gJy4uL3ByZXNldHMnO1xuLypcbiAqIFRoZSBhbmFseXNlIHBpcGVsaW5lIG9yY2hlc3RyYXRlcyBPQ1IgYW5kIHRva2VuIGRldGVjdGlvbiBmb3IgYm90aCBpbWFnZXNcbiAqIGFuZCBQREZzLiAgSXQgdXNlcyBuYXRpdmUgT0NSIHdoZW4gYXZhaWxhYmxlICh2aWEgQ2FwYWNpdG9yIHBsdWdpbnMpIGFuZFxuICogZmFsbHMgYmFjayB0byBUZXNzZXJhY3QuanMgcnVubmluZyBpbiB0aGUgYnJvd3NlciBvciBhIHdlYiB3b3JrZXIuICBQREZcbiAqIHBhZ2VzIGFyZSByZW5kZXJlZCB0byBjYW52YXNlcyB2aWEgcGRmanMtZGlzdCwgdGhlbiB0cmVhdGVkIGxpa2UgaW1hZ2VzLlxuICovXG4vKiogQ29udmVydCBhIEZpbGUvQmxvYiB0byBhIERhdGEgVVJJLiAqL1xuYXN5bmMgZnVuY3Rpb24gZmlsZVRvRGF0YVVSTChmaWxlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHJlYWRlci5lcnJvcik7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgIH0pO1xufVxuLyoqIFBlcmZvcm0gT0NSIG9uIGEgZGF0YSBVUkwgYW5kIHJldHVybiBkZXRlY3Rpb25zLiAqL1xuYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZUltYWdlRGF0YVVSTChkYXRhVVJMLCBwYWdlSW5kZXggPSAwKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rO1xuICAgIC8vIE9wdGlvbmFsbHkgcGVyZm9ybSBhIHNpbXBsZSBkb2N1bWVudCBhdXRv4oCRY3JvcCBiZWZvcmUgcnVubmluZyBPQ1IuICBNYW55XG4gICAgLy8gc2Nhbm5lZCBkb2N1bWVudHMgY29udGFpbiBsYXJnZSB3aGl0ZSBtYXJnaW5zLiAgQ3JvcHBpbmcgdG8gdGhlXG4gICAgLy8gYm91bmRpbmcgcmVjdGFuZ2xlIG9mIG5vbuKAkXdoaXRlIHBpeGVscyBpbXByb3ZlcyBPQ1IgYWNjdXJhY3kgYW5kXG4gICAgLy8gcmVkdWNlcyBwcm9jZXNzaW5nIHRpbWUuICBXZSBkZXRlY3QgdGhlIHNtYWxsZXN0IHJlY3RhbmdsZSB0aGF0XG4gICAgLy8gY29udGFpbnMgYWxsIHBpeGVscyB3aG9zZSBicmlnaHRuZXNzIGlzIGJlbG93IGEgdGhyZXNob2xkLiAgSWYgdGhlXG4gICAgLy8gcmVzdWx0aW5nIGNyb3AgY292ZXJzIGFsbW9zdCB0aGUgZW50aXJlIGltYWdlICg+OTUlKSwgd2Ugc2tpcCB0aGVcbiAgICAvLyBjcm9wIHRvIGF2b2lkIGxvc2luZyBjb250ZW50LiAgVGhpcyBoZXVyaXN0aWMgaXMgY2hlYXAgdG8gY29tcHV0ZVxuICAgIC8vIGFuZCBkb2VzIG5vdCByZXF1aXJlIGV4dGVybmFsIGRlcGVuZGVuY2llcy4gIFNlZSBkb2NzL1JPQURNQVAubWQuXG4gICAgYXN5bmMgZnVuY3Rpb24gYXV0b0Nyb3AoZGF0YVVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGlmICghY3R4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YVVybCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgbGV0IG1pblggPSBjYW52YXMud2lkdGg7XG4gICAgICAgICAgICAgICAgbGV0IG1heFggPSAwO1xuICAgICAgICAgICAgICAgIGxldCBtaW5ZID0gY2FudmFzLmhlaWdodDtcbiAgICAgICAgICAgICAgICBsZXQgbWF4WSA9IDA7XG4gICAgICAgICAgICAgICAgLy8gVGhyZXNob2xkIHRvIGNvbnNpZGVyIGEgcGl4ZWwgYXMgYmFja2dyb3VuZCAodmVyeSBsaWdodClcbiAgICAgICAgICAgICAgICBjb25zdCBpc0JnID0gKHIsIGcsIGIpID0+IHIgPiAyMzAgJiYgZyA+IDIzMCAmJiBiID4gMjMwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgY2FudmFzLmhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgY2FudmFzLndpZHRoOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9ICh5ICogY2FudmFzLndpZHRoICsgeCkgKiA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IGRhdGFbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGcgPSBkYXRhW2lkeCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IGRhdGFbaWR4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQmcociwgZywgYikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeCA8IG1pblgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pblggPSB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4ID4gbWF4WClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5ZID0geTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IG1heFkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFkgPSB5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIG5vIGZvcmVncm91bmQgZm91bmQsIHJldHVybiBvcmlnaW5hbFxuICAgICAgICAgICAgICAgIGlmIChtaW5YID4gbWF4WCB8fCBtaW5ZID4gbWF4WSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGFVcmwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgYm91bmRzIHdpZHRoL2hlaWdodFxuICAgICAgICAgICAgICAgIGNvbnN0IGJ3ID0gbWF4WCAtIG1pblg7XG4gICAgICAgICAgICAgICAgY29uc3QgYmggPSBtYXhZIC0gbWluWTtcbiAgICAgICAgICAgICAgICAvLyBJZiBjcm9wIGNvdmVycyBhbG1vc3QgZW50aXJlIGltYWdlLCBza2lwIGNyb3BwaW5nXG4gICAgICAgICAgICAgICAgaWYgKGJ3IC8gY2FudmFzLndpZHRoID4gMC45NSAmJiBiaCAvIGNhbnZhcy5oZWlnaHQgPiAwLjk1KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YVVybCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRXhwYW5kIGNyb3AgYnkgNSUgbWFyZ2lucyB0byBhdm9pZCBjdXR0aW5nIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBjb25zdCBtYXJnaW5YID0gTWF0aC5mbG9vcihidyAqIDAuMDUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmdpblkgPSBNYXRoLmZsb29yKGJoICogMC4wNSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3JvcFggPSBNYXRoLm1heCgwLCBtaW5YIC0gbWFyZ2luWCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3JvcFkgPSBNYXRoLm1heCgwLCBtaW5ZIC0gbWFyZ2luWSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3JvcFcgPSBNYXRoLm1pbihjYW52YXMud2lkdGggLSBjcm9wWCwgYncgKyBtYXJnaW5YICogMik7XG4gICAgICAgICAgICAgICAgY29uc3QgY3JvcEggPSBNYXRoLm1pbihjYW52YXMuaGVpZ2h0IC0gY3JvcFksIGJoICsgbWFyZ2luWSAqIDIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNyb3BwZWRDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICBjcm9wcGVkQ2FudmFzLndpZHRoID0gY3JvcFc7XG4gICAgICAgICAgICAgICAgY3JvcHBlZENhbnZhcy5oZWlnaHQgPSBjcm9wSDtcbiAgICAgICAgICAgICAgICBjb25zdCBjY3R4ID0gY3JvcHBlZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGlmICghY2N0eCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGFVcmwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNjdHguZHJhd0ltYWdlKGNhbnZhcywgY3JvcFgsIGNyb3BZLCBjcm9wVywgY3JvcEgsIDAsIDAsIGNyb3BXLCBjcm9wSCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShjcm9wcGVkQ2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbWcub25lcnJvciA9ICgpID0+IHJlc29sdmUoZGF0YVVybCk7XG4gICAgICAgICAgICBpbWcuc3JjID0gZGF0YVVybDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFJ1biBUZXNzZXJhY3Qgb24gdGhlIG9yaWdpbmFsIERhdGEgVVJMLiAgQ3JvcHBpbmcgaXMgZGlzYWJsZWQgYnlcbiAgICAvLyBkZWZhdWx0IGJlY2F1c2UgYWRqdXN0aW5nIGJvdW5kaW5nIGJveGVzIGJhY2sgdG8gdGhlIG9yaWdpbmFsXG4gICAgLy8gY29vcmRpbmF0ZXMgaXMgbm9u4oCRdHJpdmlhbC4gIFRvIGV4cGVyaW1lbnQgd2l0aCBhdXRv4oCRY3JvcCwgY2FsbFxuICAgIC8vIGF1dG9Dcm9wKCkgb24gZGF0YVVSTCBhbmQgYWRqdXN0IGJvdW5kaW5nIGJveGVzIGFjY29yZGluZ2x5LlxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFRlc3NlcmFjdC5yZWNvZ25pemUoZGF0YVVSTCwgJ2VuZycsIHsgbG9nZ2VyOiAoKSA9PiB7IH0gfSk7XG4gICAgY29uc3QgeyB3b3JkcyB9ID0gcmVzdWx0LmRhdGE7XG4gICAgY29uc3QgZGV0ZWN0aW9ucyA9IFtdO1xuICAgIC8vIERldGVybWluZSBpbWFnZSBkaW1lbnNpb25zXG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGltZy5vbmxvYWQgPSByZXNvbHZlO1xuICAgICAgICBpbWcuc3JjID0gZGF0YVVSTDtcbiAgICB9KTtcbiAgICBjb25zdCB3aWR0aCA9IGltZy53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkcykge1xuICAgICAgICBjb25zdCB0ZXh0ID0gKHdvcmQudGV4dCB8fCAnJykudHJpbSgpO1xuICAgICAgICBpZiAoIXRleHQpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBkZXRlY3RUb2tlbih0ZXh0KTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBjb25zdCB7IGtpbmQsIHJlYXNvbiB9ID0gbWF0Y2g7XG4gICAgICAgICAgICBjb25zdCBiYm94ID0gd29yZC5iYm94O1xuICAgICAgICAgICAgY29uc3QgeDAgPSAoX2IgPSAoX2EgPSBiYm94LngwKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBiYm94LmxlZnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgICAgICAgICBjb25zdCB5MCA9IChfZCA9IChfYyA9IGJib3gueTApICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGJib3gudG9wKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAwO1xuICAgICAgICAgICAgY29uc3QgeDEgPSAoX2YgPSAoX2UgPSBiYm94LngxKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBiYm94LnJpZ2h0KSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAwO1xuICAgICAgICAgICAgY29uc3QgeTEgPSAoX2ggPSAoX2cgPSBiYm94LnkxKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBiYm94LmJvdHRvbSkgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogMDtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IHtcbiAgICAgICAgICAgICAgICB4OiB4MCAvIHdpZHRoLFxuICAgICAgICAgICAgICAgIHk6IHkwIC8gaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHc6ICh4MSAtIHgwKSAvIHdpZHRoLFxuICAgICAgICAgICAgICAgIGg6ICh5MSAtIHkwKSAvIGhlaWdodCxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlSW5kZXhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkZXRlY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICAgICAgICAgIGJveCxcbiAgICAgICAgICAgICAgICBjb25maWRlbmNlOiAoX2ogPSB3b3JkLmNvbmZpZGVuY2UpICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6IDAuOSxcbiAgICAgICAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgICAgICAgcHJldmlldzogdGV4dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQmFyY29kZSBkZXRlY3Rpb24gdXNpbmcganNRUi4gIERyYXcgdGhlIGltYWdlIG9udG8gYSB0ZW1wb3JhcnkgY2FudmFzXG4gICAgLy8gYW5kIHNjYW4gaXRzIHBpeGVscy4gIGpzUVIgcmV0dXJucyBudWxsIGlmIG5vIGNvZGUgaXMgZm91bmQuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKGN0eCkge1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBqc1FSKGltYWdlRGF0YS5kYXRhLCBpbWFnZURhdGEud2lkdGgsIGltYWdlRGF0YS5oZWlnaHQpO1xuICAgICAgICAgICAgaWYgKGNvZGUgJiYgY29kZS5sb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgYm91bmRpbmcgYm94IGZyb20gY29ybmVyIHBvaW50c1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdG9wTGVmdENvcm5lciwgdG9wUmlnaHRDb3JuZXIsIGJvdHRvbVJpZ2h0Q29ybmVyLCBib3R0b21MZWZ0Q29ybmVyIH0gPSBjb2RlLmxvY2F0aW9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IHhzID0gW3RvcExlZnRDb3JuZXIueCwgdG9wUmlnaHRDb3JuZXIueCwgYm90dG9tUmlnaHRDb3JuZXIueCwgYm90dG9tTGVmdENvcm5lci54XTtcbiAgICAgICAgICAgICAgICBjb25zdCB5cyA9IFt0b3BMZWZ0Q29ybmVyLnksIHRvcFJpZ2h0Q29ybmVyLnksIGJvdHRvbVJpZ2h0Q29ybmVyLnksIGJvdHRvbUxlZnRDb3JuZXIueV07XG4gICAgICAgICAgICAgICAgY29uc3QgbWluWCA9IE1hdGgubWluKC4uLnhzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgoLi4ueHMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pblkgPSBNYXRoLm1pbiguLi55cyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4WSA9IE1hdGgubWF4KC4uLnlzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYm94ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBtaW5YIC8gd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHk6IG1pblkgLyBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHc6IChtYXhYIC0gbWluWCkgLyB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaDogKG1heFkgLSBtaW5ZKSAvIGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZUluZGV4XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkZXRlY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdCQVJDT0RFJyxcbiAgICAgICAgICAgICAgICAgICAgYm94OiBiYm94LFxuICAgICAgICAgICAgICAgICAgICBjb25maWRlbmNlOiAxLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdEZXRlY3RlZCBiYXJjb2RlL1FSIGNvZGUnLFxuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3OiAoX2sgPSBjb2RlLmRhdGEpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay5zbGljZSgwLCA2NCkgLy8gc2hvdyB0cnVuY2F0ZWQgcGF5bG9hZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKCdCYXJjb2RlIGRldGVjdGlvbiBmYWlsZWQ6JywgZXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIGRldGVjdGlvbnM7XG59XG4vKiogQW5hbHlzZSBhIHNpbmdsZSBmaWxlIChpbWFnZSBvciBQREYpIGFuZCByZXR1cm4gZGV0ZWN0aW9ucyBhY3Jvc3MgYWxsIHBhZ2VzLiAqL1xuLy8gSW1wb3J0IHByZXNldCB1dGlsaXRpZXMgYXQgdGhlIHRvcCBsZXZlbFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFuYWx5emVEb2N1bWVudChmaWxlLCBvcHRzID0ge30pIHtcbiAgICAvLyBEZXRlcm1pbmUgdGhlIE1JTUUgdHlwZSBmcm9tIHRoZSBmaWxlIG9iamVjdCBpZiBwb3NzaWJsZVxuICAgIGNvbnN0IHR5cGUgPSBmaWxlLnR5cGUgfHwgJyc7XG4gICAgY29uc3QgZGV0ZWN0aW9ucyA9IFtdO1xuICAgIGxldCBwYWdlcyA9IDE7XG4gICAgaWYgKHR5cGUgPT09ICdhcHBsaWNhdGlvbi9wZGYnKSB7XG4gICAgICAgIC8vIFJlYWQgdGhlIFBERiBpbnRvIGFuIEFycmF5QnVmZmVyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgLy8gQ29uZmlndXJlIHdvcmtlciBmb3IgcGRmanMgaWYgcnVubmluZyBpbiBhIGJyb3dzZXJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChwZGZqc0xpYi5HbG9iYWxXb3JrZXJPcHRpb25zICYmIHBkZmpzTGliLndvcmtlclNyYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBQcm92aWRlIGEgZGVmYXVsdCB3b3JrZXIgaWYgbm9uZSB3YXMgc2V0LiAgVGhpcyByZXF1aXJlcyB0aGF0XG4gICAgICAgICAgICAvLyBgcGRmanMtZGlzdC9idWlsZC9wZGYud29ya2VyLmpzYCBpcyBhdmFpbGFibGUgaW4gdGhlIGJ1bmRsZS5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JrZXJTcmMgPSByZXF1aXJlKCdwZGZqcy1kaXN0L2J1aWxkL3BkZi53b3JrZXIuanMnKTtcbiAgICAgICAgICAgICAgICBwZGZqc0xpYi5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IHdvcmtlclNyYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIGlmIHJlcXVpcmUgZmFpbHMg4oCTIHBkZmpzIHdpbGwgYXR0ZW1wdCB0byBmYWxsYmFja1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvYWRpbmdUYXNrID0gcGRmanNMaWIuZ2V0RG9jdW1lbnQoeyBkYXRhOiBidWZmZXIgfSk7XG4gICAgICAgIGNvbnN0IHBkZiA9IGF3YWl0IGxvYWRpbmdUYXNrLnByb21pc2U7XG4gICAgICAgIHBhZ2VzID0gcGRmLm51bVBhZ2VzO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBwYWdlczsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYWdlID0gYXdhaXQgcGRmLmdldFBhZ2UoaSk7XG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHBhZ2UuZ2V0Vmlld3BvcnQoeyBzY2FsZTogMS4wIH0pO1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB2aWV3cG9ydC53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICBpZiAoIWNvbnRleHQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJDb250ZXh0ID0geyBjYW52YXNDb250ZXh0OiBjb250ZXh0LCB2aWV3cG9ydCB9O1xuICAgICAgICAgICAgYXdhaXQgcGFnZS5yZW5kZXIocmVuZGVyQ29udGV4dCkucHJvbWlzZTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKCk7XG4gICAgICAgICAgICBjb25zdCBwYWdlRGV0ZWN0aW9ucyA9IGF3YWl0IGFuYWx5emVJbWFnZURhdGFVUkwoZGF0YVVSTCwgaSAtIDEpO1xuICAgICAgICAgICAgZGV0ZWN0aW9ucy5wdXNoKC4uLnBhZ2VEZXRlY3Rpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQXNzdW1lIGltYWdlXG4gICAgICAgIGNvbnN0IGRhdGFVUkwgPSBhd2FpdCBmaWxlVG9EYXRhVVJMKGZpbGUpO1xuICAgICAgICBjb25zdCBpbWdEZXRlY3Rpb25zID0gYXdhaXQgYW5hbHl6ZUltYWdlRGF0YVVSTChkYXRhVVJMLCAwKTtcbiAgICAgICAgZGV0ZWN0aW9ucy5wdXNoKC4uLmltZ0RldGVjdGlvbnMpO1xuICAgIH1cbiAgICAvLyBGaWx0ZXIgZGV0ZWN0aW9ucyBieSBwcmVzZXQgaWYgcHJvdmlkZWRcbiAgICBpZiAob3B0cy5wcmVzZXRJZCkge1xuICAgICAgICBjb25zdCBwcmVzZXQgPSBnZXRQcmVzZXQob3B0cy5wcmVzZXRJZCk7XG4gICAgICAgIGlmIChwcmVzZXQgJiYgcHJlc2V0LmVuYWJsZWRLaW5kcyAmJiBwcmVzZXQuZW5hYmxlZEtpbmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBkZXRlY3Rpb25zIHdob3NlIGtpbmQgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBkZXRlY3Rpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcmVzZXQuZW5hYmxlZEtpbmRzLmluY2x1ZGVzKGRldGVjdGlvbnNbaV0ua2luZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0ZWN0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGRldGVjdGlvbnMsIHBhZ2VzIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../core-detect/dist/pipeline/analyze.js\n");

/***/ }),

/***/ "../core-detect/dist/pipeline/apply.js":
/*!*********************************************!*\
  !*** ../core-detect/dist/pipeline/apply.js ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeDocument: () => (/* binding */ analyzeDocument),\n/* harmony export */   applyRedactions: () => (/* binding */ applyRedactions)\n/* harmony export */ });\n/* harmony import */ var _analyze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./analyze */ \"../core-detect/dist/pipeline/analyze.js\");\n/* harmony import */ var pdf_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pdf-lib */ \"../../node_modules/.pnpm/pdf-lib@1.17.1/node_modules/pdf-lib/cjs/index.js\");\n/* harmony import */ var pdf_lib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pdf_lib__WEBPACK_IMPORTED_MODULE_0__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_analyze__WEBPACK_IMPORTED_MODULE_1__]);\n_analyze__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// A module‑scoped variable to store the last analysis result.  applyRedactions()\n// uses this map to resolve detection IDs to bounding boxes.  In a real\n// application you should pass the detections directly to avoid shared\n// mutable state.  This simplified implementation is sufficient for the\n// demonstration.\nlet lastResult = null;\n/** Override the exported analyse function to capture the last result. */\nasync function analyzeDocument(file, opts = {}) {\n    const result = await (0,_analyze__WEBPACK_IMPORTED_MODULE_1__.analyzeDocument)(file, opts);\n    lastResult = result;\n    return result;\n}\n/** Internal helper: convert a canvas to a data URI. */\nfunction canvasToDataURL(canvas, mimeType = 'image/png', quality = 0.92) {\n    return canvas.toDataURL(mimeType, quality);\n}\n/** Internal helper: convert a File/Blob into a HTMLImageElement. */\nasync function fileToImage(file) {\n    const dataURL = await new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = () => reject(reader.error);\n        reader.readAsDataURL(file);\n    });\n    const img = new Image();\n    await new Promise(resolve => {\n        img.onload = () => resolve();\n        img.src = dataURL;\n    });\n    return img;\n}\n/** Apply redactions to an image.  Returns a Data URI. */\nasync function applyRedactionsToImage(file, actions, quality = 0.92) {\n    const img = await fileToImage(file);\n    const canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n    const ctx = canvas.getContext('2d');\n    if (!ctx)\n        throw new Error('Cannot obtain 2D context');\n    // Draw original image\n    ctx.drawImage(img, 0, 0);\n    // Build detection map\n    const map = new Map();\n    if (lastResult) {\n        for (const det of lastResult.detections) {\n            map.set(det.id, det);\n        }\n    }\n    // Utility helpers for drawing various redaction styles on images\n    function drawBox(x, y, w, h) {\n        ctx.fillStyle = 'black';\n        ctx.fillRect(x, y, w, h);\n    }\n    // Apply a CSS blur filter to a region by drawing the original image with\n    // the filter enabled only for that region.  Canvas 2D `filter` is\n    // supported in modern browsers.  We temporarily clip the context to\n    // restrict the blur effect to the redaction box.\n    function drawBlur(x, y, w, h) {\n        ctx.save();\n        ctx.filter = 'blur(8px)';\n        ctx.beginPath();\n        ctx.rect(x, y, w, h);\n        ctx.clip();\n        ctx.drawImage(img, 0, 0);\n        ctx.restore();\n    }\n    // Pixelate by drawing the region scaled down and back up.  Choose a\n    // pixel size relative to region size to maintain some obfuscation but\n    // not degrade performance too much.\n    function drawPixelate(x, y, w, h) {\n        const pixelSize = Math.max(4, Math.floor(Math.min(w, h) / 10));\n        // Create a temporary canvas to hold the region scaled down\n        const tempCanvas = document.createElement('canvas');\n        tempCanvas.width = Math.max(1, Math.floor(w / pixelSize));\n        tempCanvas.height = Math.max(1, Math.floor(h / pixelSize));\n        const tctx = tempCanvas.getContext('2d');\n        if (!tctx) {\n            drawBox(x, y, w, h);\n            return;\n        }\n        // Draw the region scaled down onto the temp canvas\n        tctx.drawImage(img, x, y, w, h, 0, 0, tempCanvas.width, tempCanvas.height);\n        // Now draw the scaled up version onto the main canvas to pixelate\n        ctx.imageSmoothingEnabled = false;\n        ctx.drawImage(tempCanvas, 0, 0, tempCanvas.width, tempCanvas.height, x, y, w, h);\n        ctx.imageSmoothingEnabled = true;\n    }\n    // Draw a label over the region.  Fill a semi‑opaque box then draw\n    // the label text centred within.  When the label is too long to fit,\n    // truncate and append an ellipsis.\n    function drawLabel(x, y, w, h, text) {\n        ctx.save();\n        ctx.fillStyle = 'black';\n        ctx.fillRect(x, y, w, h);\n        ctx.fillStyle = 'white';\n        const fontSize = Math.max(10, Math.floor(h * 0.6));\n        ctx.font = `${fontSize}px sans-serif`;\n        ctx.textBaseline = 'middle';\n        ctx.textAlign = 'center';\n        // Truncate text if it won't fit\n        let label = text;\n        const maxWidth = w - 4;\n        while (ctx.measureText(label).width > maxWidth && label.length > 1) {\n            label = label.slice(0, -1);\n        }\n        if (label !== text) {\n            label = label.slice(0, -1) + '…';\n        }\n        ctx.fillText(label, x + w / 2, y + h / 2);\n        ctx.restore();\n    }\n    // Draw a mask that obscures all but the last four characters of the\n    // provided preview text.  The mask uses asterisks for the hidden\n    // portion.  Non‑digit characters are preserved in their positions.\n    function drawMaskLast4(x, y, w, h, preview) {\n        const text = preview || '';\n        // Keep only last 4 alphanumeric characters; replace preceding\n        // characters (letters or digits) with asterisks but preserve spaces and other symbols.\n        let masked = '';\n        let remaining = 4;\n        for (let i = text.length - 1; i >= 0; i--) {\n            const ch = text[i];\n            if (/\\w/.test(ch) && remaining > 0) {\n                masked = ch + masked;\n                remaining--;\n            }\n            else if (/\\w/.test(ch)) {\n                masked = '*' + masked;\n            }\n            else {\n                masked = ch + masked;\n            }\n        }\n        drawLabel(x, y, w, h, masked);\n    }\n    // Draw redactions using the selected style for each action.  If the\n    // style is not recognised, fallback to a solid box.\n    actions.forEach(action => {\n        const det = map.get(action.detectionId);\n        if (!det)\n            return;\n        const { box } = det;\n        const x = box.x * canvas.width;\n        const y = box.y * canvas.height;\n        const w = box.w * canvas.width;\n        const h = box.h * canvas.height;\n        switch (action.style) {\n            case 'BLUR':\n                drawBlur(x, y, w, h);\n                break;\n            case 'PIXELATE':\n                drawPixelate(x, y, w, h);\n                break;\n            case 'LABEL':\n                drawLabel(x, y, w, h, action.labelText || det.kind);\n                break;\n            case 'MASK_LAST4':\n                drawMaskLast4(x, y, w, h, det.preview);\n                break;\n            case 'REMOVE_METADATA':\n                // Metadata removal is handled by re‑encoding the image; no\n                // drawing needed for this redaction.\n                break;\n            default:\n                drawBox(x, y, w, h);\n        }\n    });\n    // Return a data URI without metadata (re‑encoding strips EXIF)\n    return canvas.toDataURL('image/jpeg', quality);\n}\n/** Apply redactions to a PDF.  Returns a Data URI of the new PDF. */\nasync function applyRedactionsToPdf(file, actions) {\n    const origBytes = await file.arrayBuffer();\n    const origPdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.load(origBytes);\n    const newPdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.create();\n    const detectionMap = new Map();\n    if (lastResult) {\n        for (const det of lastResult.detections) {\n            detectionMap.set(det.id, det);\n        }\n    }\n    const total = origPdf.getPageCount();\n    for (let i = 0; i < total; i++) {\n        const [copiedPage] = await newPdf.copyPages(origPdf, [i]);\n        newPdf.addPage(copiedPage);\n        const { width, height } = copiedPage.getSize();\n        // Filter actions for this page\n        const pageActions = actions.filter(act => {\n            var _a;\n            const det = detectionMap.get(act.detectionId);\n            return det && ((_a = det.box.page) !== null && _a !== void 0 ? _a : 0) === i;\n        });\n        // Draw each redaction.  Always draw a black rectangle; then if the\n        // style supports text (LABEL or MASK_LAST4) overlay text on top.\n        for (const action of pageActions) {\n            const det = detectionMap.get(action.detectionId);\n            if (!det)\n                continue;\n            const { box } = det;\n            const x = box.x * width;\n            // Convert from top-left origin to PDF bottom-left origin\n            const y = (1 - box.y - box.h) * height;\n            const w = box.w * width;\n            const h = box.h * height;\n            // Draw base rectangle\n            copiedPage.drawRectangle({\n                x,\n                y,\n                width: w,\n                height: h,\n                color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(0, 0, 0),\n                opacity: 1\n            });\n            // Overlay text for LABEL or MASK_LAST4\n            if (action.style === 'LABEL' || action.style === 'MASK_LAST4') {\n                let text = '';\n                if (action.style === 'LABEL') {\n                    text = action.labelText || det.kind;\n                }\n                else if (action.style === 'MASK_LAST4') {\n                    const preview = det.preview || '';\n                    // Mask all but last four alphanumeric characters\n                    let masked = '';\n                    let remaining = 4;\n                    for (let i = preview.length - 1; i >= 0; i--) {\n                        const ch = preview[i];\n                        if (/\\w/.test(ch) && remaining > 0) {\n                            masked = ch + masked;\n                            remaining--;\n                        }\n                        else if (/\\w/.test(ch)) {\n                            masked = '*' + masked;\n                        }\n                        else {\n                            masked = ch + masked;\n                        }\n                    }\n                    text = masked;\n                }\n                // Ensure font size reasonably scales with height\n                const fontSize = Math.max(8, h * 0.6);\n                // Constrain text width; if too long, truncate and add ellipsis\n                let label = text;\n                // pdf-lib drawText does not provide measureText; approximate by\n                // character count relative to width and font size\n                const maxChars = Math.floor((w - 4) / (fontSize * 0.6));\n                if (label.length > maxChars) {\n                    label = label.slice(0, maxChars > 3 ? maxChars - 1 : 0) + '…';\n                }\n                // Approximate horizontal centering.  Estimate each character width as\n                // 0.6 × fontSize and compute offset relative to the region width.\n                const estTextWidth = label.length * fontSize * 0.6;\n                const xOffset = (w - estTextWidth) / 2;\n                copiedPage.drawText(label, {\n                    x: x + Math.max(0, xOffset),\n                    y: y + h / 2 - fontSize / 2,\n                    size: fontSize,\n                    color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(1, 1, 1)\n                });\n            }\n        }\n    }\n    const pdfBytes = await newPdf.save();\n    const base64 = typeof Buffer !== 'undefined' ? Buffer.from(pdfBytes).toString('base64') : btoa(String.fromCharCode(...new Uint8Array(pdfBytes)));\n    return `data:application/pdf;base64,${base64}`;\n}\n/**\n * Apply redactions to a file using the previously analysed detections.\n *\n * Note: This implementation relies on `lastResult` set by analyzeDocument().\n * In a real application you should pass the detections explicitly to avoid\n * hidden state.\n */\nasync function applyRedactions(file, actions, opts) {\n    var _a;\n    if (!lastResult) {\n        throw new Error('No analysis result available.  Call analyzeDocument() first.');\n    }\n    const mime = file.type || '';\n    let fileUri;\n    if (mime === 'application/pdf' || opts.output === 'pdf') {\n        fileUri = await applyRedactionsToPdf(file, actions);\n    }\n    else {\n        const quality = (_a = opts.quality) !== null && _a !== void 0 ? _a : 0.92;\n        fileUri = await applyRedactionsToImage(file, actions, quality);\n    }\n    // Build a simple report summarising redactions\n    const report = {};\n    if (lastResult) {\n        report.totalDetections = lastResult.detections.length;\n        report.redactedCount = actions.length;\n        const counts = {};\n        for (const action of actions) {\n            const det = lastResult.detections.find(d => d.id === action.detectionId);\n            if (det) {\n                counts[det.kind] = (counts[det.kind] || 0) + 1;\n            }\n        }\n        report.byKind = counts;\n    }\n    return { fileUri, report };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNsZWFuc2hhcmUvdWkvLi4vY29yZS1kZXRlY3QvZGlzdC9waXBlbGluZS9hcHBseS5qcz8xMzczIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFuYWx5emVEb2N1bWVudCBhcyBhbmFseXplIH0gZnJvbSAnLi9hbmFseXplJztcbmltcG9ydCB7IFBERkRvY3VtZW50LCByZ2IgfSBmcm9tICdwZGYtbGliJztcbi8vIEEgbW9kdWxl4oCRc2NvcGVkIHZhcmlhYmxlIHRvIHN0b3JlIHRoZSBsYXN0IGFuYWx5c2lzIHJlc3VsdC4gIGFwcGx5UmVkYWN0aW9ucygpXG4vLyB1c2VzIHRoaXMgbWFwIHRvIHJlc29sdmUgZGV0ZWN0aW9uIElEcyB0byBib3VuZGluZyBib3hlcy4gIEluIGEgcmVhbFxuLy8gYXBwbGljYXRpb24geW91IHNob3VsZCBwYXNzIHRoZSBkZXRlY3Rpb25zIGRpcmVjdGx5IHRvIGF2b2lkIHNoYXJlZFxuLy8gbXV0YWJsZSBzdGF0ZS4gIFRoaXMgc2ltcGxpZmllZCBpbXBsZW1lbnRhdGlvbiBpcyBzdWZmaWNpZW50IGZvciB0aGVcbi8vIGRlbW9uc3RyYXRpb24uXG5sZXQgbGFzdFJlc3VsdCA9IG51bGw7XG4vKiogT3ZlcnJpZGUgdGhlIGV4cG9ydGVkIGFuYWx5c2UgZnVuY3Rpb24gdG8gY2FwdHVyZSB0aGUgbGFzdCByZXN1bHQuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZURvY3VtZW50KGZpbGUsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFuYWx5emUoZmlsZSwgb3B0cyk7XG4gICAgbGFzdFJlc3VsdCA9IHJlc3VsdDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqIEludGVybmFsIGhlbHBlcjogY29udmVydCBhIGNhbnZhcyB0byBhIGRhdGEgVVJJLiAqL1xuZnVuY3Rpb24gY2FudmFzVG9EYXRhVVJMKGNhbnZhcywgbWltZVR5cGUgPSAnaW1hZ2UvcG5nJywgcXVhbGl0eSA9IDAuOTIpIHtcbiAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTChtaW1lVHlwZSwgcXVhbGl0eSk7XG59XG4vKiogSW50ZXJuYWwgaGVscGVyOiBjb252ZXJ0IGEgRmlsZS9CbG9iIGludG8gYSBIVE1MSW1hZ2VFbGVtZW50LiAqL1xuYXN5bmMgZnVuY3Rpb24gZmlsZVRvSW1hZ2UoZmlsZSkge1xuICAgIGNvbnN0IGRhdGFVUkwgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHJlamVjdChyZWFkZXIuZXJyb3IpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICB9KTtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoKTtcbiAgICAgICAgaW1nLnNyYyA9IGRhdGFVUkw7XG4gICAgfSk7XG4gICAgcmV0dXJuIGltZztcbn1cbi8qKiBBcHBseSByZWRhY3Rpb25zIHRvIGFuIGltYWdlLiAgUmV0dXJucyBhIERhdGEgVVJJLiAqL1xuYXN5bmMgZnVuY3Rpb24gYXBwbHlSZWRhY3Rpb25zVG9JbWFnZShmaWxlLCBhY3Rpb25zLCBxdWFsaXR5ID0gMC45Mikge1xuICAgIGNvbnN0IGltZyA9IGF3YWl0IGZpbGVUb0ltYWdlKGZpbGUpO1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWN0eClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgb2J0YWluIDJEIGNvbnRleHQnKTtcbiAgICAvLyBEcmF3IG9yaWdpbmFsIGltYWdlXG4gICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgIC8vIEJ1aWxkIGRldGVjdGlvbiBtYXBcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgaWYgKGxhc3RSZXN1bHQpIHtcbiAgICAgICAgZm9yIChjb25zdCBkZXQgb2YgbGFzdFJlc3VsdC5kZXRlY3Rpb25zKSB7XG4gICAgICAgICAgICBtYXAuc2V0KGRldC5pZCwgZGV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBVdGlsaXR5IGhlbHBlcnMgZm9yIGRyYXdpbmcgdmFyaW91cyByZWRhY3Rpb24gc3R5bGVzIG9uIGltYWdlc1xuICAgIGZ1bmN0aW9uIGRyYXdCb3goeCwgeSwgdywgaCkge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHcsIGgpO1xuICAgIH1cbiAgICAvLyBBcHBseSBhIENTUyBibHVyIGZpbHRlciB0byBhIHJlZ2lvbiBieSBkcmF3aW5nIHRoZSBvcmlnaW5hbCBpbWFnZSB3aXRoXG4gICAgLy8gdGhlIGZpbHRlciBlbmFibGVkIG9ubHkgZm9yIHRoYXQgcmVnaW9uLiAgQ2FudmFzIDJEIGBmaWx0ZXJgIGlzXG4gICAgLy8gc3VwcG9ydGVkIGluIG1vZGVybiBicm93c2Vycy4gIFdlIHRlbXBvcmFyaWx5IGNsaXAgdGhlIGNvbnRleHQgdG9cbiAgICAvLyByZXN0cmljdCB0aGUgYmx1ciBlZmZlY3QgdG8gdGhlIHJlZGFjdGlvbiBib3guXG4gICAgZnVuY3Rpb24gZHJhd0JsdXIoeCwgeSwgdywgaCkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguZmlsdGVyID0gJ2JsdXIoOHB4KSc7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnJlY3QoeCwgeSwgdywgaCk7XG4gICAgICAgIGN0eC5jbGlwKCk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgLy8gUGl4ZWxhdGUgYnkgZHJhd2luZyB0aGUgcmVnaW9uIHNjYWxlZCBkb3duIGFuZCBiYWNrIHVwLiAgQ2hvb3NlIGFcbiAgICAvLyBwaXhlbCBzaXplIHJlbGF0aXZlIHRvIHJlZ2lvbiBzaXplIHRvIG1haW50YWluIHNvbWUgb2JmdXNjYXRpb24gYnV0XG4gICAgLy8gbm90IGRlZ3JhZGUgcGVyZm9ybWFuY2UgdG9vIG11Y2guXG4gICAgZnVuY3Rpb24gZHJhd1BpeGVsYXRlKHgsIHksIHcsIGgpIHtcbiAgICAgICAgY29uc3QgcGl4ZWxTaXplID0gTWF0aC5tYXgoNCwgTWF0aC5mbG9vcihNYXRoLm1pbih3LCBoKSAvIDEwKSk7XG4gICAgICAgIC8vIENyZWF0ZSBhIHRlbXBvcmFyeSBjYW52YXMgdG8gaG9sZCB0aGUgcmVnaW9uIHNjYWxlZCBkb3duXG4gICAgICAgIGNvbnN0IHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IodyAvIHBpeGVsU2l6ZSkpO1xuICAgICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IoaCAvIHBpeGVsU2l6ZSkpO1xuICAgICAgICBjb25zdCB0Y3R4ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoIXRjdHgpIHtcbiAgICAgICAgICAgIGRyYXdCb3goeCwgeSwgdywgaCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRHJhdyB0aGUgcmVnaW9uIHNjYWxlZCBkb3duIG9udG8gdGhlIHRlbXAgY2FudmFzXG4gICAgICAgIHRjdHguZHJhd0ltYWdlKGltZywgeCwgeSwgdywgaCwgMCwgMCwgdGVtcENhbnZhcy53aWR0aCwgdGVtcENhbnZhcy5oZWlnaHQpO1xuICAgICAgICAvLyBOb3cgZHJhdyB0aGUgc2NhbGVkIHVwIHZlcnNpb24gb250byB0aGUgbWFpbiBjYW52YXMgdG8gcGl4ZWxhdGVcbiAgICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBjdHguZHJhd0ltYWdlKHRlbXBDYW52YXMsIDAsIDAsIHRlbXBDYW52YXMud2lkdGgsIHRlbXBDYW52YXMuaGVpZ2h0LCB4LCB5LCB3LCBoKTtcbiAgICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIC8vIERyYXcgYSBsYWJlbCBvdmVyIHRoZSByZWdpb24uICBGaWxsIGEgc2VtaeKAkW9wYXF1ZSBib3ggdGhlbiBkcmF3XG4gICAgLy8gdGhlIGxhYmVsIHRleHQgY2VudHJlZCB3aXRoaW4uICBXaGVuIHRoZSBsYWJlbCBpcyB0b28gbG9uZyB0byBmaXQsXG4gICAgLy8gdHJ1bmNhdGUgYW5kIGFwcGVuZCBhbiBlbGxpcHNpcy5cbiAgICBmdW5jdGlvbiBkcmF3TGFiZWwoeCwgeSwgdywgaCwgdGV4dCkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHcsIGgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgY29uc3QgZm9udFNpemUgPSBNYXRoLm1heCgxMCwgTWF0aC5mbG9vcihoICogMC42KSk7XG4gICAgICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemV9cHggc2Fucy1zZXJpZmA7XG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAvLyBUcnVuY2F0ZSB0ZXh0IGlmIGl0IHdvbid0IGZpdFxuICAgICAgICBsZXQgbGFiZWwgPSB0ZXh0O1xuICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHcgLSA0O1xuICAgICAgICB3aGlsZSAoY3R4Lm1lYXN1cmVUZXh0KGxhYmVsKS53aWR0aCA+IG1heFdpZHRoICYmIGxhYmVsLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGxhYmVsID0gbGFiZWwuc2xpY2UoMCwgLTEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYWJlbCAhPT0gdGV4dCkge1xuICAgICAgICAgICAgbGFiZWwgPSBsYWJlbC5zbGljZSgwLCAtMSkgKyAn4oCmJztcbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbFRleHQobGFiZWwsIHggKyB3IC8gMiwgeSArIGggLyAyKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgLy8gRHJhdyBhIG1hc2sgdGhhdCBvYnNjdXJlcyBhbGwgYnV0IHRoZSBsYXN0IGZvdXIgY2hhcmFjdGVycyBvZiB0aGVcbiAgICAvLyBwcm92aWRlZCBwcmV2aWV3IHRleHQuICBUaGUgbWFzayB1c2VzIGFzdGVyaXNrcyBmb3IgdGhlIGhpZGRlblxuICAgIC8vIHBvcnRpb24uICBOb27igJFkaWdpdCBjaGFyYWN0ZXJzIGFyZSBwcmVzZXJ2ZWQgaW4gdGhlaXIgcG9zaXRpb25zLlxuICAgIGZ1bmN0aW9uIGRyYXdNYXNrTGFzdDQoeCwgeSwgdywgaCwgcHJldmlldykge1xuICAgICAgICBjb25zdCB0ZXh0ID0gcHJldmlldyB8fCAnJztcbiAgICAgICAgLy8gS2VlcCBvbmx5IGxhc3QgNCBhbHBoYW51bWVyaWMgY2hhcmFjdGVyczsgcmVwbGFjZSBwcmVjZWRpbmdcbiAgICAgICAgLy8gY2hhcmFjdGVycyAobGV0dGVycyBvciBkaWdpdHMpIHdpdGggYXN0ZXJpc2tzIGJ1dCBwcmVzZXJ2ZSBzcGFjZXMgYW5kIG90aGVyIHN5bWJvbHMuXG4gICAgICAgIGxldCBtYXNrZWQgPSAnJztcbiAgICAgICAgbGV0IHJlbWFpbmluZyA9IDQ7XG4gICAgICAgIGZvciAobGV0IGkgPSB0ZXh0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBjaCA9IHRleHRbaV07XG4gICAgICAgICAgICBpZiAoL1xcdy8udGVzdChjaCkgJiYgcmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgICAgIG1hc2tlZCA9IGNoICsgbWFza2VkO1xuICAgICAgICAgICAgICAgIHJlbWFpbmluZy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoL1xcdy8udGVzdChjaCkpIHtcbiAgICAgICAgICAgICAgICBtYXNrZWQgPSAnKicgKyBtYXNrZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXNrZWQgPSBjaCArIG1hc2tlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkcmF3TGFiZWwoeCwgeSwgdywgaCwgbWFza2VkKTtcbiAgICB9XG4gICAgLy8gRHJhdyByZWRhY3Rpb25zIHVzaW5nIHRoZSBzZWxlY3RlZCBzdHlsZSBmb3IgZWFjaCBhY3Rpb24uICBJZiB0aGVcbiAgICAvLyBzdHlsZSBpcyBub3QgcmVjb2duaXNlZCwgZmFsbGJhY2sgdG8gYSBzb2xpZCBib3guXG4gICAgYWN0aW9ucy5mb3JFYWNoKGFjdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IGRldCA9IG1hcC5nZXQoYWN0aW9uLmRldGVjdGlvbklkKTtcbiAgICAgICAgaWYgKCFkZXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgYm94IH0gPSBkZXQ7XG4gICAgICAgIGNvbnN0IHggPSBib3gueCAqIGNhbnZhcy53aWR0aDtcbiAgICAgICAgY29uc3QgeSA9IGJveC55ICogY2FudmFzLmhlaWdodDtcbiAgICAgICAgY29uc3QgdyA9IGJveC53ICogY2FudmFzLndpZHRoO1xuICAgICAgICBjb25zdCBoID0gYm94LmggKiBjYW52YXMuaGVpZ2h0O1xuICAgICAgICBzd2l0Y2ggKGFjdGlvbi5zdHlsZSkge1xuICAgICAgICAgICAgY2FzZSAnQkxVUic6XG4gICAgICAgICAgICAgICAgZHJhd0JsdXIoeCwgeSwgdywgaCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQSVhFTEFURSc6XG4gICAgICAgICAgICAgICAgZHJhd1BpeGVsYXRlKHgsIHksIHcsIGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTEFCRUwnOlxuICAgICAgICAgICAgICAgIGRyYXdMYWJlbCh4LCB5LCB3LCBoLCBhY3Rpb24ubGFiZWxUZXh0IHx8IGRldC5raW5kKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ01BU0tfTEFTVDQnOlxuICAgICAgICAgICAgICAgIGRyYXdNYXNrTGFzdDQoeCwgeSwgdywgaCwgZGV0LnByZXZpZXcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUkVNT1ZFX01FVEFEQVRBJzpcbiAgICAgICAgICAgICAgICAvLyBNZXRhZGF0YSByZW1vdmFsIGlzIGhhbmRsZWQgYnkgcmXigJFlbmNvZGluZyB0aGUgaW1hZ2U7IG5vXG4gICAgICAgICAgICAgICAgLy8gZHJhd2luZyBuZWVkZWQgZm9yIHRoaXMgcmVkYWN0aW9uLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBkcmF3Qm94KHgsIHksIHcsIGgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gUmV0dXJuIGEgZGF0YSBVUkkgd2l0aG91dCBtZXRhZGF0YSAocmXigJFlbmNvZGluZyBzdHJpcHMgRVhJRilcbiAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIHF1YWxpdHkpO1xufVxuLyoqIEFwcGx5IHJlZGFjdGlvbnMgdG8gYSBQREYuICBSZXR1cm5zIGEgRGF0YSBVUkkgb2YgdGhlIG5ldyBQREYuICovXG5hc3luYyBmdW5jdGlvbiBhcHBseVJlZGFjdGlvbnNUb1BkZihmaWxlLCBhY3Rpb25zKSB7XG4gICAgY29uc3Qgb3JpZ0J5dGVzID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpO1xuICAgIGNvbnN0IG9yaWdQZGYgPSBhd2FpdCBQREZEb2N1bWVudC5sb2FkKG9yaWdCeXRlcyk7XG4gICAgY29uc3QgbmV3UGRmID0gYXdhaXQgUERGRG9jdW1lbnQuY3JlYXRlKCk7XG4gICAgY29uc3QgZGV0ZWN0aW9uTWFwID0gbmV3IE1hcCgpO1xuICAgIGlmIChsYXN0UmVzdWx0KSB7XG4gICAgICAgIGZvciAoY29uc3QgZGV0IG9mIGxhc3RSZXN1bHQuZGV0ZWN0aW9ucykge1xuICAgICAgICAgICAgZGV0ZWN0aW9uTWFwLnNldChkZXQuaWQsIGRldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdG90YWwgPSBvcmlnUGRmLmdldFBhZ2VDb3VudCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICBjb25zdCBbY29waWVkUGFnZV0gPSBhd2FpdCBuZXdQZGYuY29weVBhZ2VzKG9yaWdQZGYsIFtpXSk7XG4gICAgICAgIG5ld1BkZi5hZGRQYWdlKGNvcGllZFBhZ2UpO1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNvcGllZFBhZ2UuZ2V0U2l6ZSgpO1xuICAgICAgICAvLyBGaWx0ZXIgYWN0aW9ucyBmb3IgdGhpcyBwYWdlXG4gICAgICAgIGNvbnN0IHBhZ2VBY3Rpb25zID0gYWN0aW9ucy5maWx0ZXIoYWN0ID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IGRldCA9IGRldGVjdGlvbk1hcC5nZXQoYWN0LmRldGVjdGlvbklkKTtcbiAgICAgICAgICAgIHJldHVybiBkZXQgJiYgKChfYSA9IGRldC5ib3gucGFnZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgPT09IGk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBEcmF3IGVhY2ggcmVkYWN0aW9uLiAgQWx3YXlzIGRyYXcgYSBibGFjayByZWN0YW5nbGU7IHRoZW4gaWYgdGhlXG4gICAgICAgIC8vIHN0eWxlIHN1cHBvcnRzIHRleHQgKExBQkVMIG9yIE1BU0tfTEFTVDQpIG92ZXJsYXkgdGV4dCBvbiB0b3AuXG4gICAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIHBhZ2VBY3Rpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkZXQgPSBkZXRlY3Rpb25NYXAuZ2V0KGFjdGlvbi5kZXRlY3Rpb25JZCk7XG4gICAgICAgICAgICBpZiAoIWRldClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IHsgYm94IH0gPSBkZXQ7XG4gICAgICAgICAgICBjb25zdCB4ID0gYm94LnggKiB3aWR0aDtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgZnJvbSB0b3AtbGVmdCBvcmlnaW4gdG8gUERGIGJvdHRvbS1sZWZ0IG9yaWdpblxuICAgICAgICAgICAgY29uc3QgeSA9ICgxIC0gYm94LnkgLSBib3guaCkgKiBoZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCB3ID0gYm94LncgKiB3aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGggPSBib3guaCAqIGhlaWdodDtcbiAgICAgICAgICAgIC8vIERyYXcgYmFzZSByZWN0YW5nbGVcbiAgICAgICAgICAgIGNvcGllZFBhZ2UuZHJhd1JlY3RhbmdsZSh7XG4gICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgICAgICAgIGhlaWdodDogaCxcbiAgICAgICAgICAgICAgICBjb2xvcjogcmdiKDAsIDAsIDApLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gT3ZlcmxheSB0ZXh0IGZvciBMQUJFTCBvciBNQVNLX0xBU1Q0XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnN0eWxlID09PSAnTEFCRUwnIHx8IGFjdGlvbi5zdHlsZSA9PT0gJ01BU0tfTEFTVDQnKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRleHQgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLnN0eWxlID09PSAnTEFCRUwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBhY3Rpb24ubGFiZWxUZXh0IHx8IGRldC5raW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhY3Rpb24uc3R5bGUgPT09ICdNQVNLX0xBU1Q0Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3ID0gZGV0LnByZXZpZXcgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1hc2sgYWxsIGJ1dCBsYXN0IGZvdXIgYWxwaGFudW1lcmljIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hc2tlZCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVtYWluaW5nID0gNDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHByZXZpZXcubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoID0gcHJldmlld1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXFx3Ly50ZXN0KGNoKSAmJiByZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza2VkID0gY2ggKyBtYXNrZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgvXFx3Ly50ZXN0KGNoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tlZCA9ICcqJyArIG1hc2tlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tlZCA9IGNoICsgbWFza2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBtYXNrZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBmb250IHNpemUgcmVhc29uYWJseSBzY2FsZXMgd2l0aCBoZWlnaHRcbiAgICAgICAgICAgICAgICBjb25zdCBmb250U2l6ZSA9IE1hdGgubWF4KDgsIGggKiAwLjYpO1xuICAgICAgICAgICAgICAgIC8vIENvbnN0cmFpbiB0ZXh0IHdpZHRoOyBpZiB0b28gbG9uZywgdHJ1bmNhdGUgYW5kIGFkZCBlbGxpcHNpc1xuICAgICAgICAgICAgICAgIGxldCBsYWJlbCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgLy8gcGRmLWxpYiBkcmF3VGV4dCBkb2VzIG5vdCBwcm92aWRlIG1lYXN1cmVUZXh0OyBhcHByb3hpbWF0ZSBieVxuICAgICAgICAgICAgICAgIC8vIGNoYXJhY3RlciBjb3VudCByZWxhdGl2ZSB0byB3aWR0aCBhbmQgZm9udCBzaXplXG4gICAgICAgICAgICAgICAgY29uc3QgbWF4Q2hhcnMgPSBNYXRoLmZsb29yKCh3IC0gNCkgLyAoZm9udFNpemUgKiAwLjYpKTtcbiAgICAgICAgICAgICAgICBpZiAobGFiZWwubGVuZ3RoID4gbWF4Q2hhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBsYWJlbC5zbGljZSgwLCBtYXhDaGFycyA+IDMgPyBtYXhDaGFycyAtIDEgOiAwKSArICfigKYnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBcHByb3hpbWF0ZSBob3Jpem9udGFsIGNlbnRlcmluZy4gIEVzdGltYXRlIGVhY2ggY2hhcmFjdGVyIHdpZHRoIGFzXG4gICAgICAgICAgICAgICAgLy8gMC42IMOXIGZvbnRTaXplIGFuZCBjb21wdXRlIG9mZnNldCByZWxhdGl2ZSB0byB0aGUgcmVnaW9uIHdpZHRoLlxuICAgICAgICAgICAgICAgIGNvbnN0IGVzdFRleHRXaWR0aCA9IGxhYmVsLmxlbmd0aCAqIGZvbnRTaXplICogMC42O1xuICAgICAgICAgICAgICAgIGNvbnN0IHhPZmZzZXQgPSAodyAtIGVzdFRleHRXaWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgIGNvcGllZFBhZ2UuZHJhd1RleHQobGFiZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgeDogeCArIE1hdGgubWF4KDAsIHhPZmZzZXQpLFxuICAgICAgICAgICAgICAgICAgICB5OiB5ICsgaCAvIDIgLSBmb250U2l6ZSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IGZvbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmdiKDEsIDEsIDEpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGRmQnl0ZXMgPSBhd2FpdCBuZXdQZGYuc2F2ZSgpO1xuICAgIGNvbnN0IGJhc2U2NCA9IHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnID8gQnVmZmVyLmZyb20ocGRmQnl0ZXMpLnRvU3RyaW5nKCdiYXNlNjQnKSA6IGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5uZXcgVWludDhBcnJheShwZGZCeXRlcykpKTtcbiAgICByZXR1cm4gYGRhdGE6YXBwbGljYXRpb24vcGRmO2Jhc2U2NCwke2Jhc2U2NH1gO1xufVxuLyoqXG4gKiBBcHBseSByZWRhY3Rpb25zIHRvIGEgZmlsZSB1c2luZyB0aGUgcHJldmlvdXNseSBhbmFseXNlZCBkZXRlY3Rpb25zLlxuICpcbiAqIE5vdGU6IFRoaXMgaW1wbGVtZW50YXRpb24gcmVsaWVzIG9uIGBsYXN0UmVzdWx0YCBzZXQgYnkgYW5hbHl6ZURvY3VtZW50KCkuXG4gKiBJbiBhIHJlYWwgYXBwbGljYXRpb24geW91IHNob3VsZCBwYXNzIHRoZSBkZXRlY3Rpb25zIGV4cGxpY2l0bHkgdG8gYXZvaWRcbiAqIGhpZGRlbiBzdGF0ZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcGx5UmVkYWN0aW9ucyhmaWxlLCBhY3Rpb25zLCBvcHRzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghbGFzdFJlc3VsdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFuYWx5c2lzIHJlc3VsdCBhdmFpbGFibGUuICBDYWxsIGFuYWx5emVEb2N1bWVudCgpIGZpcnN0LicpO1xuICAgIH1cbiAgICBjb25zdCBtaW1lID0gZmlsZS50eXBlIHx8ICcnO1xuICAgIGxldCBmaWxlVXJpO1xuICAgIGlmIChtaW1lID09PSAnYXBwbGljYXRpb24vcGRmJyB8fCBvcHRzLm91dHB1dCA9PT0gJ3BkZicpIHtcbiAgICAgICAgZmlsZVVyaSA9IGF3YWl0IGFwcGx5UmVkYWN0aW9uc1RvUGRmKGZpbGUsIGFjdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcXVhbGl0eSA9IChfYSA9IG9wdHMucXVhbGl0eSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMC45MjtcbiAgICAgICAgZmlsZVVyaSA9IGF3YWl0IGFwcGx5UmVkYWN0aW9uc1RvSW1hZ2UoZmlsZSwgYWN0aW9ucywgcXVhbGl0eSk7XG4gICAgfVxuICAgIC8vIEJ1aWxkIGEgc2ltcGxlIHJlcG9ydCBzdW1tYXJpc2luZyByZWRhY3Rpb25zXG4gICAgY29uc3QgcmVwb3J0ID0ge307XG4gICAgaWYgKGxhc3RSZXN1bHQpIHtcbiAgICAgICAgcmVwb3J0LnRvdGFsRGV0ZWN0aW9ucyA9IGxhc3RSZXN1bHQuZGV0ZWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIHJlcG9ydC5yZWRhY3RlZENvdW50ID0gYWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNvdW50cyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkZXQgPSBsYXN0UmVzdWx0LmRldGVjdGlvbnMuZmluZChkID0+IGQuaWQgPT09IGFjdGlvbi5kZXRlY3Rpb25JZCk7XG4gICAgICAgICAgICBpZiAoZGV0KSB7XG4gICAgICAgICAgICAgICAgY291bnRzW2RldC5raW5kXSA9IChjb3VudHNbZGV0LmtpbmRdIHx8IDApICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXBvcnQuYnlLaW5kID0gY291bnRzO1xuICAgIH1cbiAgICByZXR1cm4geyBmaWxlVXJpLCByZXBvcnQgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../core-detect/dist/pipeline/apply.js\n");

/***/ }),

/***/ "../core-detect/dist/presets.js":
/*!**************************************!*\
  !*** ../core-detect/dist/presets.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PRESETS: () => (/* binding */ PRESETS),\n/* harmony export */   deletePreset: () => (/* binding */ deletePreset),\n/* harmony export */   getPreset: () => (/* binding */ getPreset),\n/* harmony export */   listPresets: () => (/* binding */ listPresets),\n/* harmony export */   savePreset: () => (/* binding */ savePreset)\n/* harmony export */ });\n// Predefined presets.  These can be customised by the user at runtime via the UI.\nconst PRESETS = [\n    {\n        id: 'developer',\n        name: 'Developer Secrets',\n        enabledKinds: ['EMAIL', 'PHONE', 'PAN', 'JWT', 'API_KEY', 'IBAN', 'SSN'],\n        styleMap: {},\n        customRegex: []\n    },\n    {\n        id: 'work',\n        name: 'Work Screenshot',\n        enabledKinds: ['EMAIL', 'PHONE', 'PAN', 'JWT', 'API_KEY', 'NAME', 'ADDRESS'],\n        styleMap: {},\n        customRegex: []\n    },\n    {\n        id: 'all',\n        name: 'All Detectors',\n        enabledKinds: ['FACE', 'EMAIL', 'PHONE', 'PAN', 'IBAN', 'SSN', 'JWT', 'API_KEY', 'BARCODE', 'NAME', 'ADDRESS', 'OTHER'],\n        styleMap: {},\n        customRegex: []\n    }\n];\n/** Return all registered presets. */\nfunction listPresets() {\n    return PRESETS.slice();\n}\n/** Lookup a preset by its ID. */\nfunction getPreset(id) {\n    return PRESETS.find(p => p.id === id);\n}\n/** Save or update a preset.  If the ID exists, it will be replaced; otherwise it is added. */\nfunction savePreset(preset) {\n    const index = PRESETS.findIndex(p => p.id === preset.id);\n    if (index >= 0) {\n        PRESETS[index] = preset;\n    }\n    else {\n        PRESETS.push(preset);\n    }\n}\n/** Delete a preset by its ID.  If the preset does not exist, no action is taken. */\nfunction deletePreset(id) {\n    const index = PRESETS.findIndex(p => p.id === id);\n    if (index >= 0) {\n        PRESETS.splice(index, 1);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC9wcmVzZXRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxxRUFBcUU7QUFDOUQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uLi9jb3JlLWRldGVjdC9kaXN0L3ByZXNldHMuanM/MjI4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQcmVkZWZpbmVkIHByZXNldHMuICBUaGVzZSBjYW4gYmUgY3VzdG9taXNlZCBieSB0aGUgdXNlciBhdCBydW50aW1lIHZpYSB0aGUgVUkuXG5leHBvcnQgY29uc3QgUFJFU0VUUyA9IFtcbiAgICB7XG4gICAgICAgIGlkOiAnZGV2ZWxvcGVyJyxcbiAgICAgICAgbmFtZTogJ0RldmVsb3BlciBTZWNyZXRzJyxcbiAgICAgICAgZW5hYmxlZEtpbmRzOiBbJ0VNQUlMJywgJ1BIT05FJywgJ1BBTicsICdKV1QnLCAnQVBJX0tFWScsICdJQkFOJywgJ1NTTiddLFxuICAgICAgICBzdHlsZU1hcDoge30sXG4gICAgICAgIGN1c3RvbVJlZ2V4OiBbXVxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogJ3dvcmsnLFxuICAgICAgICBuYW1lOiAnV29yayBTY3JlZW5zaG90JyxcbiAgICAgICAgZW5hYmxlZEtpbmRzOiBbJ0VNQUlMJywgJ1BIT05FJywgJ1BBTicsICdKV1QnLCAnQVBJX0tFWScsICdOQU1FJywgJ0FERFJFU1MnXSxcbiAgICAgICAgc3R5bGVNYXA6IHt9LFxuICAgICAgICBjdXN0b21SZWdleDogW11cbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6ICdhbGwnLFxuICAgICAgICBuYW1lOiAnQWxsIERldGVjdG9ycycsXG4gICAgICAgIGVuYWJsZWRLaW5kczogWydGQUNFJywgJ0VNQUlMJywgJ1BIT05FJywgJ1BBTicsICdJQkFOJywgJ1NTTicsICdKV1QnLCAnQVBJX0tFWScsICdCQVJDT0RFJywgJ05BTUUnLCAnQUREUkVTUycsICdPVEhFUiddLFxuICAgICAgICBzdHlsZU1hcDoge30sXG4gICAgICAgIGN1c3RvbVJlZ2V4OiBbXVxuICAgIH1cbl07XG4vKiogUmV0dXJuIGFsbCByZWdpc3RlcmVkIHByZXNldHMuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdFByZXNldHMoKSB7XG4gICAgcmV0dXJuIFBSRVNFVFMuc2xpY2UoKTtcbn1cbi8qKiBMb29rdXAgYSBwcmVzZXQgYnkgaXRzIElELiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFByZXNldChpZCkge1xuICAgIHJldHVybiBQUkVTRVRTLmZpbmQocCA9PiBwLmlkID09PSBpZCk7XG59XG4vKiogU2F2ZSBvciB1cGRhdGUgYSBwcmVzZXQuICBJZiB0aGUgSUQgZXhpc3RzLCBpdCB3aWxsIGJlIHJlcGxhY2VkOyBvdGhlcndpc2UgaXQgaXMgYWRkZWQuICovXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVByZXNldChwcmVzZXQpIHtcbiAgICBjb25zdCBpbmRleCA9IFBSRVNFVFMuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gcHJlc2V0LmlkKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBQUkVTRVRTW2luZGV4XSA9IHByZXNldDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFBSRVNFVFMucHVzaChwcmVzZXQpO1xuICAgIH1cbn1cbi8qKiBEZWxldGUgYSBwcmVzZXQgYnkgaXRzIElELiAgSWYgdGhlIHByZXNldCBkb2VzIG5vdCBleGlzdCwgbm8gYWN0aW9uIGlzIHRha2VuLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVByZXNldChpZCkge1xuICAgIGNvbnN0IGluZGV4ID0gUFJFU0VUUy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBpZCk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgUFJFU0VUUy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../core-detect/dist/presets.js\n");

/***/ }),

/***/ "../core-detect/dist/types.js":
/*!************************************!*\
  !*** ../core-detect/dist/types.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiO0FBQVUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uLi9jb3JlLWRldGVjdC9kaXN0L3R5cGVzLmpzP2I1NjMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHt9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../core-detect/dist/types.js\n");

/***/ }),

/***/ "jsqr":
/*!***********************!*\
  !*** external "jsqr" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("jsqr");

/***/ }),

/***/ "jszip":
/*!************************!*\
  !*** external "jszip" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("jszip");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "pdfjs-dist":
/*!*****************************!*\
  !*** external "pdfjs-dist" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("pdfjs-dist");

/***/ }),

/***/ "pdfjs-dist/build/pdf.worker.js":
/*!*************************************************!*\
  !*** external "pdfjs-dist/build/pdf.worker.js" ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("pdfjs-dist/build/pdf.worker.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = import("uuid");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?60a5":
/*!**************************!*\
  !*** encoding (ignored) ***!
  \**************************/
/***/ (() => {

/* (ignored) */

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0","vendor-chunks/@swc+helpers@0.5.2","vendor-chunks/pdf-lib@1.17.1","vendor-chunks/tesseract.js@4.1.4","vendor-chunks/@pdf-lib+standard-fonts@1.0.0","vendor-chunks/pako@1.0.11","vendor-chunks/whatwg-url@5.0.0","vendor-chunks/tr46@0.0.3","vendor-chunks/webidl-conversions@3.0.1","vendor-chunks/tslib@1.14.1","vendor-chunks/regenerator-runtime@0.13.11","vendor-chunks/node-fetch@2.7.0","vendor-chunks/is-url@1.2.4","vendor-chunks/is-electron@2.2.2","vendor-chunks/@pdf-lib+upng@1.0.1"], () => (__webpack_exec__("../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();