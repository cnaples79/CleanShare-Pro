/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"react/jsx-runtime\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction App({\n  Component,\n  pageProps\n}) {\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    // Initialize any global app state here\n    console.log('CleanShare Pro UI initialized');\n  }, []);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, {\n    ...pageProps\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ2lDO0FBQ0g7QUFBQTtBQUVmLFNBQVNHLEdBQUdBLENBQUM7RUFBRUMsU0FBUztFQUFFQztBQUFvQixDQUFDLEVBQUU7RUFDOURMLGdEQUFTLENBQUMsTUFBTTtJQUNkO0lBQ0FNLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLCtCQUErQixDQUFDO0VBQzlDLENBQUMsRUFBRSxFQUFFLENBQUM7RUFFTixvQkFBT0wsc0RBQUEsQ0FBQ0UsU0FBUztJQUFBLEdBQUtDO0VBQVMsQ0FBRyxDQUFDO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNsZWFuc2hhcmUvdWkvLi9wYWdlcy9fYXBwLnRzeD8yZmJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQXBwUHJvcHMgfSBmcm9tICduZXh0L2FwcCdcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFscy5jc3MnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH06IEFwcFByb3BzKSB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gSW5pdGlhbGl6ZSBhbnkgZ2xvYmFsIGFwcCBzdGF0ZSBoZXJlXG4gICAgY29uc29sZS5sb2coJ0NsZWFuU2hhcmUgUHJvIFVJIGluaXRpYWxpemVkJyk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJqc3giLCJfanN4IiwiQXBwIiwiQ29tcG9uZW50IiwicGFnZVByb3BzIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CleanSharePro)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @cleanshare/core-detect */ \"../core-detect/dist/index.js\");\n/* harmony import */ var _src_components_PresetManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../src/components/PresetManager */ \"./src/components/PresetManager.tsx\");\n/* harmony import */ var _src_components_HistoryDashboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../src/components/HistoryDashboard */ \"./src/components/HistoryDashboard.tsx\");\n/* harmony import */ var _src_components_UndoRedoManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../src/components/UndoRedoManager */ \"./src/components/UndoRedoManager.tsx\");\n/* harmony import */ var _src_components_KeyboardShortcutsHelp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../src/components/KeyboardShortcutsHelp */ \"./src/components/KeyboardShortcutsHelp.tsx\");\n/* harmony import */ var _src_hooks_useUndoRedo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../src/hooks/useUndoRedo */ \"./src/hooks/useUndoRedo.ts\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ \"react/jsx-runtime\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_components_PresetManager__WEBPACK_IMPORTED_MODULE_1__, _src_components_HistoryDashboard__WEBPACK_IMPORTED_MODULE_2__, _cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__]);\n([_src_components_PresetManager__WEBPACK_IMPORTED_MODULE_1__, _src_components_HistoryDashboard__WEBPACK_IMPORTED_MODULE_2__, _cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// CleanShare Pro - Modern UI Implementation\n\n\n\n\n\n\n\n\nfunction CleanSharePro() {\n  const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [fileStates, setFileStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [currentFileIndex, setCurrentFileIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [presets, setPresets] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [presetId, setPresetId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [proUnlocked, setProUnlocked] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [showPresetEditor, setShowPresetEditor] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [showHistoryDashboard, setShowHistoryDashboard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [showUndoRedoManager, setShowUndoRedoManager] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [showKeyboardHelp, setShowKeyboardHelp] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [currentSessionId, setCurrentSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [fileProcessingRecords, setFileProcessingRecords] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new Map());\n\n  // Undo/Redo system for file states\n  const undoRedoSystem = (0,_src_hooks_useUndoRedo__WEBPACK_IMPORTED_MODULE_5__.useUndoRedo)([], {\n    maxHistorySize: 100\n  });\n\n  // Sync file states with undo/redo system\n  const updateFileStates = (newStates, actionType, description) => {\n    if (actionType && description) {\n      const oldStates = fileStates;\n      undoRedoSystem.execute(actionType, description, () => {\n        setFileStates(oldStates);\n        return oldStates;\n      }, () => {\n        setFileStates(newStates);\n        return newStates;\n      });\n    } else {\n      setFileStates(newStates);\n    }\n  };\n\n  // Load presets on mount and when preset manager updates\n  const loadPresets = () => {\n    // Import listPresets dynamically to avoid SSR issues\n    Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! @cleanshare/core-detect */ \"../core-detect/dist/index.js\")).then(({\n      listPresets\n    }) => {\n      const ps = listPresets();\n      setPresets(ps);\n      if (ps.length > 0 && !presetId) {\n        setPresetId(ps[0].id);\n      }\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    loadPresets();\n  }, []);\n\n  // Keyboard shortcuts\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const handleKeydown = e => {\n      // Only handle shortcuts when not in input fields\n      if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement) {\n        return;\n      }\n      const isCtrl = e.ctrlKey || e.metaKey;\n      if (isCtrl && e.key === 'z' && !e.shiftKey) {\n        e.preventDefault();\n        undoRedoSystem.undo();\n      } else if (isCtrl && e.key === 'y' || isCtrl && e.shiftKey && e.key === 'z') {\n        e.preventDefault();\n        undoRedoSystem.redo();\n      } else if (isCtrl && e.key === 'o') {\n        e.preventDefault();\n        document.getElementById('file-input')?.click();\n      } else if (e.key === 'Escape') {\n        // Close any open modals\n        setShowPresetEditor(false);\n        setShowHistoryDashboard(false);\n        setShowUndoRedoManager(false);\n        setShowKeyboardHelp(false);\n      } else if (e.key === '?' || e.key === 'F1') {\n        e.preventDefault();\n        setShowKeyboardHelp(true);\n      }\n    };\n    window.addEventListener('keydown', handleKeydown);\n    return () => window.removeEventListener('keydown', handleKeydown);\n  }, [undoRedoSystem]);\n\n  // Process files when they change\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (files.length === 0) return;\n    async function processFiles() {\n      setLoading(true);\n      const newStates = [];\n\n      // Start processing session\n      const currentPreset = presets.find(p => p.id === presetId);\n      const sessionId = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.startSession)({\n        totalFiles: files.length,\n        presetId,\n        presetName: currentPreset?.name,\n        analyzeOptions: {\n          presetId\n        }\n      });\n      setCurrentSessionId(sessionId);\n      const processingRecords = new Map();\n      for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const startTime = Date.now();\n\n        // Start tracking this file\n        const recordId = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.startFileProcessing)({\n          sessionId,\n          fileName: file.name,\n          fileSize: file.size,\n          fileType: file.type\n        });\n        processingRecords.set(i, recordId);\n        try {\n          const result = await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.analyzeDocument)(file, {\n            presetId\n          });\n          const analysisTime = Date.now() - startTime;\n\n          // Record analysis results\n          (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.recordAnalysisResults)(recordId, {\n            detections: result.detections,\n            detectionTime: analysisTime\n          });\n          const selected = {};\n          const actions = {};\n          result.detections.forEach(det => {\n            selected[det.id] = true;\n            actions[det.id] = {\n              style: 'BOX'\n            };\n          });\n          newStates.push({\n            file,\n            detections: result.detections,\n            selected,\n            actions,\n            pages: result.pages || 1,\n            pageImages: [],\n            currentPage: 0,\n            processing: false\n          });\n        } catch (error) {\n          console.error('Failed to process file:', file.name, error);\n\n          // Record analysis error\n          (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.recordAnalysisResults)(recordId, {\n            detections: [],\n            error: error instanceof Error ? error.message : 'Unknown error'\n          });\n\n          // Add the file with error state\n          newStates.push({\n            file,\n            detections: [],\n            selected: {},\n            actions: {},\n            pages: 1,\n            pageImages: [],\n            currentPage: 0,\n            processing: false,\n            error: error instanceof Error ? error.message : 'Unknown error'\n          });\n        }\n      }\n      setFileStates(newStates);\n      setFileProcessingRecords(processingRecords);\n      setLoading(false);\n\n      // End the session\n      (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.endSession)(sessionId, 'completed');\n    }\n    processFiles();\n  }, [files, presetId]);\n  const handleFileChange = e => {\n    const selectedFiles = Array.from(e.target.files || []);\n    setFiles(selectedFiles);\n    setCurrentFileIndex(0);\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const droppedFiles = Array.from(e.dataTransfer.files);\n    setFiles(droppedFiles);\n    setCurrentFileIndex(0);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleSanitize = async fileIndex => {\n    const fileState = fileStates[fileIndex];\n    if (!fileState) return;\n\n    // Update processing state\n    setFileStates(prev => prev.map((state, i) => i === fileIndex ? {\n      ...state,\n      processing: true\n    } : state));\n    const redactionStartTime = Date.now();\n    const recordId = fileProcessingRecords.get(fileIndex);\n    try {\n      // Re-analyze the file to ensure lastResult is set correctly  \n      await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.analyzeDocument)(fileState.file, {\n        presetId\n      });\n      const redactionActions = fileState.detections.filter(det => fileState.selected[det.id]).map(det => ({\n        detectionId: det.id,\n        style: fileState.actions[det.id]?.style || 'BOX',\n        labelText: fileState.actions[det.id]?.labelText\n      }));\n      const result = await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.applyRedactions)(fileState.file, redactionActions, {\n        output: 'image'\n      }, fileState.detections);\n\n      // Convert data URI to blob for download\n      const response = await fetch(result.fileUri);\n      const blob = await response.blob();\n      const url = URL.createObjectURL(blob);\n      const redactionTime = Date.now() - redactionStartTime;\n\n      // Record redaction results\n      if (recordId) {\n        (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.recordRedactionResults)(recordId, {\n          appliedRedactions: redactionActions,\n          redactionTime,\n          outputSize: blob.size\n        });\n      }\n\n      // Update file state with result\n      setFileStates(prev => prev.map((state, i) => i === fileIndex ? {\n        ...state,\n        outputUri: url,\n        previewUri: result.fileUri,\n        processing: false\n      } : state));\n    } catch (error) {\n      console.error('Sanitization failed:', error);\n\n      // Record redaction error\n      if (recordId) {\n        (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.recordRedactionResults)(recordId, {\n          appliedRedactions: [],\n          error: error instanceof Error ? error.message : 'Unknown error'\n        });\n      }\n\n      // Show error to user\n      alert(`Sanitization failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      setFileStates(prev => prev.map((state, i) => i === fileIndex ? {\n        ...state,\n        processing: false\n      } : state));\n    }\n  };\n  const handleDownload = fileIndex => {\n    const fileState = fileStates[fileIndex];\n    if (!fileState?.outputUri) return;\n    const link = document.createElement('a');\n    link.href = fileState.outputUri;\n    link.download = `sanitized_${fileState.file.name}`;\n    link.click();\n  };\n  const handleBulkSanitize = async () => {\n    const filesToProcess = fileStates.map((state, index) => ({\n      state,\n      index\n    })).filter(({\n      state\n    }) => !state.outputUri && !state.error);\n    if (filesToProcess.length === 0) return;\n\n    // Set all eligible files to processing state\n    setFileStates(prev => prev.map((state, index) => {\n      const shouldProcess = filesToProcess.some(({\n        index: processIndex\n      }) => processIndex === index);\n      return shouldProcess ? {\n        ...state,\n        processing: true\n      } : state;\n    }));\n    try {\n      // Process files with limited concurrency\n      const maxConcurrency = 3;\n      for (let i = 0; i < filesToProcess.length; i += maxConcurrency) {\n        const batch = filesToProcess.slice(i, i + maxConcurrency);\n        const promises = batch.map(async ({\n          state,\n          index: fileIndex\n        }) => {\n          try {\n            // Re-analyze the file to ensure lastResult is set correctly  \n            await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.analyzeDocument)(state.file, {\n              presetId\n            });\n            const redactionActions = state.detections.filter(det => state.selected[det.id]).map(det => ({\n              detectionId: det.id,\n              style: state.actions[det.id]?.style || 'BOX',\n              labelText: state.actions[det.id]?.labelText\n            }));\n            const result = await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_7__.applyRedactions)(state.file, redactionActions, {\n              output: 'image'\n            }, state.detections);\n\n            // Convert data URI to blob for download\n            const response = await fetch(result.fileUri);\n            const blob = await response.blob();\n            const url = URL.createObjectURL(blob);\n\n            // Update file state with result\n            setFileStates(prev => prev.map((s, i) => i === fileIndex ? {\n              ...s,\n              outputUri: url,\n              previewUri: result.fileUri,\n              processing: false\n            } : s));\n          } catch (error) {\n            console.error(`Sanitization failed for ${state.file.name}:`, error);\n            setFileStates(prev => prev.map((s, i) => i === fileIndex ? {\n              ...s,\n              processing: false,\n              error: error instanceof Error ? error.message : 'Unknown error'\n            } : s));\n          }\n        });\n        await Promise.all(promises);\n      }\n    } catch (error) {\n      console.error('Bulk sanitization failed:', error);\n    }\n  };\n  const handleBulkDownload = () => {\n    const processedFiles = fileStates.filter(state => state.outputUri);\n    if (processedFiles.length === 0) return;\n\n    // Download each file individually\n    processedFiles.forEach((state, index) => {\n      if (state.outputUri) {\n        setTimeout(() => {\n          const link = document.createElement('a');\n          link.href = state.outputUri;\n          link.download = `sanitized_${state.file.name}`;\n          link.click();\n        }, index * 100); // Stagger downloads by 100ms\n      }\n    });\n  };\n\n  const currentFileState = fileStates[currentFileIndex];\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"header\", {\n      className: \"header\",\n      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"a\", {\n          href: \"#\",\n          className: \"logo\",\n          children: \"CleanShare Pro\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 'var(--space-md)'\n          },\n          children: [presets.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 'var(--space-xs)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"select\", {\n              value: presetId,\n              onChange: e => setPresetId(e.target.value),\n              className: \"form-select\",\n              style: {\n                minWidth: '180px'\n              },\n              children: presets.map(p => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"option\", {\n                value: p.id,\n                children: [p.name, \" \", p.domain && p.domain !== 'General' ? `(${p.domain})` : '']\n              }, p.id))\n            }), (() => {\n              const currentPreset = presets.find(p => p.id === presetId);\n              return currentPreset?.description ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n                style: {\n                  fontSize: 'var(--font-size-xs)',\n                  color: 'var(--text-secondary)',\n                  maxWidth: '200px',\n                  lineHeight: '1.2'\n                },\n                children: currentPreset.description\n              }) : null;\n            })()]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"button\", {\n            onClick: () => setProUnlocked(!proUnlocked),\n            className: `btn ${proUnlocked ? 'btn-secondary' : 'btn-outline'} btn-sm`,\n            children: proUnlocked ? '✓ Pro Unlocked' : '🔓 Unlock Pro'\n          }), proUnlocked && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"button\", {\n              onClick: () => setShowPresetEditor(true),\n              className: \"btn btn-primary btn-sm\",\n              children: \"Manage Presets\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"button\", {\n              onClick: () => setShowHistoryDashboard(true),\n              className: \"btn btn-secondary btn-sm\",\n              children: \"\\uD83D\\uDCCA History\"\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"button\", {\n            onClick: () => setShowKeyboardHelp(true),\n            className: \"btn btn-outline btn-sm\",\n            title: \"Keyboard Shortcuts (Press ? for help)\",\n            children: \"\\u2328\\uFE0F\"\n          })]\n        })]\n      })\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n        className: \"card\",\n        style: {\n          marginBottom: 'var(--space-xl)'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n          className: \"card-header\",\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"h2\", {\n            className: \"card-title\",\n            children: \"Upload Files\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"p\", {\n            className: \"card-subtitle\",\n            children: \"Select images or PDF documents to sanitize\"\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n            className: \"file-upload-zone\",\n            onDrop: handleDrop,\n            onDragOver: handleDragOver,\n            onDragLeave: handleDragLeave,\n            onClick: () => document.getElementById('file-input')?.click(),\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n              className: \"file-upload-icon\",\n              children: \"\\uD83D\\uDCC4\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n              className: \"file-upload-text\",\n              children: \"Drop files here or click to browse\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n              className: \"file-upload-subtext\",\n              children: \"Supports images (JPG, PNG, WebP, HEIC, TIFF), PDFs, and documents (DOCX, XLSX) up to 10MB each\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"input\", {\n              id: \"file-input\",\n              type: \"file\",\n              accept: \"image/*,application/pdf,.webp,.heic,.tiff,.docx,.xlsx\",\n              multiple: true,\n              onChange: handleFileChange,\n              style: {\n                display: 'none'\n              }\n            })]\n          }), loading && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n            className: \"loading-text\",\n            style: {\n              marginTop: 'var(--space-md)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n              className: \"loading-spinner\"\n            }), \"Processing files...\"]\n          })]\n        })]\n      }), fileStates.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 'var(--space-xl)'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n          className: \"sidebar\",\n          style: {\n            minWidth: '250px'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"h3\", {\n            className: \"sidebar-title\",\n            children: [\"Files (\", fileStates.length, \")\"]\n          }), fileStates.length > 1 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n            style: {\n              padding: 'var(--space-md)',\n              marginBottom: 'var(--space-md)',\n              border: '2px solid var(--color-primary)',\n              borderRadius: 'var(--radius-md)',\n              background: 'var(--bg-secondary)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"h4\", {\n              style: {\n                margin: '0 0 var(--space-sm) 0',\n                fontSize: 'var(--font-size-sm)',\n                fontWeight: '600'\n              },\n              children: \"\\uD83D\\uDE80 Bulk Processing\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n              style: {\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 'var(--space-xs)'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"button\", {\n                onClick: handleBulkSanitize,\n                className: \"btn btn-primary btn-sm\",\n                disabled: fileStates.some(s => s.processing) || fileStates.every(s => s.outputUri),\n                style: {\n                  width: '100%'\n                },\n                children: fileStates.some(s => s.processing) ? 'Processing...' : fileStates.every(s => s.outputUri) ? 'All Complete' : `Sanitize All (${fileStates.filter(s => !s.outputUri && !s.error).length})`\n              }), fileStates.some(s => s.outputUri) && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"button\", {\n                onClick: handleBulkDownload,\n                className: \"btn btn-secondary btn-sm\",\n                style: {\n                  width: '100%'\n                },\n                children: [\"\\uD83D\\uDCE6 Download All (\", fileStates.filter(s => s.outputUri).length, \")\"]\n              })]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n              style: {\n                marginTop: 'var(--space-xs)',\n                fontSize: 'var(--font-size-xs)',\n                color: 'var(--text-secondary)'\n              },\n              children: \"Concurrent processing with progress tracking\"\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 'var(--space-sm)'\n            },\n            children: fileStates.map((state, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n              onClick: () => setCurrentFileIndex(index),\n              style: {\n                padding: 'var(--space-md)',\n                border: `2px solid ${index === currentFileIndex ? 'var(--color-primary)' : 'var(--border-light)'}`,\n                borderRadius: 'var(--radius-md)',\n                cursor: 'pointer',\n                background: index === currentFileIndex ? 'var(--bg-secondary)' : 'var(--bg-primary)',\n                transition: 'all var(--transition-fast)'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n                style: {\n                  fontWeight: '600',\n                  fontSize: 'var(--font-size-sm)',\n                  marginBottom: 'var(--space-xs)'\n                },\n                children: state.file.name\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n                style: {\n                  fontSize: 'var(--font-size-xs)',\n                  color: state.error ? 'var(--color-error)' : 'var(--text-secondary)'\n                },\n                children: state.error ? `Error: ${state.error}` : `${state.detections.length} detections found`\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                style: {\n                  marginTop: 'var(--space-sm)',\n                  display: 'flex',\n                  gap: 'var(--space-xs)'\n                },\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleSanitize(index);\n                  },\n                  className: \"btn btn-primary btn-sm\",\n                  disabled: state.processing || !!state.error,\n                  style: {\n                    flex: 1\n                  },\n                  children: state.processing ? 'Processing...' : 'Sanitize'\n                }), state.outputUri && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleDownload(index);\n                  },\n                  className: \"btn btn-secondary btn-sm\",\n                  children: \"Download\"\n                })]\n              })]\n            }, index))\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: currentFileState && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"h3\", {\n                className: \"card-title\",\n                children: currentFileState.file.name\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"p\", {\n                className: \"card-subtitle\",\n                children: currentFileState.error ? 'Processing failed' : `Found ${currentFileState.detections.length} sensitive items`\n              })]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n              className: \"card-body\",\n              children: currentFileState.error ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n                className: \"alert alert-error\",\n                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"strong\", {\n                    children: \"Processing Error\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"p\", {\n                    style: {\n                      margin: '0',\n                      marginTop: 'var(--space-xs)'\n                    },\n                    children: [\"Failed to analyze this file: \", currentFileState.error]\n                  })]\n                })\n              }) : currentFileState.detections.length > 0 ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"h4\", {\n                  style: {\n                    marginBottom: 'var(--space-md)',\n                    fontSize: 'var(--font-size-lg)'\n                  },\n                  children: \"Detected Sensitive Information\"\n                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n                  style: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 'var(--space-sm)'\n                  },\n                  children: currentFileState.detections.map(detection => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                    style: {\n                      padding: 'var(--space-md)',\n                      border: '1px solid var(--border-light)',\n                      borderRadius: 'var(--radius-md)',\n                      background: 'var(--bg-secondary)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'space-between'\n                    },\n                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                      style: {\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: 'var(--space-md)'\n                      },\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"input\", {\n                        type: \"checkbox\",\n                        checked: currentFileState.selected[detection.id] || false,\n                        onChange: e => {\n                          const newStates = fileStates.map((state, i) => i === currentFileIndex ? {\n                            ...state,\n                            selected: {\n                              ...state.selected,\n                              [detection.id]: e.target.checked\n                            }\n                          } : state);\n                          updateFileStates(newStates, 'toggle-detection', `${e.target.checked ? 'Selected' : 'Deselected'} ${detection.kind} detection`);\n                        }\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                          style: {\n                            fontWeight: '600',\n                            fontSize: 'var(--font-size-sm)'\n                          },\n                          children: [detection.kind, \": \", detection.preview || 'N/A']\n                        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                          style: {\n                            fontSize: 'var(--font-size-xs)',\n                            color: 'var(--text-secondary)'\n                          },\n                          children: [\"Confidence: \", Math.round(detection.confidence * 100), \"%\"]\n                        })]\n                      })]\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"select\", {\n                      value: currentFileState.actions[detection.id]?.style || 'BOX',\n                      onChange: e => {\n                        const newStates = fileStates.map((state, i) => i === currentFileIndex ? {\n                          ...state,\n                          actions: {\n                            ...state.actions,\n                            [detection.id]: {\n                              ...state.actions[detection.id],\n                              style: e.target.value\n                            }\n                          }\n                        } : state);\n                        updateFileStates(newStates, 'change-redaction-style', `Changed ${detection.kind} redaction style to ${e.target.value}`);\n                      },\n                      className: \"form-select\",\n                      style: {\n                        minWidth: '120px'\n                      },\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"option\", {\n                        value: \"BOX\",\n                        children: \"Black Box\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"option\", {\n                        value: \"BLUR\",\n                        children: \"Blur\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"option\", {\n                        value: \"PIXELATE\",\n                        children: \"Pixelate\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"option\", {\n                        value: \"LABEL\",\n                        children: \"Label\"\n                      })]\n                    })]\n                  }, detection.id))\n                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                  className: \"card-footer\",\n                  style: {\n                    marginTop: 'var(--space-xl)'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"button\", {\n                    onClick: () => handleSanitize(currentFileIndex),\n                    className: \"btn btn-primary btn-lg\",\n                    disabled: currentFileState.processing,\n                    children: currentFileState.processing ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n                        className: \"loading-spinner\",\n                        style: {\n                          width: '1rem',\n                          height: '1rem'\n                        }\n                      }), \"Processing...\"]\n                    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Fragment, {\n                      children: \"\\uD83D\\uDD12 Sanitize Document\"\n                    })\n                  }), currentFileState.outputUri && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"button\", {\n                    onClick: () => handleDownload(currentFileIndex),\n                    className: \"btn btn-secondary btn-lg\",\n                    children: \"\\uD83D\\uDCE5 Download Clean File\"\n                  })]\n                }), currentFileState.previewUri && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                  style: {\n                    marginTop: 'var(--space-xl)',\n                    padding: 'var(--space-lg)',\n                    background: 'var(--bg-secondary)',\n                    borderRadius: 'var(--radius-md)',\n                    border: '1px solid var(--border-light)'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"h4\", {\n                    style: {\n                      marginBottom: 'var(--space-md)',\n                      fontSize: 'var(--font-size-lg)',\n                      color: 'var(--color-primary)'\n                    },\n                    children: \"\\uD83D\\uDD12 Sanitized Preview\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'center',\n                      alignItems: 'center',\n                      padding: 'var(--space-md)',\n                      background: 'var(--bg-primary)',\n                      borderRadius: 'var(--radius-md)',\n                      border: '1px solid var(--border-light)'\n                    },\n                    children: currentFileState.file.type.startsWith('image/') ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"img\", {\n                      src: currentFileState.previewUri,\n                      alt: \"Sanitized preview\",\n                      style: {\n                        maxWidth: '100%',\n                        maxHeight: '400px',\n                        borderRadius: 'var(--radius-sm)',\n                        boxShadow: 'var(--shadow-md)'\n                      }\n                    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                      style: {\n                        textAlign: 'center',\n                        padding: 'var(--space-xl)',\n                        color: 'var(--text-secondary)'\n                      },\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n                        style: {\n                          fontSize: 'var(--font-size-3xl)',\n                          marginBottom: 'var(--space-md)'\n                        },\n                        children: \"\\uD83D\\uDCC4\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"p\", {\n                        children: \"PDF sanitized successfully\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"p\", {\n                        style: {\n                          fontSize: 'var(--font-size-sm)'\n                        },\n                        children: \"Click download to save the clean file\"\n                      })]\n                    })\n                  })]\n                })]\n              }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"div\", {\n                className: \"alert alert-success\",\n                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(\"div\", {\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"strong\", {\n                    children: \"No sensitive information detected!\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(\"p\", {\n                    style: {\n                      margin: '0',\n                      marginTop: 'var(--space-xs)'\n                    },\n                    children: \"This document appears to be clean and safe to share.\"\n                  })]\n                })\n              })\n            })]\n          })\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_components_PresetManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n        isOpen: showPresetEditor && proUnlocked,\n        onClose: () => setShowPresetEditor(false),\n        currentPresetId: presetId,\n        onPresetSelect: id => {\n          setPresetId(id);\n          loadPresets(); // Refresh presets list in case new ones were created\n          setShowPresetEditor(false);\n        }\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_components_HistoryDashboard__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        isOpen: showHistoryDashboard && proUnlocked,\n        onClose: () => setShowHistoryDashboard(false)\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_components_UndoRedoManager__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        isOpen: showUndoRedoManager,\n        onClose: () => setShowUndoRedoManager(false),\n        onUndo: () => undoRedoSystem.undo(),\n        onRedo: () => undoRedoSystem.redo(),\n        canUndo: undoRedoSystem.canUndo,\n        canRedo: undoRedoSystem.canRedo,\n        historyPreview: undoRedoSystem.getHistoryPreview(20),\n        onJumpTo: index => undoRedoSystem.jumpToIndex(index)\n      }), fileStates.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_components_UndoRedoManager__WEBPACK_IMPORTED_MODULE_3__.UndoRedoControls, {\n        onUndo: () => undoRedoSystem.undo(),\n        onRedo: () => undoRedoSystem.redo(),\n        canUndo: undoRedoSystem.canUndo,\n        canRedo: undoRedoSystem.canRedo,\n        onOpenHistory: () => setShowUndoRedoManager(true)\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_src_components_KeyboardShortcutsHelp__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n        isOpen: showKeyboardHelp,\n        onClose: () => setShowKeyboardHelp(false)\n      })]\n    })]\n  });\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksQ0FBQyxDQUFFO1FBQ3BDaUssT0FBTyxFQUFFM0wsY0FBYyxDQUFDMkwsT0FBUTtRQUNoQ0MsT0FBTyxFQUFFNUwsY0FBYyxDQUFDNEwsT0FBUTtRQUNoQ0ssYUFBYSxFQUFFQSxDQUFBLEtBQU16TSxzQkFBc0IsQ0FBQyxJQUFJO01BQUUsQ0FDbkQsQ0FDRixlQUdEekIsc0RBQUEsQ0FBQ0gsNkVBQXFCO1FBQ3BCeU4sTUFBTSxFQUFFNUwsZ0JBQWlCO1FBQ3pCNkwsT0FBTyxFQUFFQSxDQUFBLEtBQU01TCxtQkFBbUIsQ0FBQyxLQUFLO01BQUUsQ0FDM0MsQ0FBQztJQUFBLENBQ0MsQ0FBQztFQUFBLENBQ0gsQ0FBQztBQUVWLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uL3BhZ2VzL2luZGV4LnRzeD8wN2ZmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENsZWFuU2hhcmUgUHJvIC0gTW9kZXJuIFVJIEltcGxlbWVudGF0aW9uXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHtcbiAgRGV0ZWN0aW9uLFxuICBSZWRhY3Rpb25BY3Rpb24sXG4gIFJlZGFjdGlvblN0eWxlLFxuICBQcmVzZXQsXG4gIERldGVjdGlvbktpbmRcbn0gZnJvbSAnQGNsZWFuc2hhcmUvY29yZS1kZXRlY3QnO1xuaW1wb3J0IHsgYW5hbHl6ZURvY3VtZW50LCBhcHBseVJlZGFjdGlvbnMsIHN0YXJ0U2Vzc2lvbiwgZW5kU2Vzc2lvbiwgc3RhcnRGaWxlUHJvY2Vzc2luZywgcmVjb3JkQW5hbHlzaXNSZXN1bHRzLCByZWNvcmRSZWRhY3Rpb25SZXN1bHRzIH0gZnJvbSAnQGNsZWFuc2hhcmUvY29yZS1kZXRlY3QnO1xuaW1wb3J0IFByZXNldE1hbmFnZXIgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvUHJlc2V0TWFuYWdlcic7XG5pbXBvcnQgSGlzdG9yeURhc2hib2FyZCBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9IaXN0b3J5RGFzaGJvYXJkJztcbmltcG9ydCBVbmRvUmVkb01hbmFnZXIsIHsgVW5kb1JlZG9Db250cm9scyB9IGZyb20gJy4uL3NyYy9jb21wb25lbnRzL1VuZG9SZWRvTWFuYWdlcic7XG5pbXBvcnQgS2V5Ym9hcmRTaG9ydGN1dHNIZWxwIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL0tleWJvYXJkU2hvcnRjdXRzSGVscCc7XG5pbXBvcnQgeyB1c2VVbmRvUmVkbyB9IGZyb20gJy4uL3NyYy9ob29rcy91c2VVbmRvUmVkbyc7XG5cbmludGVyZmFjZSBGaWxlU3RhdGUge1xuICBmaWxlOiBGaWxlO1xuICBkZXRlY3Rpb25zOiBEZXRlY3Rpb25bXTtcbiAgc2VsZWN0ZWQ6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+O1xuICBhY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCB7IHN0eWxlOiBSZWRhY3Rpb25TdHlsZTsgbGFiZWxUZXh0Pzogc3RyaW5nIH0+O1xuICBwYWdlczogbnVtYmVyO1xuICBwYWdlSW1hZ2VzOiBzdHJpbmdbXTtcbiAgY3VycmVudFBhZ2U6IG51bWJlcjtcbiAgb3V0cHV0VXJpPzogc3RyaW5nO1xuICBwcmV2aWV3VXJpPzogc3RyaW5nOyAvLyBQcmV2aWV3IG9mIHNhbml0aXplZCBmaWxlXG4gIHByb2Nlc3Npbmc/OiBib29sZWFuO1xuICBlcnJvcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2xlYW5TaGFyZVBybygpIHtcbiAgY29uc3QgW2ZpbGVzLCBzZXRGaWxlc10gPSB1c2VTdGF0ZTxGaWxlW10+KFtdKTtcbiAgY29uc3QgW2ZpbGVTdGF0ZXMsIHNldEZpbGVTdGF0ZXNdID0gdXNlU3RhdGU8RmlsZVN0YXRlW10+KFtdKTtcbiAgY29uc3QgW2N1cnJlbnRGaWxlSW5kZXgsIHNldEN1cnJlbnRGaWxlSW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtwcmVzZXRzLCBzZXRQcmVzZXRzXSA9IHVzZVN0YXRlPFByZXNldFtdPihbXSk7XG4gIGNvbnN0IFtwcmVzZXRJZCwgc2V0UHJlc2V0SWRdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Byb1VubG9ja2VkLCBzZXRQcm9VbmxvY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93UHJlc2V0RWRpdG9yLCBzZXRTaG93UHJlc2V0RWRpdG9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dIaXN0b3J5RGFzaGJvYXJkLCBzZXRTaG93SGlzdG9yeURhc2hib2FyZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93VW5kb1JlZG9NYW5hZ2VyLCBzZXRTaG93VW5kb1JlZG9NYW5hZ2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dLZXlib2FyZEhlbHAsIHNldFNob3dLZXlib2FyZEhlbHBdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VycmVudFNlc3Npb25JZCwgc2V0Q3VycmVudFNlc3Npb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2ZpbGVQcm9jZXNzaW5nUmVjb3Jkcywgc2V0RmlsZVByb2Nlc3NpbmdSZWNvcmRzXSA9IHVzZVN0YXRlPE1hcDxudW1iZXIsIHN0cmluZz4+KG5ldyBNYXAoKSk7XG5cbiAgLy8gVW5kby9SZWRvIHN5c3RlbSBmb3IgZmlsZSBzdGF0ZXNcbiAgY29uc3QgdW5kb1JlZG9TeXN0ZW0gPSB1c2VVbmRvUmVkbzxGaWxlU3RhdGVbXT4oW10sIHsgbWF4SGlzdG9yeVNpemU6IDEwMCB9KTtcbiAgXG4gIC8vIFN5bmMgZmlsZSBzdGF0ZXMgd2l0aCB1bmRvL3JlZG8gc3lzdGVtXG4gIGNvbnN0IHVwZGF0ZUZpbGVTdGF0ZXMgPSAobmV3U3RhdGVzOiBGaWxlU3RhdGVbXSwgYWN0aW9uVHlwZT86IHN0cmluZywgZGVzY3JpcHRpb24/OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoYWN0aW9uVHlwZSAmJiBkZXNjcmlwdGlvbikge1xuICAgICAgY29uc3Qgb2xkU3RhdGVzID0gZmlsZVN0YXRlcztcbiAgICAgIHVuZG9SZWRvU3lzdGVtLmV4ZWN1dGUoXG4gICAgICAgIGFjdGlvblR5cGUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgc2V0RmlsZVN0YXRlcyhvbGRTdGF0ZXMpO1xuICAgICAgICAgIHJldHVybiBvbGRTdGF0ZXM7XG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBzZXRGaWxlU3RhdGVzKG5ld1N0YXRlcyk7XG4gICAgICAgICAgcmV0dXJuIG5ld1N0YXRlcztcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RmlsZVN0YXRlcyhuZXdTdGF0ZXMpO1xuICAgIH1cbiAgfTtcblxuICAvLyBMb2FkIHByZXNldHMgb24gbW91bnQgYW5kIHdoZW4gcHJlc2V0IG1hbmFnZXIgdXBkYXRlc1xuICBjb25zdCBsb2FkUHJlc2V0cyA9ICgpID0+IHtcbiAgICAvLyBJbXBvcnQgbGlzdFByZXNldHMgZHluYW1pY2FsbHkgdG8gYXZvaWQgU1NSIGlzc3Vlc1xuICAgIGltcG9ydCgnQGNsZWFuc2hhcmUvY29yZS1kZXRlY3QnKS50aGVuKCh7IGxpc3RQcmVzZXRzIH0pID0+IHtcbiAgICAgIGNvbnN0IHBzID0gbGlzdFByZXNldHMoKTtcbiAgICAgIHNldFByZXNldHMocHMpO1xuICAgICAgaWYgKHBzLmxlbmd0aCA+IDAgJiYgIXByZXNldElkKSB7XG4gICAgICAgIHNldFByZXNldElkKHBzWzBdLmlkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvYWRQcmVzZXRzKCk7XG4gIH0sIFtdKTtcblxuICAvLyBLZXlib2FyZCBzaG9ydGN1dHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVLZXlkb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIC8vIE9ubHkgaGFuZGxlIHNob3J0Y3V0cyB3aGVuIG5vdCBpbiBpbnB1dCBmaWVsZHNcbiAgICAgIGlmIChlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgfHwgZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgaXNDdHJsID0gZS5jdHJsS2V5IHx8IGUubWV0YUtleTtcbiAgICAgIFxuICAgICAgaWYgKGlzQ3RybCAmJiBlLmtleSA9PT0gJ3onICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdW5kb1JlZG9TeXN0ZW0udW5kbygpO1xuICAgICAgfSBlbHNlIGlmICgoaXNDdHJsICYmIGUua2V5ID09PSAneScpIHx8IChpc0N0cmwgJiYgZS5zaGlmdEtleSAmJiBlLmtleSA9PT0gJ3onKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHVuZG9SZWRvU3lzdGVtLnJlZG8oKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNDdHJsICYmIGUua2V5ID09PSAnbycpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZS1pbnB1dCcpPy5jbGljaygpO1xuICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgLy8gQ2xvc2UgYW55IG9wZW4gbW9kYWxzXG4gICAgICAgIHNldFNob3dQcmVzZXRFZGl0b3IoZmFsc2UpO1xuICAgICAgICBzZXRTaG93SGlzdG9yeURhc2hib2FyZChmYWxzZSk7XG4gICAgICAgIHNldFNob3dVbmRvUmVkb01hbmFnZXIoZmFsc2UpO1xuICAgICAgICBzZXRTaG93S2V5Ym9hcmRIZWxwKGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICc/JyB8fCBlLmtleSA9PT0gJ0YxJykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHNldFNob3dLZXlib2FyZEhlbHAodHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5ZG93bik7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5ZG93bik7XG4gIH0sIFt1bmRvUmVkb1N5c3RlbV0pO1xuXG4gIC8vIFByb2Nlc3MgZmlsZXMgd2hlbiB0aGV5IGNoYW5nZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBcbiAgICBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRmlsZXMoKSB7XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc3QgbmV3U3RhdGVzOiBGaWxlU3RhdGVbXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyBTdGFydCBwcm9jZXNzaW5nIHNlc3Npb25cbiAgICAgIGNvbnN0IGN1cnJlbnRQcmVzZXQgPSBwcmVzZXRzLmZpbmQocCA9PiBwLmlkID09PSBwcmVzZXRJZCk7XG4gICAgICBjb25zdCBzZXNzaW9uSWQgPSBzdGFydFNlc3Npb24oe1xuICAgICAgICB0b3RhbEZpbGVzOiBmaWxlcy5sZW5ndGgsXG4gICAgICAgIHByZXNldElkLFxuICAgICAgICBwcmVzZXROYW1lOiBjdXJyZW50UHJlc2V0Py5uYW1lLFxuICAgICAgICBhbmFseXplT3B0aW9uczogeyBwcmVzZXRJZCB9XG4gICAgICB9KTtcbiAgICAgIHNldEN1cnJlbnRTZXNzaW9uSWQoc2Vzc2lvbklkKTtcbiAgICAgIFxuICAgICAgY29uc3QgcHJvY2Vzc2luZ1JlY29yZHMgPSBuZXcgTWFwPG51bWJlciwgc3RyaW5nPigpO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBmaWxlc1tpXTtcbiAgICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0YXJ0IHRyYWNraW5nIHRoaXMgZmlsZVxuICAgICAgICBjb25zdCByZWNvcmRJZCA9IHN0YXJ0RmlsZVByb2Nlc3Npbmcoe1xuICAgICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgICBmaWxlTmFtZTogZmlsZS5uYW1lLFxuICAgICAgICAgIGZpbGVTaXplOiBmaWxlLnNpemUsXG4gICAgICAgICAgZmlsZVR5cGU6IGZpbGUudHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcHJvY2Vzc2luZ1JlY29yZHMuc2V0KGksIHJlY29yZElkKTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYW5hbHl6ZURvY3VtZW50KGZpbGUsIHsgcHJlc2V0SWQgfSk7XG4gICAgICAgICAgY29uc3QgYW5hbHlzaXNUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZWNvcmQgYW5hbHlzaXMgcmVzdWx0c1xuICAgICAgICAgIHJlY29yZEFuYWx5c2lzUmVzdWx0cyhyZWNvcmRJZCwge1xuICAgICAgICAgICAgZGV0ZWN0aW9uczogcmVzdWx0LmRldGVjdGlvbnMsXG4gICAgICAgICAgICBkZXRlY3Rpb25UaW1lOiBhbmFseXNpc1RpbWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZDogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4gPSB7fTtcbiAgICAgICAgICBjb25zdCBhY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCB7IHN0eWxlOiBSZWRhY3Rpb25TdHlsZTsgbGFiZWxUZXh0Pzogc3RyaW5nIH0+ID0ge307XG4gICAgICAgICAgXG4gICAgICAgICAgcmVzdWx0LmRldGVjdGlvbnMuZm9yRWFjaChkZXQgPT4ge1xuICAgICAgICAgICAgc2VsZWN0ZWRbZGV0LmlkXSA9IHRydWU7XG4gICAgICAgICAgICBhY3Rpb25zW2RldC5pZF0gPSB7IHN0eWxlOiAnQk9YJyB9O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgbmV3U3RhdGVzLnB1c2goe1xuICAgICAgICAgICAgZmlsZSxcbiAgICAgICAgICAgIGRldGVjdGlvbnM6IHJlc3VsdC5kZXRlY3Rpb25zLFxuICAgICAgICAgICAgc2VsZWN0ZWQsXG4gICAgICAgICAgICBhY3Rpb25zLFxuICAgICAgICAgICAgcGFnZXM6IHJlc3VsdC5wYWdlcyB8fCAxLFxuICAgICAgICAgICAgcGFnZUltYWdlczogW10sXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogMCxcbiAgICAgICAgICAgIHByb2Nlc3Npbmc6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHByb2Nlc3MgZmlsZTonLCBmaWxlLm5hbWUsIGVycm9yKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZWNvcmQgYW5hbHlzaXMgZXJyb3JcbiAgICAgICAgICByZWNvcmRBbmFseXNpc1Jlc3VsdHMocmVjb3JkSWQsIHtcbiAgICAgICAgICAgIGRldGVjdGlvbnM6IFtdLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIHRoZSBmaWxlIHdpdGggZXJyb3Igc3RhdGVcbiAgICAgICAgICBuZXdTdGF0ZXMucHVzaCh7XG4gICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgZGV0ZWN0aW9uczogW10sXG4gICAgICAgICAgICBzZWxlY3RlZDoge30sXG4gICAgICAgICAgICBhY3Rpb25zOiB7fSxcbiAgICAgICAgICAgIHBhZ2VzOiAxLFxuICAgICAgICAgICAgcGFnZUltYWdlczogW10sXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogMCxcbiAgICAgICAgICAgIHByb2Nlc3Npbmc6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0RmlsZVN0YXRlcyhuZXdTdGF0ZXMpO1xuICAgICAgc2V0RmlsZVByb2Nlc3NpbmdSZWNvcmRzKHByb2Nlc3NpbmdSZWNvcmRzKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBFbmQgdGhlIHNlc3Npb25cbiAgICAgIGVuZFNlc3Npb24oc2Vzc2lvbklkLCAnY29tcGxldGVkJyk7XG4gICAgfVxuICAgIFxuICAgIHByb2Nlc3NGaWxlcygpO1xuICB9LCBbZmlsZXMsIHByZXNldElkXSk7XG5cbiAgY29uc3QgaGFuZGxlRmlsZUNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkRmlsZXMgPSBBcnJheS5mcm9tKGUudGFyZ2V0LmZpbGVzIHx8IFtdKTtcbiAgICBzZXRGaWxlcyhzZWxlY3RlZEZpbGVzKTtcbiAgICBzZXRDdXJyZW50RmlsZUluZGV4KDApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURyb3AgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgZHJvcHBlZEZpbGVzID0gQXJyYXkuZnJvbShlLmRhdGFUcmFuc2Zlci5maWxlcyk7XG4gICAgc2V0RmlsZXMoZHJvcHBlZEZpbGVzKTtcbiAgICBzZXRDdXJyZW50RmlsZUluZGV4KDApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURyYWdPdmVyID0gKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURyYWdMZWF2ZSA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTYW5pdGl6ZSA9IGFzeW5jIChmaWxlSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IGZpbGVTdGF0ZSA9IGZpbGVTdGF0ZXNbZmlsZUluZGV4XTtcbiAgICBpZiAoIWZpbGVTdGF0ZSkgcmV0dXJuO1xuXG4gICAgLy8gVXBkYXRlIHByb2Nlc3Npbmcgc3RhdGVcbiAgICBzZXRGaWxlU3RhdGVzKHByZXYgPT4gcHJldi5tYXAoKHN0YXRlLCBpKSA9PiBcbiAgICAgIGkgPT09IGZpbGVJbmRleCA/IHsgLi4uc3RhdGUsIHByb2Nlc3Npbmc6IHRydWUgfSA6IHN0YXRlXG4gICAgKSk7XG5cbiAgICBjb25zdCByZWRhY3Rpb25TdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHJlY29yZElkID0gZmlsZVByb2Nlc3NpbmdSZWNvcmRzLmdldChmaWxlSW5kZXgpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFJlLWFuYWx5emUgdGhlIGZpbGUgdG8gZW5zdXJlIGxhc3RSZXN1bHQgaXMgc2V0IGNvcnJlY3RseSAgXG4gICAgICBhd2FpdCBhbmFseXplRG9jdW1lbnQoZmlsZVN0YXRlLmZpbGUsIHsgcHJlc2V0SWQgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlZGFjdGlvbkFjdGlvbnM6IFJlZGFjdGlvbkFjdGlvbltdID0gZmlsZVN0YXRlLmRldGVjdGlvbnNcbiAgICAgICAgLmZpbHRlcihkZXQgPT4gZmlsZVN0YXRlLnNlbGVjdGVkW2RldC5pZF0pXG4gICAgICAgIC5tYXAoZGV0ID0+ICh7XG4gICAgICAgICAgZGV0ZWN0aW9uSWQ6IGRldC5pZCxcbiAgICAgICAgICBzdHlsZTogZmlsZVN0YXRlLmFjdGlvbnNbZGV0LmlkXT8uc3R5bGUgfHwgJ0JPWCcsXG4gICAgICAgICAgbGFiZWxUZXh0OiBmaWxlU3RhdGUuYWN0aW9uc1tkZXQuaWRdPy5sYWJlbFRleHRcbiAgICAgICAgfSkpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhcHBseVJlZGFjdGlvbnMoZmlsZVN0YXRlLmZpbGUsIHJlZGFjdGlvbkFjdGlvbnMsIHtcbiAgICAgICAgb3V0cHV0OiAnaW1hZ2UnXG4gICAgICB9LCBmaWxlU3RhdGUuZGV0ZWN0aW9ucyk7XG5cbiAgICAgIC8vIENvbnZlcnQgZGF0YSBVUkkgdG8gYmxvYiBmb3IgZG93bmxvYWRcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVzdWx0LmZpbGVVcmkpO1xuICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICBjb25zdCByZWRhY3Rpb25UaW1lID0gRGF0ZS5ub3coKSAtIHJlZGFjdGlvblN0YXJ0VGltZTtcblxuICAgICAgLy8gUmVjb3JkIHJlZGFjdGlvbiByZXN1bHRzXG4gICAgICBpZiAocmVjb3JkSWQpIHtcbiAgICAgICAgcmVjb3JkUmVkYWN0aW9uUmVzdWx0cyhyZWNvcmRJZCwge1xuICAgICAgICAgIGFwcGxpZWRSZWRhY3Rpb25zOiByZWRhY3Rpb25BY3Rpb25zLFxuICAgICAgICAgIHJlZGFjdGlvblRpbWUsXG4gICAgICAgICAgb3V0cHV0U2l6ZTogYmxvYi5zaXplXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgZmlsZSBzdGF0ZSB3aXRoIHJlc3VsdFxuICAgICAgc2V0RmlsZVN0YXRlcyhwcmV2ID0+IHByZXYubWFwKChzdGF0ZSwgaSkgPT4gXG4gICAgICAgIGkgPT09IGZpbGVJbmRleCA/IHsgLi4uc3RhdGUsIG91dHB1dFVyaTogdXJsLCBwcmV2aWV3VXJpOiByZXN1bHQuZmlsZVVyaSwgcHJvY2Vzc2luZzogZmFsc2UgfSA6IHN0YXRlXG4gICAgICApKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTYW5pdGl6YXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gUmVjb3JkIHJlZGFjdGlvbiBlcnJvclxuICAgICAgaWYgKHJlY29yZElkKSB7XG4gICAgICAgIHJlY29yZFJlZGFjdGlvblJlc3VsdHMocmVjb3JkSWQsIHtcbiAgICAgICAgICBhcHBsaWVkUmVkYWN0aW9uczogW10sXG4gICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaG93IGVycm9yIHRvIHVzZXJcbiAgICAgIGFsZXJ0KGBTYW5pdGl6YXRpb24gZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgc2V0RmlsZVN0YXRlcyhwcmV2ID0+IHByZXYubWFwKChzdGF0ZSwgaSkgPT4gXG4gICAgICAgIGkgPT09IGZpbGVJbmRleCA/IHsgLi4uc3RhdGUsIHByb2Nlc3Npbmc6IGZhbHNlIH0gOiBzdGF0ZVxuICAgICAgKSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURvd25sb2FkID0gKGZpbGVJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgZmlsZVN0YXRlID0gZmlsZVN0YXRlc1tmaWxlSW5kZXhdO1xuICAgIGlmICghZmlsZVN0YXRlPy5vdXRwdXRVcmkpIHJldHVybjtcblxuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgbGluay5ocmVmID0gZmlsZVN0YXRlLm91dHB1dFVyaTtcbiAgICBsaW5rLmRvd25sb2FkID0gYHNhbml0aXplZF8ke2ZpbGVTdGF0ZS5maWxlLm5hbWV9YDtcbiAgICBsaW5rLmNsaWNrKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQnVsa1Nhbml0aXplID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGZpbGVzVG9Qcm9jZXNzID0gZmlsZVN0YXRlc1xuICAgICAgLm1hcCgoc3RhdGUsIGluZGV4KSA9PiAoeyBzdGF0ZSwgaW5kZXggfSkpXG4gICAgICAuZmlsdGVyKCh7IHN0YXRlIH0pID0+ICFzdGF0ZS5vdXRwdXRVcmkgJiYgIXN0YXRlLmVycm9yKTtcblxuICAgIGlmIChmaWxlc1RvUHJvY2Vzcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIC8vIFNldCBhbGwgZWxpZ2libGUgZmlsZXMgdG8gcHJvY2Vzc2luZyBzdGF0ZVxuICAgIHNldEZpbGVTdGF0ZXMocHJldiA9PiBwcmV2Lm1hcCgoc3RhdGUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBzaG91bGRQcm9jZXNzID0gZmlsZXNUb1Byb2Nlc3Muc29tZSgoeyBpbmRleDogcHJvY2Vzc0luZGV4IH0pID0+IHByb2Nlc3NJbmRleCA9PT0gaW5kZXgpO1xuICAgICAgcmV0dXJuIHNob3VsZFByb2Nlc3MgPyB7IC4uLnN0YXRlLCBwcm9jZXNzaW5nOiB0cnVlIH0gOiBzdGF0ZTtcbiAgICB9KSk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gUHJvY2VzcyBmaWxlcyB3aXRoIGxpbWl0ZWQgY29uY3VycmVuY3lcbiAgICAgIGNvbnN0IG1heENvbmN1cnJlbmN5ID0gMztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsZXNUb1Byb2Nlc3MubGVuZ3RoOyBpICs9IG1heENvbmN1cnJlbmN5KSB7XG4gICAgICAgIGNvbnN0IGJhdGNoID0gZmlsZXNUb1Byb2Nlc3Muc2xpY2UoaSwgaSArIG1heENvbmN1cnJlbmN5KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gYmF0Y2gubWFwKGFzeW5jICh7IHN0YXRlLCBpbmRleDogZmlsZUluZGV4IH0pID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gUmUtYW5hbHl6ZSB0aGUgZmlsZSB0byBlbnN1cmUgbGFzdFJlc3VsdCBpcyBzZXQgY29ycmVjdGx5ICBcbiAgICAgICAgICAgIGF3YWl0IGFuYWx5emVEb2N1bWVudChzdGF0ZS5maWxlLCB7IHByZXNldElkIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZWRhY3Rpb25BY3Rpb25zOiBSZWRhY3Rpb25BY3Rpb25bXSA9IHN0YXRlLmRldGVjdGlvbnNcbiAgICAgICAgICAgICAgLmZpbHRlcihkZXQgPT4gc3RhdGUuc2VsZWN0ZWRbZGV0LmlkXSlcbiAgICAgICAgICAgICAgLm1hcChkZXQgPT4gKHtcbiAgICAgICAgICAgICAgICBkZXRlY3Rpb25JZDogZGV0LmlkLFxuICAgICAgICAgICAgICAgIHN0eWxlOiBzdGF0ZS5hY3Rpb25zW2RldC5pZF0/LnN0eWxlIHx8ICdCT1gnLFxuICAgICAgICAgICAgICAgIGxhYmVsVGV4dDogc3RhdGUuYWN0aW9uc1tkZXQuaWRdPy5sYWJlbFRleHRcbiAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhcHBseVJlZGFjdGlvbnMoc3RhdGUuZmlsZSwgcmVkYWN0aW9uQWN0aW9ucywge1xuICAgICAgICAgICAgICBvdXRwdXQ6ICdpbWFnZSdcbiAgICAgICAgICAgIH0sIHN0YXRlLmRldGVjdGlvbnMpO1xuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGRhdGEgVVJJIHRvIGJsb2IgZm9yIGRvd25sb2FkXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHJlc3VsdC5maWxlVXJpKTtcbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgZmlsZSBzdGF0ZSB3aXRoIHJlc3VsdFxuICAgICAgICAgICAgc2V0RmlsZVN0YXRlcyhwcmV2ID0+IHByZXYubWFwKChzLCBpKSA9PiBcbiAgICAgICAgICAgICAgaSA9PT0gZmlsZUluZGV4ID8geyAuLi5zLCBvdXRwdXRVcmk6IHVybCwgcHJldmlld1VyaTogcmVzdWx0LmZpbGVVcmksIHByb2Nlc3Npbmc6IGZhbHNlIH0gOiBzXG4gICAgICAgICAgICApKTtcblxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTYW5pdGl6YXRpb24gZmFpbGVkIGZvciAke3N0YXRlLmZpbGUubmFtZX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgc2V0RmlsZVN0YXRlcyhwcmV2ID0+IHByZXYubWFwKChzLCBpKSA9PiBcbiAgICAgICAgICAgICAgaSA9PT0gZmlsZUluZGV4ID8geyAuLi5zLCBwcm9jZXNzaW5nOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH0gOiBzXG4gICAgICAgICAgICApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQnVsayBzYW5pdGl6YXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQnVsa0Rvd25sb2FkID0gKCkgPT4ge1xuICAgIGNvbnN0IHByb2Nlc3NlZEZpbGVzID0gZmlsZVN0YXRlcy5maWx0ZXIoc3RhdGUgPT4gc3RhdGUub3V0cHV0VXJpKTtcbiAgICBcbiAgICBpZiAocHJvY2Vzc2VkRmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAvLyBEb3dubG9hZCBlYWNoIGZpbGUgaW5kaXZpZHVhbGx5XG4gICAgcHJvY2Vzc2VkRmlsZXMuZm9yRWFjaCgoc3RhdGUsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoc3RhdGUub3V0cHV0VXJpKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgbGluay5ocmVmID0gc3RhdGUub3V0cHV0VXJpITtcbiAgICAgICAgICBsaW5rLmRvd25sb2FkID0gYHNhbml0aXplZF8ke3N0YXRlLmZpbGUubmFtZX1gO1xuICAgICAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgICAgfSwgaW5kZXggKiAxMDApOyAvLyBTdGFnZ2VyIGRvd25sb2FkcyBieSAxMDBtc1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGN1cnJlbnRGaWxlU3RhdGUgPSBmaWxlU3RhdGVzW2N1cnJlbnRGaWxlSW5kZXhdO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhcHAtY29udGFpbmVyXCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJoZWFkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkZXItY29udGVudFwiPlxuICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3NOYW1lPVwibG9nb1wiPlxuICAgICAgICAgICAgQ2xlYW5TaGFyZSBQcm9cbiAgICAgICAgICA8L2E+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1zcGFjZS1tZCknIH19PlxuICAgICAgICAgICAge3ByZXNldHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiAndmFyKC0tc3BhY2UteHMpJyB9fT5cbiAgICAgICAgICAgICAgICA8c2VsZWN0IFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3ByZXNldElkfSBcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJlc2V0SWQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1zZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWluV2lkdGg6ICcxODBweCcgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7cHJlc2V0cy5tYXAocCA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtwLmlkfSB2YWx1ZT17cC5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAge3AubmFtZX0ge3AuZG9tYWluICYmIHAuZG9tYWluICE9PSAnR2VuZXJhbCcgPyBgKCR7cC5kb21haW59KWAgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcmVzZXQgPSBwcmVzZXRzLmZpbmQocCA9PiBwLmlkID09PSBwcmVzZXRJZCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFByZXNldD8uZGVzY3JpcHRpb24gPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUteHMpJywgXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknLCBcbiAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogJzIwMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiAnMS4yJ1xuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFByZXNldC5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFByb1VubG9ja2VkKCFwcm9VbmxvY2tlZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YGJ0biAke3Byb1VubG9ja2VkID8gJ2J0bi1zZWNvbmRhcnknIDogJ2J0bi1vdXRsaW5lJ30gYnRuLXNtYH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3Byb1VubG9ja2VkID8gJ+KckyBQcm8gVW5sb2NrZWQnIDogJ/CflJMgVW5sb2NrIFBybyd9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIHtwcm9VbmxvY2tlZCAmJiAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1ByZXNldEVkaXRvcih0cnVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tc21cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIE1hbmFnZSBQcmVzZXRzXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0hpc3RvcnlEYXNoYm9hcmQodHJ1ZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXNlY29uZGFyeSBidG4tc21cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIPCfk4ogSGlzdG9yeVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dLZXlib2FyZEhlbHAodHJ1ZSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tb3V0bGluZSBidG4tc21cIlxuICAgICAgICAgICAgICB0aXRsZT1cIktleWJvYXJkIFNob3J0Y3V0cyAoUHJlc3MgPyBmb3IgaGVscClcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDijKjvuI9cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICB7LyogTWFpbiBDb250ZW50ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYWluLWNvbnRlbnRcIj5cbiAgICAgICAgey8qIEZpbGUgVXBsb2FkIFNlY3Rpb24gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLXhsKScgfX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWhlYWRlclwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5VcGxvYWQgRmlsZXM8L2gyPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC1zdWJ0aXRsZVwiPlNlbGVjdCBpbWFnZXMgb3IgUERGIGRvY3VtZW50cyB0byBzYW5pdGl6ZTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmlsZS11cGxvYWQtem9uZVwiXG4gICAgICAgICAgICAgIG9uRHJvcD17aGFuZGxlRHJvcH1cbiAgICAgICAgICAgICAgb25EcmFnT3Zlcj17aGFuZGxlRHJhZ092ZXJ9XG4gICAgICAgICAgICAgIG9uRHJhZ0xlYXZlPXtoYW5kbGVEcmFnTGVhdmV9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlLWlucHV0Jyk/LmNsaWNrKCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsZS11cGxvYWQtaWNvblwiPvCfk4Q8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLXVwbG9hZC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgRHJvcCBmaWxlcyBoZXJlIG9yIGNsaWNrIHRvIGJyb3dzZVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLXVwbG9hZC1zdWJ0ZXh0XCI+XG4gICAgICAgICAgICAgICAgU3VwcG9ydHMgaW1hZ2VzIChKUEcsIFBORywgV2ViUCwgSEVJQywgVElGRiksIFBERnMsIGFuZCBkb2N1bWVudHMgKERPQ1gsIFhMU1gpIHVwIHRvIDEwTUIgZWFjaFxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgaWQ9XCJmaWxlLWlucHV0XCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKixhcHBsaWNhdGlvbi9wZGYsLndlYnAsLmhlaWMsLnRpZmYsLmRvY3gsLnhsc3hcIlxuICAgICAgICAgICAgICAgIG11bHRpcGxlXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctdGV4dFwiIHN0eWxlPXt7IG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLW1kKScgfX0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nLXNwaW5uZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICBQcm9jZXNzaW5nIGZpbGVzLi4uXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEZpbGUgUHJvY2Vzc2luZyBSZXN1bHRzICovfVxuICAgICAgICB7ZmlsZVN0YXRlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tc3BhY2UteGwpJyB9fT5cbiAgICAgICAgICAgIHsvKiBGaWxlIExpc3QgU2lkZWJhciAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lkZWJhclwiIHN0eWxlPXt7IG1pbldpZHRoOiAnMjUwcHgnIH19PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwic2lkZWJhci10aXRsZVwiPkZpbGVzICh7ZmlsZVN0YXRlcy5sZW5ndGh9KTwvaDM+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7LyogQnVsayBQcm9jZXNzaW5nIENvbnRyb2xzICovfVxuICAgICAgICAgICAgICB7ZmlsZVN0YXRlcy5sZW5ndGggPiAxICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJ3ZhcigtLXNwYWNlLW1kKScsIFxuICAgICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UtbWQpJywgXG4gICAgICAgICAgICAgICAgICBib3JkZXI6ICcycHggc29saWQgdmFyKC0tY29sb3ItcHJpbWFyeSknLCBcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJ3ZhcigtLXJhZGl1cy1tZCknLCBcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS1iZy1zZWNvbmRhcnkpJyBcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT17eyBtYXJnaW46ICcwIDAgdmFyKC0tc3BhY2Utc20pIDAnLCBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknLCBmb250V2VpZ2h0OiAnNjAwJyB9fT5cbiAgICAgICAgICAgICAgICAgICAg8J+agCBCdWxrIFByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLXhzKScgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVCdWxrU2FuaXRpemV9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2ZpbGVTdGF0ZXMuc29tZShzID0+IHMucHJvY2Vzc2luZykgfHwgZmlsZVN0YXRlcy5ldmVyeShzID0+IHMub3V0cHV0VXJpKX1cbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7ZmlsZVN0YXRlcy5zb21lKHMgPT4gcy5wcm9jZXNzaW5nKSBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ1Byb2Nlc3NpbmcuLi4nIFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBmaWxlU3RhdGVzLmV2ZXJ5KHMgPT4gcy5vdXRwdXRVcmkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdBbGwgQ29tcGxldGUnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGBTYW5pdGl6ZSBBbGwgKCR7ZmlsZVN0YXRlcy5maWx0ZXIocyA9PiAhcy5vdXRwdXRVcmkgJiYgIXMuZXJyb3IpLmxlbmd0aH0pYFxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIHtmaWxlU3RhdGVzLnNvbWUocyA9PiBzLm91dHB1dFVyaSkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUJ1bGtEb3dubG9hZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAg8J+TpiBEb3dubG9hZCBBbGwgKHtmaWxlU3RhdGVzLmZpbHRlcihzID0+IHMub3V0cHV0VXJpKS5sZW5ndGh9KVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLXhzKScsIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXhzKScsIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgQ29uY3VycmVudCBwcm9jZXNzaW5nIHdpdGggcHJvZ3Jlc3MgdHJhY2tpbmdcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLXNtKScgfX0+XG4gICAgICAgICAgICAgICAge2ZpbGVTdGF0ZXMubWFwKChzdGF0ZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudEZpbGVJbmRleChpbmRleCl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJ3ZhcigtLXNwYWNlLW1kKScsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMnB4IHNvbGlkICR7aW5kZXggPT09IGN1cnJlbnRGaWxlSW5kZXggPyAndmFyKC0tY29sb3ItcHJpbWFyeSknIDogJ3ZhcigtLWJvcmRlci1saWdodCknfWAsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAndmFyKC0tcmFkaXVzLW1kKScsXG4gICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogaW5kZXggPT09IGN1cnJlbnRGaWxlSW5kZXggPyAndmFyKC0tYmctc2Vjb25kYXJ5KScgOiAndmFyKC0tYmctcHJpbWFyeSknLFxuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdhbGwgdmFyKC0tdHJhbnNpdGlvbi1mYXN0KSdcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiAnNjAwJywgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtc20pJywgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UteHMpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7c3RhdGUuZmlsZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS14cyknLCBjb2xvcjogc3RhdGUuZXJyb3IgPyAndmFyKC0tY29sb3ItZXJyb3IpJyA6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknIH19PlxuICAgICAgICAgICAgICAgICAgICAgIHtzdGF0ZS5lcnJvciA/IGBFcnJvcjogJHtzdGF0ZS5lcnJvcn1gIDogYCR7c3RhdGUuZGV0ZWN0aW9ucy5sZW5ndGh9IGRldGVjdGlvbnMgZm91bmRgfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS1zbSknLCBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLXNwYWNlLXhzKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2FuaXRpemUoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N0YXRlLnByb2Nlc3NpbmcgfHwgISFzdGF0ZS5lcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZsZXg6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RhdGUucHJvY2Vzc2luZyA/ICdQcm9jZXNzaW5nLi4uJyA6ICdTYW5pdGl6ZSd9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAge3N0YXRlLm91dHB1dFVyaSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEb3dubG9hZChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIERvd25sb2FkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogTWFpbiBDb250ZW50IEFyZWEgKi99XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEgfX0+XG4gICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj57Y3VycmVudEZpbGVTdGF0ZS5maWxlLm5hbWV9PC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC1zdWJ0aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlLmVycm9yID8gJ1Byb2Nlc3NpbmcgZmFpbGVkJyA6IGBGb3VuZCAke2N1cnJlbnRGaWxlU3RhdGUuZGV0ZWN0aW9ucy5sZW5ndGh9IHNlbnNpdGl2ZSBpdGVtc2B9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRGaWxlU3RhdGUuZXJyb3IgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1lcnJvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5Qcm9jZXNzaW5nIEVycm9yPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogJzAnLCBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZhaWxlZCB0byBhbmFseXplIHRoaXMgZmlsZToge2N1cnJlbnRGaWxlU3RhdGUuZXJyb3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogY3VycmVudEZpbGVTdGF0ZS5kZXRlY3Rpb25zLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1tZCknLCBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1sZyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBEZXRlY3RlZCBTZW5zaXRpdmUgSW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLXNtKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlLmRldGVjdGlvbnMubWFwKGRldGVjdGlvbiA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtkZXRlY3Rpb24uaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbWQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJvcmRlci1saWdodCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICd2YXIoLS1yYWRpdXMtbWQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLWJnLXNlY29uZGFyeSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtjdXJyZW50RmlsZVN0YXRlLnNlbGVjdGVkW2RldGVjdGlvbi5pZF0gfHwgZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZXMgPSBmaWxlU3RhdGVzLm1hcCgoc3RhdGUsIGkpID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID09PSBjdXJyZW50RmlsZUluZGV4ID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZS5zZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkZXRlY3Rpb24uaWRdOiBlLnRhcmdldC5jaGVja2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVGaWxlU3RhdGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b2dnbGUtZGV0ZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZS50YXJnZXQuY2hlY2tlZCA/ICdTZWxlY3RlZCcgOiAnRGVzZWxlY3RlZCd9ICR7ZGV0ZWN0aW9uLmtpbmR9IGRldGVjdGlvbmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICc2MDAnLCBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2RldGVjdGlvbi5raW5kfToge2RldGVjdGlvbi5wcmV2aWV3IHx8ICdOL0EnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUteHMpJywgY29sb3I6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlkZW5jZToge01hdGgucm91bmQoZGV0ZWN0aW9uLmNvbmZpZGVuY2UgKiAxMDApfSVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1cnJlbnRGaWxlU3RhdGUuYWN0aW9uc1tkZXRlY3Rpb24uaWRdPy5zdHlsZSB8fCAnQk9YJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGVzID0gZmlsZVN0YXRlcy5tYXAoKHN0YXRlLCBpKSA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPT09IGN1cnJlbnRGaWxlSW5kZXggPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUuYWN0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGV0ZWN0aW9uLmlkXToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUuYWN0aW9uc1tkZXRlY3Rpb24uaWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGUudGFyZ2V0LnZhbHVlIGFzIFJlZGFjdGlvblN0eWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZpbGVTdGF0ZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2hhbmdlLXJlZGFjdGlvbi1zdHlsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgQ2hhbmdlZCAke2RldGVjdGlvbi5raW5kfSByZWRhY3Rpb24gc3R5bGUgdG8gJHtlLnRhcmdldC52YWx1ZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1zZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtaW5XaWR0aDogJzEyMHB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQk9YXCI+QmxhY2sgQm94PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJCTFVSXCI+Qmx1cjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiUElYRUxBVEVcIj5QaXhlbGF0ZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTEFCRUxcIj5MYWJlbDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1mb290ZXJcIiBzdHlsZT17eyBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS14bCknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2FuaXRpemUoY3VycmVudEZpbGVJbmRleCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2N1cnJlbnRGaWxlU3RhdGUucHJvY2Vzc2luZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlLnByb2Nlc3NpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctc3Bpbm5lclwiIHN0eWxlPXt7IHdpZHRoOiAnMXJlbScsIGhlaWdodDogJzFyZW0nIH19PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzaW5nLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD7wn5SSIFNhbml0aXplIERvY3VtZW50PC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlLm91dHB1dFVyaSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRG93bmxvYWQoY3VycmVudEZpbGVJbmRleCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXNlY29uZGFyeSBidG4tbGdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk6UgRG93bmxvYWQgQ2xlYW4gRmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBQcmV2aWV3IG9mIHNhbml0aXplZCBmaWxlICovfVxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRGaWxlU3RhdGUucHJldmlld1VyaSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAndmFyKC0tc3BhY2UteGwpJywgcGFkZGluZzogJ3ZhcigtLXNwYWNlLWxnKScsIGJhY2tncm91bmQ6ICd2YXIoLS1iZy1zZWNvbmRhcnkpJywgYm9yZGVyUmFkaXVzOiAndmFyKC0tcmFkaXVzLW1kKScsIGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1ib3JkZXItbGlnaHQpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UtbWQpJywgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtbGcpJywgY29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5SSIFNhbml0aXplZCBQcmV2aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgcGFkZGluZzogJ3ZhcigtLXNwYWNlLW1kKScsIGJhY2tncm91bmQ6ICd2YXIoLS1iZy1wcmltYXJ5KScsIGJvcmRlclJhZGl1czogJ3ZhcigtLXJhZGl1cy1tZCknLCBib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYm9yZGVyLWxpZ2h0KScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudEZpbGVTdGF0ZS5maWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2N1cnJlbnRGaWxlU3RhdGUucHJldmlld1VyaX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJTYW5pdGl6ZWQgcHJldmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6ICc0MDBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICd2YXIoLS1yYWRpdXMtc20pJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJ3ZhcigtLXNoYWRvdy1tZCknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJ3ZhcigtLXNwYWNlLXhsKScsIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLTN4bCknLCBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1tZCknIH19PvCfk4Q8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5QREYgc2FuaXRpemVkIHN1Y2Nlc3NmdWxseTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknIH19PkNsaWNrIGRvd25sb2FkIHRvIHNhdmUgdGhlIGNsZWFuIGZpbGU8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5ObyBzZW5zaXRpdmUgaW5mb3JtYXRpb24gZGV0ZWN0ZWQhPC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogJzAnLCBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgZG9jdW1lbnQgYXBwZWFycyB0byBiZSBjbGVhbiBhbmQgc2FmZSB0byBzaGFyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBFbmhhbmNlZCBQcmVzZXQgTWFuYWdlbWVudCBNb2RhbCAqL31cbiAgICAgICAgPFByZXNldE1hbmFnZXJcbiAgICAgICAgICBpc09wZW49e3Nob3dQcmVzZXRFZGl0b3IgJiYgcHJvVW5sb2NrZWR9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd1ByZXNldEVkaXRvcihmYWxzZSl9XG4gICAgICAgICAgY3VycmVudFByZXNldElkPXtwcmVzZXRJZH1cbiAgICAgICAgICBvblByZXNldFNlbGVjdD17KGlkKSA9PiB7XG4gICAgICAgICAgICBzZXRQcmVzZXRJZChpZCk7XG4gICAgICAgICAgICBsb2FkUHJlc2V0cygpOyAvLyBSZWZyZXNoIHByZXNldHMgbGlzdCBpbiBjYXNlIG5ldyBvbmVzIHdlcmUgY3JlYXRlZFxuICAgICAgICAgICAgc2V0U2hvd1ByZXNldEVkaXRvcihmYWxzZSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cblxuICAgICAgICB7LyogUHJvY2Vzc2luZyBIaXN0b3J5IERhc2hib2FyZCAqL31cbiAgICAgICAgPEhpc3RvcnlEYXNoYm9hcmRcbiAgICAgICAgICBpc09wZW49e3Nob3dIaXN0b3J5RGFzaGJvYXJkICYmIHByb1VubG9ja2VkfVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dIaXN0b3J5RGFzaGJvYXJkKGZhbHNlKX1cbiAgICAgICAgLz5cblxuICAgICAgICB7LyogVW5kby9SZWRvIE1hbmFnZXIgKi99XG4gICAgICAgIDxVbmRvUmVkb01hbmFnZXJcbiAgICAgICAgICBpc09wZW49e3Nob3dVbmRvUmVkb01hbmFnZXJ9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd1VuZG9SZWRvTWFuYWdlcihmYWxzZSl9XG4gICAgICAgICAgb25VbmRvPXsoKSA9PiB1bmRvUmVkb1N5c3RlbS51bmRvKCl9XG4gICAgICAgICAgb25SZWRvPXsoKSA9PiB1bmRvUmVkb1N5c3RlbS5yZWRvKCl9XG4gICAgICAgICAgY2FuVW5kbz17dW5kb1JlZG9TeXN0ZW0uY2FuVW5kb31cbiAgICAgICAgICBjYW5SZWRvPXt1bmRvUmVkb1N5c3RlbS5jYW5SZWRvfVxuICAgICAgICAgIGhpc3RvcnlQcmV2aWV3PXt1bmRvUmVkb1N5c3RlbS5nZXRIaXN0b3J5UHJldmlldygyMCl9XG4gICAgICAgICAgb25KdW1wVG89eyhpbmRleCkgPT4gdW5kb1JlZG9TeXN0ZW0uanVtcFRvSW5kZXgoaW5kZXgpfVxuICAgICAgICAvPlxuXG4gICAgICAgIHsvKiBGbG9hdGluZyBVbmRvL1JlZG8gQ29udHJvbHMgKi99XG4gICAgICAgIHtmaWxlU3RhdGVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgIDxVbmRvUmVkb0NvbnRyb2xzXG4gICAgICAgICAgICBvblVuZG89eygpID0+IHVuZG9SZWRvU3lzdGVtLnVuZG8oKX1cbiAgICAgICAgICAgIG9uUmVkbz17KCkgPT4gdW5kb1JlZG9TeXN0ZW0ucmVkbygpfVxuICAgICAgICAgICAgY2FuVW5kbz17dW5kb1JlZG9TeXN0ZW0uY2FuVW5kb31cbiAgICAgICAgICAgIGNhblJlZG89e3VuZG9SZWRvU3lzdGVtLmNhblJlZG99XG4gICAgICAgICAgICBvbk9wZW5IaXN0b3J5PXsoKSA9PiBzZXRTaG93VW5kb1JlZG9NYW5hZ2VyKHRydWUpfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIEtleWJvYXJkIFNob3J0Y3V0cyBIZWxwICovfVxuICAgICAgICA8S2V5Ym9hcmRTaG9ydGN1dHNIZWxwXG4gICAgICAgICAgaXNPcGVuPXtzaG93S2V5Ym9hcmRIZWxwfVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dLZXlib2FyZEhlbHAoZmFsc2UpfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJhbmFseXplRG9jdW1lbnQiLCJhcHBseVJlZGFjdGlvbnMiLCJzdGFydFNlc3Npb24iLCJlbmRTZXNzaW9uIiwic3RhcnRGaWxlUHJvY2Vzc2luZyIsInJlY29yZEFuYWx5c2lzUmVzdWx0cyIsInJlY29yZFJlZGFjdGlvblJlc3VsdHMiLCJQcmVzZXRNYW5hZ2VyIiwiSGlzdG9yeURhc2hib2FyZCIsIlVuZG9SZWRvTWFuYWdlciIsIlVuZG9SZWRvQ29udHJvbHMiLCJLZXlib2FyZFNob3J0Y3V0c0hlbHAiLCJ1c2VVbmRvUmVkbyIsImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJGcmFnbWVudCIsIl9GcmFnbWVudCIsIkNsZWFuU2hhcmVQcm8iLCJmaWxlcyIsInNldEZpbGVzIiwiZmlsZVN0YXRlcyIsInNldEZpbGVTdGF0ZXMiLCJjdXJyZW50RmlsZUluZGV4Iiwic2V0Q3VycmVudEZpbGVJbmRleCIsInByZXNldHMiLCJzZXRQcmVzZXRzIiwicHJlc2V0SWQiLCJzZXRQcmVzZXRJZCIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwicHJvVW5sb2NrZWQiLCJzZXRQcm9VbmxvY2tlZCIsInNob3dQcmVzZXRFZGl0b3IiLCJzZXRTaG93UHJlc2V0RWRpdG9yIiwic2hvd0hpc3RvcnlEYXNoYm9hcmQiLCJzZXRTaG93SGlzdG9yeURhc2hib2FyZCIsInNob3dVbmRvUmVkb01hbmFnZXIiLCJzZXRTaG93VW5kb1JlZG9NYW5hZ2VyIiwic2hvd0tleWJvYXJkSGVscCIsInNldFNob3dLZXlib2FyZEhlbHAiLCJjdXJyZW50U2Vzc2lvbklkIiwic2V0Q3VycmVudFNlc3Npb25JZCIsImZpbGVQcm9jZXNzaW5nUmVjb3JkcyIsInNldEZpbGVQcm9jZXNzaW5nUmVjb3JkcyIsIk1hcCIsInVuZG9SZWRvU3lzdGVtIiwibWF4SGlzdG9yeVNpemUiLCJ1cGRhdGVGaWxlU3RhdGVzIiwibmV3U3RhdGVzIiwiYWN0aW9uVHlwZSIsImRlc2NyaXB0aW9uIiwib2xkU3RhdGVzIiwiZXhlY3V0ZSIsImxvYWRQcmVzZXRzIiwidGhlbiIsImxpc3RQcmVzZXRzIiwicHMiLCJsZW5ndGgiLCJpZCIsImhhbmRsZUtleWRvd24iLCJlIiwidGFyZ2V0IiwiSFRNTElucHV0RWxlbWVudCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiLCJpc0N0cmwiLCJjdHJsS2V5IiwibWV0YUtleSIsImtleSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJ1bmRvIiwicmVkbyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGljayIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJvY2Vzc0ZpbGVzIiwiY3VycmVudFByZXNldCIsImZpbmQiLCJwIiwic2Vzc2lvbklkIiwidG90YWxGaWxlcyIsInByZXNldE5hbWUiLCJuYW1lIiwiYW5hbHl6ZU9wdGlvbnMiLCJwcm9jZXNzaW5nUmVjb3JkcyIsImkiLCJmaWxlIiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsInJlY29yZElkIiwiZmlsZU5hbWUiLCJmaWxlU2l6ZSIsInNpemUiLCJmaWxlVHlwZSIsInR5cGUiLCJzZXQiLCJyZXN1bHQiLCJhbmFseXNpc1RpbWUiLCJkZXRlY3Rpb25zIiwiZGV0ZWN0aW9uVGltZSIsInNlbGVjdGVkIiwiYWN0aW9ucyIsImZvckVhY2giLCJkZXQiLCJzdHlsZSIsInB1c2giLCJwYWdlcyIsInBhZ2VJbWFnZXMiLCJjdXJyZW50UGFnZSIsInByb2Nlc3NpbmciLCJlcnJvciIsImNvbnNvbGUiLCJFcnJvciIsIm1lc3NhZ2UiLCJoYW5kbGVGaWxlQ2hhbmdlIiwic2VsZWN0ZWRGaWxlcyIsIkFycmF5IiwiZnJvbSIsImhhbmRsZURyb3AiLCJzdG9wUHJvcGFnYXRpb24iLCJkcm9wcGVkRmlsZXMiLCJkYXRhVHJhbnNmZXIiLCJoYW5kbGVEcmFnT3ZlciIsImhhbmRsZURyYWdMZWF2ZSIsImhhbmRsZVNhbml0aXplIiwiZmlsZUluZGV4IiwiZmlsZVN0YXRlIiwicHJldiIsIm1hcCIsInN0YXRlIiwicmVkYWN0aW9uU3RhcnRUaW1lIiwiZ2V0IiwicmVkYWN0aW9uQWN0aW9ucyIsImZpbHRlciIsImRldGVjdGlvbklkIiwibGFiZWxUZXh0Iiwib3V0cHV0IiwicmVzcG9uc2UiLCJmZXRjaCIsImZpbGVVcmkiLCJibG9iIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmVkYWN0aW9uVGltZSIsImFwcGxpZWRSZWRhY3Rpb25zIiwib3V0cHV0U2l6ZSIsIm91dHB1dFVyaSIsInByZXZpZXdVcmkiLCJhbGVydCIsImhhbmRsZURvd25sb2FkIiwibGluayIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiZG93bmxvYWQiLCJoYW5kbGVCdWxrU2FuaXRpemUiLCJmaWxlc1RvUHJvY2VzcyIsImluZGV4Iiwic2hvdWxkUHJvY2VzcyIsInNvbWUiLCJwcm9jZXNzSW5kZXgiLCJtYXhDb25jdXJyZW5jeSIsImJhdGNoIiwic2xpY2UiLCJwcm9taXNlcyIsInMiLCJQcm9taXNlIiwiYWxsIiwiaGFuZGxlQnVsa0Rvd25sb2FkIiwicHJvY2Vzc2VkRmlsZXMiLCJzZXRUaW1lb3V0IiwiY3VycmVudEZpbGVTdGF0ZSIsImNsYXNzTmFtZSIsImNoaWxkcmVuIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJmbGV4RGlyZWN0aW9uIiwidmFsdWUiLCJvbkNoYW5nZSIsIm1pbldpZHRoIiwiZG9tYWluIiwiZm9udFNpemUiLCJjb2xvciIsIm1heFdpZHRoIiwibGluZUhlaWdodCIsIm9uQ2xpY2siLCJ0aXRsZSIsIm1hcmdpbkJvdHRvbSIsIm9uRHJvcCIsIm9uRHJhZ092ZXIiLCJvbkRyYWdMZWF2ZSIsImFjY2VwdCIsIm11bHRpcGxlIiwibWFyZ2luVG9wIiwicGFkZGluZyIsImJvcmRlciIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmQiLCJtYXJnaW4iLCJmb250V2VpZ2h0IiwiZGlzYWJsZWQiLCJldmVyeSIsIndpZHRoIiwiY3Vyc29yIiwidHJhbnNpdGlvbiIsImZsZXgiLCJkZXRlY3Rpb24iLCJqdXN0aWZ5Q29udGVudCIsImNoZWNrZWQiLCJraW5kIiwicHJldmlldyIsIk1hdGgiLCJyb3VuZCIsImNvbmZpZGVuY2UiLCJoZWlnaHQiLCJzdGFydHNXaXRoIiwic3JjIiwiYWx0IiwibWF4SGVpZ2h0IiwiYm94U2hhZG93IiwidGV4dEFsaWduIiwiaXNPcGVuIiwib25DbG9zZSIsImN1cnJlbnRQcmVzZXRJZCIsIm9uUHJlc2V0U2VsZWN0Iiwib25VbmRvIiwib25SZWRvIiwiY2FuVW5kbyIsImNhblJlZG8iLCJoaXN0b3J5UHJldmlldyIsImdldEhpc3RvcnlQcmV2aWV3Iiwib25KdW1wVG8iLCJqdW1wVG9JbmRleCIsIm9uT3Blbkhpc3RvcnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/index.tsx\n");

/***/ }),

/***/ "./src/components/HistoryDashboard.tsx":
/*!*********************************************!*\
  !*** ./src/components/HistoryDashboard.tsx ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HistoryDashboard)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @cleanshare/core-detect */ \"../core-detect/dist/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"react/jsx-runtime\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__]);\n_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nfunction HistoryDashboard({\n  isOpen,\n  onClose\n}) {\n  const [selectedTab, setSelectedTab] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('overview');\n  const [sessions, setSessions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [records, setRecords] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [stats, setStats] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [selectedSession, setSelectedSession] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [dateRange, setDateRange] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    start: '',\n    end: ''\n  });\n  const [exportFormat, setExportFormat] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('json');\n\n  // Load data when modal opens\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (isOpen) {\n      refreshData();\n    }\n  }, [isOpen]);\n  const refreshData = () => {\n    setSessions((0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.getSessions)());\n    setRecords((0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.getAllRecords)());\n    setStats((0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.getProcessingStats)());\n  };\n  const handleDateRangeChange = () => {\n    if (dateRange.start && dateRange.end) {\n      const filteredStats = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.getProcessingStats)({\n        start: dateRange.start,\n        end: dateRange.end\n      });\n      setStats(filteredStats);\n    } else {\n      setStats((0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.getProcessingStats)());\n    }\n  };\n  const handleExport = () => {\n    const exported = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.exportHistory)({\n      format: exportFormat,\n      dateRange: dateRange.start && dateRange.end ? dateRange : undefined,\n      includeFileDetails: true,\n      includeDetectionDetails: false\n    });\n    const blob = new Blob([exported], {\n      type: exportFormat === 'json' ? 'application/json' : 'text/csv'\n    });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `cleanshare-history.${exportFormat}`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n  const handleClearHistory = () => {\n    if (window.confirm('Are you sure you want to clear all processing history? This cannot be undone.')) {\n      (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.clearHistory)();\n      refreshData();\n    }\n  };\n  const formatDuration = ms => {\n    if (ms < 1000) return `${Math.round(ms)}ms`;\n    if (ms < 60000) return `${(ms / 1000).toFixed(1)}s`;\n    return `${(ms / 60000).toFixed(1)}m`;\n  };\n  const formatFileSize = bytes => {\n    if (bytes < 1024) return `${bytes}B`;\n    if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)}KB`;\n    return `${(bytes / (1024 * 1024)).toFixed(1)}MB`;\n  };\n  const formatDate = dateStr => {\n    return new Date(dateStr).toLocaleString();\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000,\n      padding: 'var(--space-md)'\n    },\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n      className: \"card\",\n      style: {\n        minWidth: '900px',\n        maxWidth: '95vw',\n        maxHeight: '90vh',\n        overflow: 'hidden',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", {\n          className: \"card-title\",\n          children: \"Processing History & Analytics\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n          className: \"card-subtitle\",\n          children: \"View processing statistics and audit trail\"\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        style: {\n          borderBottom: '1px solid var(--border-light)',\n          display: 'flex',\n          gap: '1px',\n          background: 'var(--bg-secondary)'\n        },\n        children: ['overview', 'sessions', 'analytics', 'export'].map(tab => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n          onClick: () => setSelectedTab(tab),\n          style: {\n            padding: 'var(--space-sm) var(--space-md)',\n            border: 'none',\n            background: selectedTab === tab ? 'var(--bg-primary)' : 'transparent',\n            color: selectedTab === tab ? 'var(--text-primary)' : 'var(--text-secondary)',\n            borderBottom: selectedTab === tab ? '2px solid var(--color-primary)' : '2px solid transparent',\n            cursor: 'pointer',\n            fontWeight: selectedTab === tab ? '600' : '400',\n            textTransform: 'capitalize'\n          },\n          children: tab\n        }, tab))\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"card-body\",\n        style: {\n          flex: 1,\n          overflow: 'auto'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 'var(--space-md)',\n            marginBottom: 'var(--space-lg)',\n            alignItems: 'center',\n            flexWrap: 'wrap'\n          },\n          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 'var(--space-sm)',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n              style: {\n                fontWeight: '600'\n              },\n              children: \"Date Range:\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n              type: \"date\",\n              value: dateRange.start,\n              onChange: e => setDateRange(prev => ({\n                ...prev,\n                start: e.target.value\n              })),\n              className: \"form-input\",\n              style: {\n                width: '150px'\n              }\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n              children: \"to\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n              type: \"date\",\n              value: dateRange.end,\n              onChange: e => setDateRange(prev => ({\n                ...prev,\n                end: e.target.value\n              })),\n              className: \"form-input\",\n              style: {\n                width: '150px'\n              }\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n              onClick: handleDateRangeChange,\n              className: \"btn btn-outline btn-sm\",\n              children: \"Apply Filter\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n              onClick: () => {\n                setDateRange({\n                  start: '',\n                  end: ''\n                });\n                setStats((0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.getProcessingStats)());\n              },\n              className: \"btn btn-outline btn-sm\",\n              children: \"Clear\"\n            })]\n          })\n        }), selectedTab === 'overview' && stats && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n              gap: 'var(--space-md)',\n              marginBottom: 'var(--space-xl)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              className: \"card\",\n              style: {\n                padding: 'var(--space-md)',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  fontSize: 'var(--font-size-2xl)',\n                  fontWeight: 'bold',\n                  color: 'var(--color-primary)'\n                },\n                children: stats.totalSessions\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  color: 'var(--text-secondary)'\n                },\n                children: \"Total Sessions\"\n              })]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              className: \"card\",\n              style: {\n                padding: 'var(--space-md)',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  fontSize: 'var(--font-size-2xl)',\n                  fontWeight: 'bold',\n                  color: 'var(--color-primary)'\n                },\n                children: stats.totalFiles\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  color: 'var(--text-secondary)'\n                },\n                children: \"Files Processed\"\n              })]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              className: \"card\",\n              style: {\n                padding: 'var(--space-md)',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  fontSize: 'var(--font-size-2xl)',\n                  fontWeight: 'bold',\n                  color: 'var(--color-primary)'\n                },\n                children: stats.totalDetections.toLocaleString()\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  color: 'var(--text-secondary)'\n                },\n                children: \"Detections Made\"\n              })]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              className: \"card\",\n              style: {\n                padding: 'var(--space-md)',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                style: {\n                  fontSize: 'var(--font-size-2xl)',\n                  fontWeight: 'bold',\n                  color: 'var(--color-success)'\n                },\n                children: [Math.round(stats.successRate * 100), \"%\"]\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  color: 'var(--text-secondary)'\n                },\n                children: \"Success Rate\"\n              })]\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            className: \"card\",\n            style: {\n              marginBottom: 'var(--space-lg)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n                className: \"card-title\",\n                children: \"Detection Types\"\n              })\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: 'var(--space-sm)'\n                },\n                children: Object.entries(stats.detectionsByType).sort(([, a], [, b]) => b - a).map(([type, count]) => {\n                  const percentage = count / stats.totalDetections * 100;\n                  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                    style: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 'var(--space-md)'\n                    },\n                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                      style: {\n                        minWidth: '100px',\n                        fontWeight: '600'\n                      },\n                      children: type\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                      style: {\n                        flex: 1,\n                        height: '20px',\n                        background: 'var(--bg-secondary)',\n                        borderRadius: '10px',\n                        overflow: 'hidden'\n                      },\n                      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                        style: {\n                          height: '100%',\n                          width: `${percentage}%`,\n                          background: 'var(--color-primary)',\n                          transition: 'width 0.3s ease'\n                        }\n                      })\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                      style: {\n                        minWidth: '60px',\n                        textAlign: 'right',\n                        fontSize: 'var(--font-size-sm)'\n                      },\n                      children: [count, \" (\", percentage.toFixed(1), \"%)\"]\n                    })]\n                  }, type);\n                })\n              })\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n                className: \"card-title\",\n                children: \"Recent Activity\"\n              })\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              className: \"card-body\",\n              children: [records.slice(0, 10).map(record => {\n                const session = sessions.find(s => s.id === record.sessionId);\n                return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                  style: {\n                    padding: 'var(--space-sm)',\n                    border: '1px solid var(--border-light)',\n                    borderRadius: 'var(--radius-sm)',\n                    marginBottom: 'var(--space-sm)',\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                      style: {\n                        fontWeight: '600'\n                      },\n                      children: record.fileName\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                      style: {\n                        fontSize: 'var(--font-size-sm)',\n                        color: 'var(--text-secondary)'\n                      },\n                      children: [record.totalDetections, \" detections \\u2022 \", formatDuration(record.processingTime), session?.presetName && ` • ${session.presetName}`]\n                    })]\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                    style: {\n                      padding: '2px 8px',\n                      borderRadius: '12px',\n                      fontSize: 'var(--font-size-xs)',\n                      fontWeight: '600',\n                      background: record.status === 'completed' ? 'var(--color-success)' : record.status === 'failed' ? 'var(--color-error)' : 'var(--color-warning)',\n                      color: 'white'\n                    },\n                    children: record.status\n                  })]\n                }, record.id);\n              }), records.length === 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  textAlign: 'center',\n                  color: 'var(--text-secondary)',\n                  padding: 'var(--space-xl)'\n                },\n                children: \"No processing history yet\"\n              })]\n            })]\n          })]\n        }), selectedTab === 'sessions' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 'var(--space-md)'\n            },\n            children: [sessions.map(session => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"card\",\n              style: {\n                cursor: 'pointer'\n              },\n              onClick: () => setSelectedSession(selectedSession === session.id ? null : session.id),\n              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                  style: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                      style: {\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: 'var(--space-sm)'\n                      },\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"span\", {\n                        style: {\n                          fontSize: 'var(--font-size-lg)',\n                          fontWeight: '600'\n                        },\n                        children: [\"Session \", formatDate(session.startTime)]\n                      }), session.presetName && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                        style: {\n                          padding: '2px 6px',\n                          background: 'var(--color-secondary)',\n                          color: 'white',\n                          borderRadius: '3px',\n                          fontSize: 'var(--font-size-xs)'\n                        },\n                        children: session.presetName\n                      })]\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                      style: {\n                        fontSize: 'var(--font-size-sm)',\n                        color: 'var(--text-secondary)',\n                        marginTop: 'var(--space-xs)'\n                      },\n                      children: [session.processedFiles, \"/\", session.totalFiles, \" files processed\", session.failedFiles > 0 && ` • ${session.failedFiles} failed`, session.endTime && ` • Duration: ${formatDuration(new Date(session.endTime).getTime() - new Date(session.startTime).getTime())}`]\n                    })]\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                    style: {\n                      padding: '4px 12px',\n                      borderRadius: '12px',\n                      fontSize: 'var(--font-size-sm)',\n                      fontWeight: '600',\n                      background: session.status === 'completed' ? 'var(--color-success)' : session.status === 'failed' ? 'var(--color-error)' : 'var(--color-warning)',\n                      color: 'white'\n                    },\n                    children: session.status\n                  })]\n                }), selectedSession === session.id && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                  style: {\n                    marginTop: 'var(--space-md)',\n                    borderTop: '1px solid var(--border-light)',\n                    paddingTop: 'var(--space-md)'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n                    style: {\n                      marginBottom: 'var(--space-sm)'\n                    },\n                    children: \"Session Files\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                    style: {\n                      display: 'flex',\n                      flexDirection: 'column',\n                      gap: 'var(--space-xs)'\n                    },\n                    children: records.filter(r => r.sessionId === session.id).map(record => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                      style: {\n                        padding: 'var(--space-xs) var(--space-sm)',\n                        background: 'var(--bg-secondary)',\n                        borderRadius: 'var(--radius-sm)',\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center'\n                      },\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                          style: {\n                            fontWeight: '600'\n                          },\n                          children: record.fileName\n                        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"span\", {\n                          style: {\n                            marginLeft: 'var(--space-sm)',\n                            color: 'var(--text-secondary)'\n                          },\n                          children: [\"(\", formatFileSize(record.fileSize), \")\"]\n                        })]\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                        style: {\n                          display: 'flex',\n                          gap: 'var(--space-md)',\n                          alignItems: 'center'\n                        },\n                        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"span\", {\n                          style: {\n                            fontSize: 'var(--font-size-sm)'\n                          },\n                          children: [record.totalDetections, \" detections\"]\n                        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                          style: {\n                            fontSize: 'var(--font-size-sm)'\n                          },\n                          children: formatDuration(record.processingTime)\n                        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                          style: {\n                            padding: '1px 6px',\n                            borderRadius: '8px',\n                            fontSize: 'var(--font-size-xs)',\n                            background: record.status === 'completed' ? 'var(--color-success)' : record.status === 'failed' ? 'var(--color-error)' : 'var(--color-warning)',\n                            color: 'white'\n                          },\n                          children: record.status\n                        })]\n                      })]\n                    }, record.id))\n                  })]\n                })]\n              })\n            }, session.id)), sessions.length === 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              style: {\n                textAlign: 'center',\n                color: 'var(--text-secondary)',\n                padding: 'var(--space-xl)'\n              },\n              children: \"No processing sessions yet\"\n            })]\n          })\n        }), selectedTab === 'analytics' && stats && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            className: \"card\",\n            style: {\n              marginBottom: 'var(--space-lg)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n                className: \"card-title\",\n                children: \"Processing Performance\"\n              })\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                style: {\n                  marginBottom: 'var(--space-md)'\n                },\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n                  children: \"Average Processing Time:\"\n                }), \" \", formatDuration(stats.averageProcessingTime)]\n              }), stats.processingTimesByDate.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n                  children: \"Daily Processing Times\"\n                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                  style: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 'var(--space-xs)'\n                  },\n                  children: stats.processingTimesByDate.slice(-10).map(({\n                    date,\n                    averageTime,\n                    fileCount\n                  }) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'space-between',\n                      alignItems: 'center'\n                    },\n                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                      children: new Date(date).toLocaleDateString()\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"span\", {\n                      children: [fileCount, \" files\"]\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                      children: formatDuration(averageTime)\n                    })]\n                  }, date))\n                })]\n              })]\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            className: \"card\",\n            style: {\n              marginBottom: 'var(--space-lg)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n                className: \"card-title\",\n                children: \"Detection Confidence Distribution\"\n              })\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: 'var(--space-sm)'\n                },\n                children: [{\n                  label: 'High Confidence (80%+)',\n                  count: stats.detectionsByConfidence.high,\n                  color: 'var(--color-success)'\n                }, {\n                  label: 'Medium Confidence (50-80%)',\n                  count: stats.detectionsByConfidence.medium,\n                  color: 'var(--color-warning)'\n                }, {\n                  label: 'Low Confidence (<50%)',\n                  count: stats.detectionsByConfidence.low,\n                  color: 'var(--color-error)'\n                }].map(({\n                  label,\n                  count,\n                  color\n                }) => {\n                  const percentage = stats.totalDetections > 0 ? count / stats.totalDetections * 100 : 0;\n                  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                    style: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 'var(--space-md)'\n                    },\n                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                      style: {\n                        minWidth: '180px'\n                      },\n                      children: label\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                      style: {\n                        flex: 1,\n                        height: '20px',\n                        background: 'var(--bg-secondary)',\n                        borderRadius: '10px',\n                        overflow: 'hidden'\n                      },\n                      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                        style: {\n                          height: '100%',\n                          width: `${percentage}%`,\n                          background: color,\n                          transition: 'width 0.3s ease'\n                        }\n                      })\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                      style: {\n                        minWidth: '80px',\n                        textAlign: 'right',\n                        fontSize: 'var(--font-size-sm)'\n                      },\n                      children: [count, \" (\", percentage.toFixed(1), \"%)\"]\n                    })]\n                  }, label);\n                })\n              })\n            })]\n          }), Object.keys(stats.presetUsage).length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n                className: \"card-title\",\n                children: \"Preset Usage\"\n              })\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: 'var(--space-sm)'\n                },\n                children: Object.entries(stats.presetUsage).sort(([, a], [, b]) => b - a).map(([presetName, usage]) => {\n                  const totalUsage = Object.values(stats.presetUsage).reduce((sum, count) => sum + count, 0);\n                  const percentage = usage / totalUsage * 100;\n                  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                    style: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 'var(--space-md)'\n                    },\n                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                      style: {\n                        minWidth: '150px',\n                        fontWeight: '600'\n                      },\n                      children: presetName\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                      style: {\n                        flex: 1,\n                        height: '20px',\n                        background: 'var(--bg-secondary)',\n                        borderRadius: '10px',\n                        overflow: 'hidden'\n                      },\n                      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                        style: {\n                          height: '100%',\n                          width: `${percentage}%`,\n                          background: 'var(--color-secondary)',\n                          transition: 'width 0.3s ease'\n                        }\n                      })\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                      style: {\n                        minWidth: '80px',\n                        textAlign: 'right',\n                        fontSize: 'var(--font-size-sm)'\n                      },\n                      children: [usage, \" (\", percentage.toFixed(1), \"%)\"]\n                    })]\n                  }, presetName);\n                })\n              })\n            })]\n          })]\n        }), selectedTab === 'export' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 'var(--space-lg)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n                style: {\n                  marginBottom: 'var(--space-md)'\n                },\n                children: \"Export Processing History\"\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: 'var(--space-md)',\n                  marginBottom: 'var(--space-md)',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"label\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 'var(--space-xs)'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n                    type: \"radio\",\n                    value: \"json\",\n                    checked: exportFormat === 'json',\n                    onChange: e => setExportFormat(e.target.value)\n                  }), \"JSON (Complete Data)\"]\n                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"label\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 'var(--space-xs)'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n                    type: \"radio\",\n                    value: \"csv\",\n                    checked: exportFormat === 'csv',\n                    onChange: e => setExportFormat(e.target.value)\n                  }), \"CSV (Tabular Data)\"]\n                })]\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"button\", {\n                onClick: handleExport,\n                className: \"btn btn-primary\",\n                children: [\"\\uD83D\\uDCCA Export \", exportFormat.toUpperCase()]\n              })]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n                style: {\n                  marginBottom: 'var(--space-md)'\n                },\n                children: \"Clear History\"\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n                style: {\n                  color: 'var(--text-secondary)',\n                  marginBottom: 'var(--space-md)'\n                },\n                children: \"This will permanently delete all processing history and cannot be undone.\"\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                onClick: handleClearHistory,\n                className: \"btn btn-outline\",\n                style: {\n                  color: 'var(--color-error)'\n                },\n                children: \"\\uD83D\\uDDD1\\uFE0F Clear All History\"\n              })]\n            }), stats && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                className: \"card-header\",\n                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n                  className: \"card-title\",\n                  children: \"Export Preview\"\n                })\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                className: \"card-body\",\n                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                  style: {\n                    fontSize: 'var(--font-size-sm)',\n                    color: 'var(--text-secondary)'\n                  },\n                  children: [\"Your export will include:\", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"ul\", {\n                    style: {\n                      marginTop: 'var(--space-xs)',\n                      paddingLeft: '20px'\n                    },\n                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"li\", {\n                      children: [stats.totalSessions, \" processing sessions\"]\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"li\", {\n                      children: [stats.totalFiles, \" file records\"]\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"li\", {\n                      children: [stats.totalDetections, \" detection entries\"]\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n                      children: \"Processing performance metrics\"\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n                      children: \"Detection confidence statistics\"\n                    })]\n                  })]\n                })\n              })]\n            })]\n          })\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        className: \"card-footer\",\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            style: {\n              fontSize: 'var(--font-size-sm)',\n              color: 'var(--text-secondary)'\n            },\n            children: [sessions.length, \" sessions \\u2022 \", records.length, \" files processed\", stats && ` • ${Math.round(stats.successRate * 100)}% success rate`]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n            onClick: onClose,\n            className: \"btn btn-ghost\",\n            children: \"Close\"\n          })]\n        })\n      })]\n    })\n  });\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNFO1FBQUMsQ0FDSCxDQUNOO01BQUEsQ0FDRSxDQUFDLGVBRU50RSxzREFBQTtRQUFLdUUsU0FBUyxFQUFDLGFBQWE7UUFBQUQsUUFBQSxlQUMxQnBFLHVEQUFBO1VBQUt3RCxLQUFLLEVBQUU7WUFBRU8sT0FBTyxFQUFFLE1BQU07WUFBRUUsY0FBYyxFQUFFLGVBQWU7WUFBRUQsVUFBVSxFQUFFO1VBQVMsQ0FBRTtVQUFBSSxRQUFBLGdCQUNyRnBFLHVEQUFBO1lBQUt3RCxLQUFLLEVBQUU7Y0FBRXdDLFFBQVEsRUFBRSxxQkFBcUI7Y0FBRWYsS0FBSyxFQUFFO1lBQXdCLENBQUU7WUFBQWIsUUFBQSxHQUM3RTlELFFBQVEsQ0FBQ3FILE1BQU0sRUFBQyxtQkFBWSxFQUFDbkgsT0FBTyxDQUFDbUgsTUFBTSxFQUFDLGtCQUM3QyxFQUFDakgsS0FBSyxJQUFLLE1BQUtxQyxJQUFJLENBQUNDLEtBQUssQ0FBQ3RDLEtBQUssQ0FBQzBGLFdBQVcsR0FBRyxHQUFHLENBQUUsZ0JBQWU7VUFBQSxDQUNoRSxDQUFDLGVBQ050RyxzREFBQTtZQUFRaUYsT0FBTyxFQUFFNUUsT0FBUTtZQUFDa0UsU0FBUyxFQUFDLGVBQWU7WUFBQUQsUUFBQSxFQUFDO1VBRXBELENBQVEsQ0FBQztRQUFBLENBQ047TUFBQyxDQUNILENBQUM7SUFBQSxDQUNIO0VBQUMsQ0FDSCxDQUFDO0FBRVYsQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BjbGVhbnNoYXJlL3VpLy4vc3JjL2NvbXBvbmVudHMvSGlzdG9yeURhc2hib2FyZC50c3g/MTE1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIGdldFNlc3Npb25zLFxuICBnZXRBbGxSZWNvcmRzLFxuICBnZXRQcm9jZXNzaW5nU3RhdHMsXG4gIGV4cG9ydEhpc3RvcnksXG4gIGNsZWFySGlzdG9yeSxcbiAgdHlwZSBQcm9jZXNzaW5nU2Vzc2lvbixcbiAgdHlwZSBGaWxlUHJvY2Vzc2luZ1JlY29yZCxcbiAgdHlwZSBQcm9jZXNzaW5nU3RhdHNcbn0gZnJvbSAnQGNsZWFuc2hhcmUvY29yZS1kZXRlY3QnO1xuXG5pbnRlcmZhY2UgSGlzdG9yeURhc2hib2FyZFByb3BzIHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xufVxuXG50eXBlIFRhYlR5cGUgPSAnb3ZlcnZpZXcnIHwgJ3Nlc3Npb25zJyB8ICdhbmFseXRpY3MnIHwgJ2V4cG9ydCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhpc3RvcnlEYXNoYm9hcmQoeyBpc09wZW4sIG9uQ2xvc2UgfTogSGlzdG9yeURhc2hib2FyZFByb3BzKSB7XG4gIGNvbnN0IFtzZWxlY3RlZFRhYiwgc2V0U2VsZWN0ZWRUYWJdID0gdXNlU3RhdGU8VGFiVHlwZT4oJ292ZXJ2aWV3Jyk7XG4gIGNvbnN0IFtzZXNzaW9ucywgc2V0U2Vzc2lvbnNdID0gdXNlU3RhdGU8UHJvY2Vzc2luZ1Nlc3Npb25bXT4oW10pO1xuICBjb25zdCBbcmVjb3Jkcywgc2V0UmVjb3Jkc10gPSB1c2VTdGF0ZTxGaWxlUHJvY2Vzc2luZ1JlY29yZFtdPihbXSk7XG4gIGNvbnN0IFtzdGF0cywgc2V0U3RhdHNdID0gdXNlU3RhdGU8UHJvY2Vzc2luZ1N0YXRzIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtzZWxlY3RlZFNlc3Npb24sIHNldFNlbGVjdGVkU2Vzc2lvbl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2RhdGVSYW5nZSwgc2V0RGF0ZVJhbmdlXSA9IHVzZVN0YXRlKHsgc3RhcnQ6ICcnLCBlbmQ6ICcnIH0pO1xuICBjb25zdCBbZXhwb3J0Rm9ybWF0LCBzZXRFeHBvcnRGb3JtYXRdID0gdXNlU3RhdGU8J2pzb24nIHwgJ2Nzdic+KCdqc29uJyk7XG5cbiAgLy8gTG9hZCBkYXRhIHdoZW4gbW9kYWwgb3BlbnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICByZWZyZXNoRGF0YSgpO1xuICAgIH1cbiAgfSwgW2lzT3Blbl0pO1xuXG4gIGNvbnN0IHJlZnJlc2hEYXRhID0gKCkgPT4ge1xuICAgIHNldFNlc3Npb25zKGdldFNlc3Npb25zKCkpO1xuICAgIHNldFJlY29yZHMoZ2V0QWxsUmVjb3JkcygpKTtcbiAgICBzZXRTdGF0cyhnZXRQcm9jZXNzaW5nU3RhdHMoKSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGF0ZVJhbmdlQ2hhbmdlID0gKCkgPT4ge1xuICAgIGlmIChkYXRlUmFuZ2Uuc3RhcnQgJiYgZGF0ZVJhbmdlLmVuZCkge1xuICAgICAgY29uc3QgZmlsdGVyZWRTdGF0cyA9IGdldFByb2Nlc3NpbmdTdGF0cyh7XG4gICAgICAgIHN0YXJ0OiBkYXRlUmFuZ2Uuc3RhcnQsXG4gICAgICAgIGVuZDogZGF0ZVJhbmdlLmVuZFxuICAgICAgfSk7XG4gICAgICBzZXRTdGF0cyhmaWx0ZXJlZFN0YXRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U3RhdHMoZ2V0UHJvY2Vzc2luZ1N0YXRzKCkpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVFeHBvcnQgPSAoKSA9PiB7XG4gICAgY29uc3QgZXhwb3J0ZWQgPSBleHBvcnRIaXN0b3J5KHtcbiAgICAgIGZvcm1hdDogZXhwb3J0Rm9ybWF0LFxuICAgICAgZGF0ZVJhbmdlOiBkYXRlUmFuZ2Uuc3RhcnQgJiYgZGF0ZVJhbmdlLmVuZCA/IGRhdGVSYW5nZSA6IHVuZGVmaW5lZCxcbiAgICAgIGluY2x1ZGVGaWxlRGV0YWlsczogdHJ1ZSxcbiAgICAgIGluY2x1ZGVEZXRlY3Rpb25EZXRhaWxzOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtleHBvcnRlZF0sIHsgXG4gICAgICB0eXBlOiBleHBvcnRGb3JtYXQgPT09ICdqc29uJyA/ICdhcHBsaWNhdGlvbi9qc29uJyA6ICd0ZXh0L2NzdicgXG4gICAgfSk7XG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICBsaW5rLmRvd25sb2FkID0gYGNsZWFuc2hhcmUtaGlzdG9yeS4ke2V4cG9ydEZvcm1hdH1gO1xuICAgIGxpbmsuY2xpY2soKTtcbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ2xlYXJIaXN0b3J5ID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cuY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNsZWFyIGFsbCBwcm9jZXNzaW5nIGhpc3Rvcnk/IFRoaXMgY2Fubm90IGJlIHVuZG9uZS4nKSkge1xuICAgICAgY2xlYXJIaXN0b3J5KCk7XG4gICAgICByZWZyZXNoRGF0YSgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmb3JtYXREdXJhdGlvbiA9IChtczogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgICBpZiAobXMgPCAxMDAwKSByZXR1cm4gYCR7TWF0aC5yb3VuZChtcyl9bXNgO1xuICAgIGlmIChtcyA8IDYwMDAwKSByZXR1cm4gYCR7KG1zIC8gMTAwMCkudG9GaXhlZCgxKX1zYDtcbiAgICByZXR1cm4gYCR7KG1zIC8gNjAwMDApLnRvRml4ZWQoMSl9bWA7XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoYnl0ZXM6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgaWYgKGJ5dGVzIDwgMTAyNCkgcmV0dXJuIGAke2J5dGVzfUJgO1xuICAgIGlmIChieXRlcyA8IDEwMjQgKiAxMDI0KSByZXR1cm4gYCR7KGJ5dGVzIC8gMTAyNCkudG9GaXhlZCgxKX1LQmA7XG4gICAgcmV0dXJuIGAkeyhieXRlcyAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMSl9TUJgO1xuICB9O1xuXG4gIGNvbnN0IGZvcm1hdERhdGUgPSAoZGF0ZVN0cjogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cikudG9Mb2NhbGVTdHJpbmcoKTtcbiAgfTtcblxuICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNSknLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbWQpJ1xuICAgIH19PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCIgc3R5bGU9e3tcbiAgICAgICAgbWluV2lkdGg6ICc5MDBweCcsXG4gICAgICAgIG1heFdpZHRoOiAnOTV2dycsXG4gICAgICAgIG1heEhlaWdodDogJzkwdmgnLFxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbidcbiAgICAgIH19PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtaGVhZGVyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5Qcm9jZXNzaW5nIEhpc3RvcnkgJiBBbmFseXRpY3M8L2gzPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImNhcmQtc3VidGl0bGVcIj5WaWV3IHByb2Nlc3Npbmcgc3RhdGlzdGljcyBhbmQgYXVkaXQgdHJhaWw8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBUYWJzICovfVxuICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHZhcigtLWJvcmRlci1saWdodCknLFxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBnYXA6ICcxcHgnLFxuICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS1iZy1zZWNvbmRhcnkpJ1xuICAgICAgICB9fT5cbiAgICAgICAgICB7KFsnb3ZlcnZpZXcnLCAnc2Vzc2lvbnMnLCAnYW5hbHl0aWNzJywgJ2V4cG9ydCddIGFzIFRhYlR5cGVbXSkubWFwKHRhYiA9PiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGtleT17dGFifVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZFRhYih0YWIpfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICd2YXIoLS1zcGFjZS1zbSkgdmFyKC0tc3BhY2UtbWQpJyxcbiAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBzZWxlY3RlZFRhYiA9PT0gdGFiID8gJ3ZhcigtLWJnLXByaW1hcnkpJyA6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgY29sb3I6IHNlbGVjdGVkVGFiID09PSB0YWIgPyAndmFyKC0tdGV4dC1wcmltYXJ5KScgOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyxcbiAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IHNlbGVjdGVkVGFiID09PSB0YWIgPyAnMnB4IHNvbGlkIHZhcigtLWNvbG9yLXByaW1hcnkpJyA6ICcycHggc29saWQgdHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IHNlbGVjdGVkVGFiID09PSB0YWIgPyAnNjAwJyA6ICc0MDAnLFxuICAgICAgICAgICAgICAgIHRleHRUcmFuc2Zvcm06ICdjYXBpdGFsaXplJ1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dGFifVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCIgc3R5bGU9e3sgZmxleDogMSwgb3ZlcmZsb3c6ICdhdXRvJyB9fT5cbiAgICAgICAgICB7LyogRGF0ZSBSYW5nZSBGaWx0ZXIgKi99XG4gICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgZ2FwOiAndmFyKC0tc3BhY2UtbWQpJyxcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLWxnKScsXG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGZsZXhXcmFwOiAnd3JhcCdcbiAgICAgICAgICB9fT5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1zcGFjZS1zbSknLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9fT5cbiAgICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICc2MDAnIH19PkRhdGUgUmFuZ2U6PC9sYWJlbD5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cImRhdGVcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtkYXRlUmFuZ2Uuc3RhcnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXREYXRlUmFuZ2UocHJldiA9PiAoeyAuLi5wcmV2LCBzdGFydDogZS50YXJnZXQudmFsdWUgfSkpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0taW5wdXRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAnMTUwcHgnIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuPnRvPC9zcGFuPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2RhdGVSYW5nZS5lbmR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXREYXRlUmFuZ2UocHJldiA9PiAoeyAuLi5wcmV2LCBlbmQ6IGUudGFyZ2V0LnZhbHVlIH0pKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWlucHV0XCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzE1MHB4JyB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZURhdGVSYW5nZUNoYW5nZX0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1vdXRsaW5lIGJ0bi1zbVwiPlxuICAgICAgICAgICAgICAgIEFwcGx5IEZpbHRlclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBzZXREYXRlUmFuZ2UoeyBzdGFydDogJycsIGVuZDogJycgfSk7XG4gICAgICAgICAgICAgICAgICBzZXRTdGF0cyhnZXRQcm9jZXNzaW5nU3RhdHMoKSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLW91dGxpbmUgYnRuLXNtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENsZWFyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7c2VsZWN0ZWRUYWIgPT09ICdvdmVydmlldycgJiYgc3RhdHMgJiYgKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgey8qIEtleSBNZXRyaWNzICovfVxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogJ2dyaWQnLFxuICAgICAgICAgICAgICAgIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICdyZXBlYXQoYXV0by1maXQsIG1pbm1heCgyMDBweCwgMWZyKSknLFxuICAgICAgICAgICAgICAgIGdhcDogJ3ZhcigtLXNwYWNlLW1kKScsXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UteGwpJ1xuICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIiBzdHlsZT17eyBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbWQpJywgdGV4dEFsaWduOiAnY2VudGVyJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtMnhsKScsIGZvbnRXZWlnaHQ6ICdib2xkJywgY29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtzdGF0cy50b3RhbFNlc3Npb25zfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyB9fT5Ub3RhbCBTZXNzaW9uczwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiIHN0eWxlPXt7IHBhZGRpbmc6ICd2YXIoLS1zcGFjZS1tZCknLCB0ZXh0QWxpZ246ICdjZW50ZXInIH19PlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS0yeGwpJywgZm9udFdlaWdodDogJ2JvbGQnLCBjb2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAge3N0YXRzLnRvdGFsRmlsZXN9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknIH19PkZpbGVzIFByb2Nlc3NlZDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiIHN0eWxlPXt7IHBhZGRpbmc6ICd2YXIoLS1zcGFjZS1tZCknLCB0ZXh0QWxpZ246ICdjZW50ZXInIH19PlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS0yeGwpJywgZm9udFdlaWdodDogJ2JvbGQnLCBjb2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAge3N0YXRzLnRvdGFsRGV0ZWN0aW9ucy50b0xvY2FsZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyB9fT5EZXRlY3Rpb25zIE1hZGU8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIiBzdHlsZT17eyBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbWQpJywgdGV4dEFsaWduOiAnY2VudGVyJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtMnhsKScsIGZvbnRXZWlnaHQ6ICdib2xkJywgY29sb3I6ICd2YXIoLS1jb2xvci1zdWNjZXNzKScgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtNYXRoLnJvdW5kKHN0YXRzLnN1Y2Nlc3NSYXRlICogMTAwKX0lXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknIH19PlN1Y2Nlc3MgUmF0ZTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogRGV0ZWN0aW9uIFR5cGVzIENoYXJ0ICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1sZyknIH19PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+RGV0ZWN0aW9uIFR5cGVzPC9oND5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBnYXA6ICd2YXIoLS1zcGFjZS1zbSknIH19PlxuICAgICAgICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMoc3RhdHMuZGV0ZWN0aW9uc0J5VHlwZSlcbiAgICAgICAgICAgICAgICAgICAgICAuc29ydCgoWyxhXSwgWyxiXSkgPT4gYiAtIGEpXG4gICAgICAgICAgICAgICAgICAgICAgLm1hcCgoW3R5cGUsIGNvdW50XSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IChjb3VudCAvIHN0YXRzLnRvdGFsRGV0ZWN0aW9ucykgKiAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17dHlwZX0gc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1pbldpZHRoOiAnMTAwcHgnLCBmb250V2VpZ2h0OiAnNjAwJyB9fT57dHlwZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcyMHB4JywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tYmctc2Vjb25kYXJ5KScsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtwZXJjZW50YWdlfSVgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tY29sb3ItcHJpbWFyeSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnd2lkdGggMC4zcyBlYXNlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1pbldpZHRoOiAnNjBweCcsIHRleHRBbGlnbjogJ3JpZ2h0JywgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtc20pJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb3VudH0gKHtwZXJjZW50YWdlLnRvRml4ZWQoMSl9JSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBSZWNlbnQgQWN0aXZpdHkgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJjYXJkLXRpdGxlXCI+UmVjZW50IEFjdGl2aXR5PC9oND5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgICAgICAge3JlY29yZHMuc2xpY2UoMCwgMTApLm1hcChyZWNvcmQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gc2Vzc2lvbnMuZmluZChzID0+IHMuaWQgPT09IHJlY29yZC5zZXNzaW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17cmVjb3JkLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJ3ZhcigtLXNwYWNlLXNtKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1ib3JkZXItbGlnaHQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAndmFyKC0tcmFkaXVzLXNtKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLXNtKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiAnNjAwJyB9fT57cmVjb3JkLmZpbGVOYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXNtKScsIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVjb3JkLnRvdGFsRGV0ZWN0aW9uc30gZGV0ZWN0aW9ucyDigKIge2Zvcm1hdER1cmF0aW9uKHJlY29yZC5wcm9jZXNzaW5nVGltZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nlc3Npb24/LnByZXNldE5hbWUgJiYgYCDigKIgJHtzZXNzaW9uLnByZXNldE5hbWV9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzJweCA4cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUteHMpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogJzYwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJlY29yZC5zdGF0dXMgPT09ICdjb21wbGV0ZWQnID8gJ3ZhcigtLWNvbG9yLXN1Y2Nlc3MpJyA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLnN0YXR1cyA9PT0gJ2ZhaWxlZCcgPyAndmFyKC0tY29sb3ItZXJyb3IpJyA6ICd2YXIoLS1jb2xvci13YXJuaW5nKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3JlY29yZC5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAge3JlY29yZHMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBjb2xvcjogJ3ZhcigtLXRleHQtc2Vjb25kYXJ5KScsIHBhZGRpbmc6ICd2YXIoLS1zcGFjZS14bCknIH19PlxuICAgICAgICAgICAgICAgICAgICAgIE5vIHByb2Nlc3NpbmcgaGlzdG9yeSB5ZXRcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7c2VsZWN0ZWRUYWIgPT09ICdzZXNzaW9ucycgJiYgKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBnYXA6ICd2YXIoLS1zcGFjZS1tZCknIH19PlxuICAgICAgICAgICAgICAgIHtzZXNzaW9ucy5tYXAoc2Vzc2lvbiA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17c2Vzc2lvbi5pZH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2FyZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkU2Vzc2lvbihzZWxlY3RlZFNlc3Npb24gPT09IHNlc3Npb24uaWQgPyBudWxsIDogc2Vzc2lvbi5pZCl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsIGFsaWduSXRlbXM6ICdjZW50ZXInIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1zcGFjZS1zbSknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLWxnKScsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Vzc2lvbiB7Zm9ybWF0RGF0ZShzZXNzaW9uLnN0YXJ0VGltZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZXNzaW9uLnByZXNldE5hbWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzJweCA2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tY29sb3Itc2Vjb25kYXJ5KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICczcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS14cyknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nlc3Npb24ucHJlc2V0TmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknLCBjb2xvcjogJ3ZhcigtLXRleHQtc2Vjb25kYXJ5KScsIG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLXhzKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nlc3Npb24ucHJvY2Vzc2VkRmlsZXN9L3tzZXNzaW9uLnRvdGFsRmlsZXN9IGZpbGVzIHByb2Nlc3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZXNzaW9uLmZhaWxlZEZpbGVzID4gMCAmJiBgIOKAoiAke3Nlc3Npb24uZmFpbGVkRmlsZXN9IGZhaWxlZGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nlc3Npb24uZW5kVGltZSAmJiBgIOKAoiBEdXJhdGlvbjogJHtmb3JtYXREdXJhdGlvbihuZXcgRGF0ZShzZXNzaW9uLmVuZFRpbWUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKHNlc3Npb24uc3RhcnRUaW1lKS5nZXRUaW1lKCkpfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHggMTJweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzEycHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiAnNjAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogc2Vzc2lvbi5zdGF0dXMgPT09ICdjb21wbGV0ZWQnID8gJ3ZhcigtLWNvbG9yLXN1Y2Nlc3MpJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLnN0YXR1cyA9PT0gJ2ZhaWxlZCcgPyAndmFyKC0tY29sb3ItZXJyb3IpJyA6ICd2YXIoLS1jb2xvci13YXJuaW5nKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3Nlc3Npb24uc3RhdHVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRTZXNzaW9uID09PSBzZXNzaW9uLmlkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAndmFyKC0tc3BhY2UtbWQpJywgYm9yZGVyVG9wOiAnMXB4IHNvbGlkIHZhcigtLWJvcmRlci1saWdodCknLCBwYWRkaW5nVG9wOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLXNtKScgfX0+U2Vzc2lvbiBGaWxlczwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiAndmFyKC0tc3BhY2UteHMpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cmVjb3Jkc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihyID0+IHIuc2Vzc2lvbklkID09PSBzZXNzaW9uLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChyZWNvcmQgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtyZWNvcmQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICd2YXIoLS1zcGFjZS14cykgdmFyKC0tc3BhY2Utc20pJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS1iZy1zZWNvbmRhcnkpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJ3ZhcigtLXJhZGl1cy1zbSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250V2VpZ2h0OiAnNjAwJyB9fT57cmVjb3JkLmZpbGVOYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICd2YXIoLS1zcGFjZS1zbSknLCBjb2xvcjogJ3ZhcigtLXRleHQtc2Vjb25kYXJ5KScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh7Zm9ybWF0RmlsZVNpemUocmVjb3JkLmZpbGVTaXplKX0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLXNwYWNlLW1kKScsIGFsaWduSXRlbXM6ICdjZW50ZXInIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtc20pJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlY29yZC50b3RhbERldGVjdGlvbnN9IGRldGVjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXNtKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXREdXJhdGlvbihyZWNvcmQucHJvY2Vzc2luZ1RpbWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzFweCA2cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc4cHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS14cyknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZWNvcmQuc3RhdHVzID09PSAnY29tcGxldGVkJyA/ICd2YXIoLS1jb2xvci1zdWNjZXNzKScgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLnN0YXR1cyA9PT0gJ2ZhaWxlZCcgPyAndmFyKC0tY29sb3ItZXJyb3IpJyA6ICd2YXIoLS1jb2xvci13YXJuaW5nKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3JlY29yZC5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICB7c2Vzc2lvbnMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgY29sb3I6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknLCBwYWRkaW5nOiAndmFyKC0tc3BhY2UteGwpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgTm8gcHJvY2Vzc2luZyBzZXNzaW9ucyB5ZXRcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHtzZWxlY3RlZFRhYiA9PT0gJ2FuYWx5dGljcycgJiYgc3RhdHMgJiYgKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgey8qIFByb2Nlc3NpbmcgVGltZSBUcmVuZHMgKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLWxnKScgfX0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5Qcm9jZXNzaW5nIFBlcmZvcm1hbmNlPC9oND5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1tZCknIH19PlxuICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPkF2ZXJhZ2UgUHJvY2Vzc2luZyBUaW1lOjwvc3Ryb25nPiB7Zm9ybWF0RHVyYXRpb24oc3RhdHMuYXZlcmFnZVByb2Nlc3NpbmdUaW1lKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAge3N0YXRzLnByb2Nlc3NpbmdUaW1lc0J5RGF0ZS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDU+RGFpbHkgUHJvY2Vzc2luZyBUaW1lczwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBnYXA6ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAge3N0YXRzLnByb2Nlc3NpbmdUaW1lc0J5RGF0ZS5zbGljZSgtMTApLm1hcCgoeyBkYXRlLCBhdmVyYWdlVGltZSwgZmlsZUNvdW50IH0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2RhdGV9IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJywgYWxpZ25JdGVtczogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e25ldyBEYXRlKGRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57ZmlsZUNvdW50fSBmaWxlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57Zm9ybWF0RHVyYXRpb24oYXZlcmFnZVRpbWUpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogQ29uZmlkZW5jZSBEaXN0cmlidXRpb24gKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLWxnKScgfX0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5EZXRlY3Rpb24gQ29uZmlkZW5jZSBEaXN0cmlidXRpb248L2g0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLXNtKScgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtbXG4gICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ0hpZ2ggQ29uZmlkZW5jZSAoODAlKyknLCBjb3VudDogc3RhdHMuZGV0ZWN0aW9uc0J5Q29uZmlkZW5jZS5oaWdoLCBjb2xvcjogJ3ZhcigtLWNvbG9yLXN1Y2Nlc3MpJyB9LFxuICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdNZWRpdW0gQ29uZmlkZW5jZSAoNTAtODAlKScsIGNvdW50OiBzdGF0cy5kZXRlY3Rpb25zQnlDb25maWRlbmNlLm1lZGl1bSwgY29sb3I6ICd2YXIoLS1jb2xvci13YXJuaW5nKScgfSxcbiAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiAnTG93IENvbmZpZGVuY2UgKDw1MCUpJywgY291bnQ6IHN0YXRzLmRldGVjdGlvbnNCeUNvbmZpZGVuY2UubG93LCBjb2xvcjogJ3ZhcigtLWNvbG9yLWVycm9yKScgfVxuICAgICAgICAgICAgICAgICAgICBdLm1hcCgoeyBsYWJlbCwgY291bnQsIGNvbG9yIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZXJjZW50YWdlID0gc3RhdHMudG90YWxEZXRlY3Rpb25zID4gMCA/IChjb3VudCAvIHN0YXRzLnRvdGFsRGV0ZWN0aW9ucykgKiAxMDAgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17bGFiZWx9IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJ3ZhcigtLXNwYWNlLW1kKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWluV2lkdGg6ICcxODBweCcgfX0+e2xhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzIwcHgnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tYmctc2Vjb25kYXJ5KScsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzEwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBgJHtwZXJjZW50YWdlfSVgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnd2lkdGggMC4zcyBlYXNlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1pbldpZHRoOiAnODBweCcsIHRleHRBbGlnbjogJ3JpZ2h0JywgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtc20pJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y291bnR9ICh7cGVyY2VudGFnZS50b0ZpeGVkKDEpfSUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgey8qIFByZXNldCBVc2FnZSAqL31cbiAgICAgICAgICAgICAge09iamVjdC5rZXlzKHN0YXRzLnByZXNldFVzYWdlKS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5QcmVzZXQgVXNhZ2U8L2g0PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLXNtKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKHN0YXRzLnByZXNldFVzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNvcnQoKFssYV0sIFssYl0pID0+IGIgLSBhKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoW3ByZXNldE5hbWUsIHVzYWdlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3RhbFVzYWdlID0gT2JqZWN0LnZhbHVlcyhzdGF0cy5wcmVzZXRVc2FnZSkucmVkdWNlKChzdW0sIGNvdW50KSA9PiBzdW0gKyBjb3VudCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSAodXNhZ2UgLyB0b3RhbFVzYWdlKSAqIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17cHJlc2V0TmFtZX0gc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWluV2lkdGg6ICcxNTBweCcsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PntwcmVzZXROYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzIwcHgnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLWJnLXNlY29uZGFyeSknLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMTBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYCR7cGVyY2VudGFnZX0lYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tY29sb3Itc2Vjb25kYXJ5KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3dpZHRoIDAuM3MgZWFzZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtaW5XaWR0aDogJzgwcHgnLCB0ZXh0QWxpZ246ICdyaWdodCcsIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXNtKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2FnZX0gKHtwZXJjZW50YWdlLnRvRml4ZWQoMSl9JSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge3NlbGVjdGVkVGFiID09PSAnZXhwb3J0JyAmJiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLWxnKScgfX0+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1tZCknIH19PkV4cG9ydCBQcm9jZXNzaW5nIEhpc3Rvcnk8L2g0PlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tc3BhY2UtbWQpJywgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UtbWQpJywgYWxpZ25JdGVtczogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwianNvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtleHBvcnRGb3JtYXQgPT09ICdqc29uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RXhwb3J0Rm9ybWF0KGUudGFyZ2V0LnZhbHVlIGFzICdqc29uJyB8ICdjc3YnKX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIEpTT04gKENvbXBsZXRlIERhdGEpXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiY3N2XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2V4cG9ydEZvcm1hdCA9PT0gJ2Nzdid9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEV4cG9ydEZvcm1hdChlLnRhcmdldC52YWx1ZSBhcyAnanNvbicgfCAnY3N2Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICBDU1YgKFRhYnVsYXIgRGF0YSlcbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUV4cG9ydH0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgIPCfk4ogRXhwb3J0IHtleHBvcnRGb3JtYXQudG9VcHBlckNhc2UoKX1cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1tZCknIH19PkNsZWFyIEhpc3Rvcnk8L2g0PlxuICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknLCBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1tZCknIH19PlxuICAgICAgICAgICAgICAgICAgICBUaGlzIHdpbGwgcGVybWFuZW50bHkgZGVsZXRlIGFsbCBwcm9jZXNzaW5nIGhpc3RvcnkgYW5kIGNhbm5vdCBiZSB1bmRvbmUuXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGVhckhpc3Rvcnl9IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLW91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLWNvbG9yLWVycm9yKScgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAg8J+Xke+4jyBDbGVhciBBbGwgSGlzdG9yeVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7c3RhdHMgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPkV4cG9ydCBQcmV2aWV3PC9oND5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknLCBjb2xvcjogJ3ZhcigtLXRleHQtc2Vjb25kYXJ5KScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICBZb3VyIGV4cG9ydCB3aWxsIGluY2x1ZGU6XG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgc3R5bGU9e3sgbWFyZ2luVG9wOiAndmFyKC0tc3BhY2UteHMpJywgcGFkZGluZ0xlZnQ6ICcyMHB4JyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPntzdGF0cy50b3RhbFNlc3Npb25zfSBwcm9jZXNzaW5nIHNlc3Npb25zPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPntzdGF0cy50b3RhbEZpbGVzfSBmaWxlIHJlY29yZHM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+e3N0YXRzLnRvdGFsRGV0ZWN0aW9uc30gZGV0ZWN0aW9uIGVudHJpZXM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+UHJvY2Vzc2luZyBwZXJmb3JtYW5jZSBtZXRyaWNzPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPkRldGVjdGlvbiBjb25maWRlbmNlIHN0YXRpc3RpY3M8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJywgYWxpZ25JdGVtczogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXNtKScsIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyB9fT5cbiAgICAgICAgICAgICAge3Nlc3Npb25zLmxlbmd0aH0gc2Vzc2lvbnMg4oCiIHtyZWNvcmRzLmxlbmd0aH0gZmlsZXMgcHJvY2Vzc2VkXG4gICAgICAgICAgICAgIHtzdGF0cyAmJiBgIOKAoiAke01hdGgucm91bmQoc3RhdHMuc3VjY2Vzc1JhdGUgKiAxMDApfSUgc3VjY2VzcyByYXRlYH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsb3NlfSBjbGFzc05hbWU9XCJidG4gYnRuLWdob3N0XCI+XG4gICAgICAgICAgICAgIENsb3NlXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImdldFNlc3Npb25zIiwiZ2V0QWxsUmVjb3JkcyIsImdldFByb2Nlc3NpbmdTdGF0cyIsImV4cG9ydEhpc3RvcnkiLCJjbGVhckhpc3RvcnkiLCJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiSGlzdG9yeURhc2hib2FyZCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJzZWxlY3RlZFRhYiIsInNldFNlbGVjdGVkVGFiIiwic2Vzc2lvbnMiLCJzZXRTZXNzaW9ucyIsInJlY29yZHMiLCJzZXRSZWNvcmRzIiwic3RhdHMiLCJzZXRTdGF0cyIsInNlbGVjdGVkU2Vzc2lvbiIsInNldFNlbGVjdGVkU2Vzc2lvbiIsImRhdGVSYW5nZSIsInNldERhdGVSYW5nZSIsInN0YXJ0IiwiZW5kIiwiZXhwb3J0Rm9ybWF0Iiwic2V0RXhwb3J0Rm9ybWF0IiwicmVmcmVzaERhdGEiLCJoYW5kbGVEYXRlUmFuZ2VDaGFuZ2UiLCJmaWx0ZXJlZFN0YXRzIiwiaGFuZGxlRXhwb3J0IiwiZXhwb3J0ZWQiLCJmb3JtYXQiLCJ1bmRlZmluZWQiLCJpbmNsdWRlRmlsZURldGFpbHMiLCJpbmNsdWRlRGV0ZWN0aW9uRGV0YWlscyIsImJsb2IiLCJCbG9iIiwidHlwZSIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImxpbmsiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJocmVmIiwiZG93bmxvYWQiLCJjbGljayIsInJldm9rZU9iamVjdFVSTCIsImhhbmRsZUNsZWFySGlzdG9yeSIsIndpbmRvdyIsImNvbmZpcm0iLCJmb3JtYXREdXJhdGlvbiIsIm1zIiwiTWF0aCIsInJvdW5kIiwidG9GaXhlZCIsImZvcm1hdEZpbGVTaXplIiwiYnl0ZXMiLCJmb3JtYXREYXRlIiwiZGF0ZVN0ciIsIkRhdGUiLCJ0b0xvY2FsZVN0cmluZyIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJiYWNrZ3JvdW5kIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsInpJbmRleCIsInBhZGRpbmciLCJjaGlsZHJlbiIsImNsYXNzTmFtZSIsIm1pbldpZHRoIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJvdmVyZmxvdyIsImZsZXhEaXJlY3Rpb24iLCJib3JkZXJCb3R0b20iLCJnYXAiLCJtYXAiLCJ0YWIiLCJvbkNsaWNrIiwiYm9yZGVyIiwiY29sb3IiLCJjdXJzb3IiLCJmb250V2VpZ2h0IiwidGV4dFRyYW5zZm9ybSIsImZsZXgiLCJtYXJnaW5Cb3R0b20iLCJmbGV4V3JhcCIsInZhbHVlIiwib25DaGFuZ2UiLCJlIiwicHJldiIsInRhcmdldCIsIndpZHRoIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsInRleHRBbGlnbiIsImZvbnRTaXplIiwidG90YWxTZXNzaW9ucyIsInRvdGFsRmlsZXMiLCJ0b3RhbERldGVjdGlvbnMiLCJzdWNjZXNzUmF0ZSIsIk9iamVjdCIsImVudHJpZXMiLCJkZXRlY3Rpb25zQnlUeXBlIiwic29ydCIsImEiLCJiIiwiY291bnQiLCJwZXJjZW50YWdlIiwiaGVpZ2h0IiwiYm9yZGVyUmFkaXVzIiwidHJhbnNpdGlvbiIsInNsaWNlIiwicmVjb3JkIiwic2Vzc2lvbiIsImZpbmQiLCJzIiwiaWQiLCJzZXNzaW9uSWQiLCJmaWxlTmFtZSIsInByb2Nlc3NpbmdUaW1lIiwicHJlc2V0TmFtZSIsInN0YXR1cyIsImxlbmd0aCIsInN0YXJ0VGltZSIsIm1hcmdpblRvcCIsInByb2Nlc3NlZEZpbGVzIiwiZmFpbGVkRmlsZXMiLCJlbmRUaW1lIiwiZ2V0VGltZSIsImJvcmRlclRvcCIsInBhZGRpbmdUb3AiLCJmaWx0ZXIiLCJyIiwibWFyZ2luTGVmdCIsImZpbGVTaXplIiwiYXZlcmFnZVByb2Nlc3NpbmdUaW1lIiwicHJvY2Vzc2luZ1RpbWVzQnlEYXRlIiwiZGF0ZSIsImF2ZXJhZ2VUaW1lIiwiZmlsZUNvdW50IiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwibGFiZWwiLCJkZXRlY3Rpb25zQnlDb25maWRlbmNlIiwiaGlnaCIsIm1lZGl1bSIsImxvdyIsImtleXMiLCJwcmVzZXRVc2FnZSIsInVzYWdlIiwidG90YWxVc2FnZSIsInZhbHVlcyIsInJlZHVjZSIsInN1bSIsImNoZWNrZWQiLCJ0b1VwcGVyQ2FzZSIsInBhZGRpbmdMZWZ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/HistoryDashboard.tsx\n");

/***/ }),

/***/ "./src/components/KeyboardShortcutsHelp.tsx":
/*!**************************************************!*\
  !*** ./src/components/KeyboardShortcutsHelp.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ KeyboardShortcutsHelp)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"react/jsx-runtime\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst SHORTCUT_SECTIONS = [{\n  title: 'File Operations',\n  shortcuts: [{\n    keys: ['Ctrl', 'O'],\n    description: 'Open file picker to upload files',\n    context: 'Global'\n  }, {\n    keys: ['Escape'],\n    description: 'Close any open modal or dialog',\n    context: 'Global'\n  }]\n}, {\n  title: 'Editing & Undo/Redo',\n  shortcuts: [{\n    keys: ['Ctrl', 'Z'],\n    description: 'Undo last action',\n    context: 'When files are loaded'\n  }, {\n    keys: ['Ctrl', 'Y'],\n    description: 'Redo last undone action',\n    context: 'When files are loaded'\n  }, {\n    keys: ['Ctrl', 'Shift', 'Z'],\n    description: 'Redo last undone action (alternative)',\n    context: 'When files are loaded'\n  }]\n}, {\n  title: 'Navigation',\n  shortcuts: [{\n    keys: ['Tab'],\n    description: 'Navigate to next interactive element',\n    context: 'Global'\n  }, {\n    keys: ['Shift', 'Tab'],\n    description: 'Navigate to previous interactive element',\n    context: 'Global'\n  }, {\n    keys: ['Space'],\n    description: 'Toggle checkboxes and activate buttons',\n    context: 'When focused'\n  }, {\n    keys: ['Enter'],\n    description: 'Activate buttons and submit forms',\n    context: 'When focused'\n  }]\n}, {\n  title: 'Help & Information',\n  shortcuts: [{\n    keys: ['?'],\n    description: 'Show this keyboard shortcuts help',\n    context: 'Global'\n  }, {\n    keys: ['F1'],\n    description: 'Show keyboard shortcuts help (alternative)',\n    context: 'Global'\n  }]\n}];\nfunction KeyboardShortcutsHelp({\n  isOpen,\n  onClose\n}) {\n  if (!isOpen) return null;\n  const renderKeyCombo = keys => {\n    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '2px',\n        alignItems: 'center'\n      },\n      children: keys.map((key, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), {\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"kbd\", {\n          style: {\n            padding: '2px 6px',\n            background: 'var(--bg-secondary)',\n            border: '1px solid var(--border-light)',\n            borderRadius: '3px',\n            fontSize: 'var(--font-size-xs)',\n            fontFamily: 'monospace',\n            minWidth: '20px',\n            textAlign: 'center'\n          },\n          children: key\n        }), index < keys.length - 1 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n          style: {\n            fontSize: 'var(--font-size-xs)',\n            margin: '0 2px'\n          },\n          children: \"+\"\n        })]\n      }, key))\n    });\n  };\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000,\n      padding: 'var(--space-md)'\n    },\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n      className: \"card\",\n      style: {\n        minWidth: '600px',\n        maxWidth: '90vw',\n        maxHeight: '90vh',\n        overflow: 'hidden',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", {\n          className: \"card-title\",\n          children: \"\\u2328\\uFE0F Keyboard Shortcuts\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n          className: \"card-subtitle\",\n          children: \"Power user shortcuts for faster workflow\"\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"card-body\",\n        style: {\n          flex: 1,\n          overflow: 'auto'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 'var(--space-xl)'\n          },\n          children: SHORTCUT_SECTIONS.map(section => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n              style: {\n                marginBottom: 'var(--space-md)',\n                color: 'var(--color-primary)',\n                borderBottom: '1px solid var(--border-light)',\n                paddingBottom: 'var(--space-xs)'\n              },\n              children: section.title\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              style: {\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 'var(--space-sm)'\n              },\n              children: section.shortcuts.map((shortcut, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  padding: 'var(--space-sm)',\n                  background: 'var(--bg-secondary)',\n                  borderRadius: 'var(--radius-sm)',\n                  gap: 'var(--space-md)'\n                },\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                    style: {\n                      fontWeight: '600',\n                      marginBottom: '2px'\n                    },\n                    children: shortcut.description\n                  }), shortcut.context && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                    style: {\n                      fontSize: 'var(--font-size-xs)',\n                      color: 'var(--text-secondary)'\n                    },\n                    children: [\"Context: \", shortcut.context]\n                  })]\n                }), renderKeyCombo(shortcut.keys)]\n              }, index))\n            })]\n          }, section.title))\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            marginTop: 'var(--space-xl)',\n            padding: 'var(--space-md)',\n            background: 'var(--bg-secondary)',\n            borderRadius: 'var(--radius-md)',\n            border: '1px solid var(--border-light)'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n            style: {\n              marginBottom: 'var(--space-sm)',\n              color: 'var(--color-primary)'\n            },\n            children: \"\\uD83C\\uDF10 Accessibility Features\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"ul\", {\n            style: {\n              margin: 0,\n              paddingLeft: '20px',\n              fontSize: 'var(--font-size-sm)',\n              color: 'var(--text-secondary)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"Full keyboard navigation support - use Tab to navigate\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"Screen reader compatible with proper ARIA labels\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"High contrast mode available in system preferences\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"Focus indicators clearly show current selection\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"Skip navigation links available (press Tab when page loads)\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"All interactive elements are keyboard accessible\"\n            })]\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            marginTop: 'var(--space-lg)',\n            padding: 'var(--space-md)',\n            background: 'linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%)',\n            borderRadius: 'var(--radius-md)',\n            color: 'white'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n            style: {\n              marginBottom: 'var(--space-sm)',\n              color: 'white'\n            },\n            children: \"\\uD83D\\uDCA1 Pro Tips\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"ul\", {\n            style: {\n              margin: 0,\n              paddingLeft: '20px',\n              fontSize: 'var(--font-size-sm)',\n              color: 'white'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"li\", {\n              children: [\"Use \", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n                children: \"Ctrl+Z/Ctrl+Y\"\n              }), \" to quickly experiment with different redaction styles\"]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"The floating undo/redo controls appear when you're working with files\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"li\", {\n              children: [\"Press \", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n                children: \"?\"\n              }), \" anytime to quickly reference these shortcuts\"]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"All shortcuts work even when not focused on buttons - perfect for power users\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"Your action history persists across browser sessions\"\n            })]\n          })]\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        className: \"card-footer\",\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            style: {\n              fontSize: 'var(--font-size-sm)',\n              color: 'var(--text-secondary)'\n            },\n            children: [\"Press \", /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"kbd\", {\n              style: {\n                padding: '2px 4px',\n                background: 'var(--bg-secondary)',\n                border: '1px solid var(--border-light)',\n                borderRadius: '2px',\n                fontSize: 'var(--font-size-xs)'\n              },\n              children: \"Escape\"\n            }), \" or click Close to dismiss\"]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n            onClick: onClose,\n            className: \"btn btn-primary\",\n            children: \"Close\"\n          })]\n        })\n      })]\n    })\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9LZXlib2FyZFNob3J0Y3V0c0hlbHAudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBCO0FBQUE7QUFnQjFCLE1BQU1LLGlCQUFvQyxHQUFHLENBQzNDO0VBQ0VDLEtBQUssRUFBRSxpQkFBaUI7RUFDeEJDLFNBQVMsRUFBRSxDQUNUO0lBQ0VDLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUM7SUFDbkJDLFdBQVcsRUFBRSxrQ0FBa0M7SUFDL0NDLE9BQU8sRUFBRTtFQUNYLENBQUMsRUFDRDtJQUNFRixJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7SUFDaEJDLFdBQVcsRUFBRSxnQ0FBZ0M7SUFDN0NDLE9BQU8sRUFBRTtFQUNYLENBQUM7QUFFTCxDQUFDLEVBQ0Q7RUFDRUosS0FBSyxFQUFFLHFCQUFxQjtFQUM1QkMsU0FBUyxFQUFFLENBQ1Q7SUFDRUMsSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQztJQUNuQkMsV0FBVyxFQUFFLGtCQUFrQjtJQUMvQkMsT0FBTyxFQUFFO0VBQ1gsQ0FBQyxFQUNEO0lBQ0VGLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUM7SUFDbkJDLFdBQVcsRUFBRSx5QkFBeUI7SUFDdENDLE9BQU8sRUFBRTtFQUNYLENBQUMsRUFDRDtJQUNFRixJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQztJQUM1QkMsV0FBVyxFQUFFLHVDQUF1QztJQUNwREMsT0FBTyxFQUFFO0VBQ1gsQ0FBQztBQUVMLENBQUMsRUFDRDtFQUNFSixLQUFLLEVBQUUsWUFBWTtFQUNuQkMsU0FBUyxFQUFFLENBQ1Q7SUFDRUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDO0lBQ2JDLFdBQVcsRUFBRSxzQ0FBc0M7SUFDbkRDLE9BQU8sRUFBRTtFQUNYLENBQUMsRUFDRDtJQUNFRixJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDO0lBQ3RCQyxX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RXRELENBQVEsQ0FBQztRQUFBLENBQ047TUFBQyxDQUNILENBQUM7SUFBQSxDQUNIO0VBQUMsQ0FDSCxDQUFDO0FBRVYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uL3NyYy9jb21wb25lbnRzL0tleWJvYXJkU2hvcnRjdXRzSGVscC50c3g/ZDA3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgS2V5Ym9hcmRTaG9ydGN1dHNIZWxwUHJvcHMge1xuICBpc09wZW46IGJvb2xlYW47XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBTaG9ydGN1dFNlY3Rpb24ge1xuICB0aXRsZTogc3RyaW5nO1xuICBzaG9ydGN1dHM6IEFycmF5PHtcbiAgICBrZXlzOiBzdHJpbmdbXTtcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGNvbnRleHQ/OiBzdHJpbmc7XG4gIH0+O1xufVxuXG5jb25zdCBTSE9SVENVVF9TRUNUSU9OUzogU2hvcnRjdXRTZWN0aW9uW10gPSBbXG4gIHtcbiAgICB0aXRsZTogJ0ZpbGUgT3BlcmF0aW9ucycsXG4gICAgc2hvcnRjdXRzOiBbXG4gICAgICB7XG4gICAgICAgIGtleXM6IFsnQ3RybCcsICdPJ10sXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnT3BlbiBmaWxlIHBpY2tlciB0byB1cGxvYWQgZmlsZXMnLFxuICAgICAgICBjb250ZXh0OiAnR2xvYmFsJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5czogWydFc2NhcGUnXSxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDbG9zZSBhbnkgb3BlbiBtb2RhbCBvciBkaWFsb2cnLFxuICAgICAgICBjb250ZXh0OiAnR2xvYmFsJ1xuICAgICAgfVxuICAgIF1cbiAgfSxcbiAge1xuICAgIHRpdGxlOiAnRWRpdGluZyAmIFVuZG8vUmVkbycsXG4gICAgc2hvcnRjdXRzOiBbXG4gICAgICB7XG4gICAgICAgIGtleXM6IFsnQ3RybCcsICdaJ10sXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVW5kbyBsYXN0IGFjdGlvbicsXG4gICAgICAgIGNvbnRleHQ6ICdXaGVuIGZpbGVzIGFyZSBsb2FkZWQnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXlzOiBbJ0N0cmwnLCAnWSddLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1JlZG8gbGFzdCB1bmRvbmUgYWN0aW9uJyxcbiAgICAgICAgY29udGV4dDogJ1doZW4gZmlsZXMgYXJlIGxvYWRlZCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleXM6IFsnQ3RybCcsICdTaGlmdCcsICdaJ10sXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnUmVkbyBsYXN0IHVuZG9uZSBhY3Rpb24gKGFsdGVybmF0aXZlKScsXG4gICAgICAgIGNvbnRleHQ6ICdXaGVuIGZpbGVzIGFyZSBsb2FkZWQnXG4gICAgICB9XG4gICAgXVxuICB9LFxuICB7XG4gICAgdGl0bGU6ICdOYXZpZ2F0aW9uJyxcbiAgICBzaG9ydGN1dHM6IFtcbiAgICAgIHtcbiAgICAgICAga2V5czogWydUYWInXSxcbiAgICAgICAgZGVzY3JpcHRpb246ICdOYXZpZ2F0ZSB0byBuZXh0IGludGVyYWN0aXZlIGVsZW1lbnQnLFxuICAgICAgICBjb250ZXh0OiAnR2xvYmFsJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAga2V5czogWydTaGlmdCcsICdUYWInXSxcbiAgICAgICAgZGVzY3JpcHRpb246ICdOYXZpZ2F0ZSB0byBwcmV2aW91cyBpbnRlcmFjdGl2ZSBlbGVtZW50JyxcbiAgICAgICAgY29udGV4dDogJ0dsb2JhbCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGtleXM6IFsnU3BhY2UnXSxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUb2dnbGUgY2hlY2tib3hlcyBhbmQgYWN0aXZhdGUgYnV0dG9ucycsXG4gICAgICAgIGNvbnRleHQ6ICdXaGVuIGZvY3VzZWQnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXlzOiBbJ0VudGVyJ10sXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWN0aXZhdGUgYnV0dG9ucyBhbmQgc3VibWl0IGZvcm1zJyxcbiAgICAgICAgY29udGV4dDogJ1doZW4gZm9jdXNlZCdcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogJ0hlbHAgJiBJbmZvcm1hdGlvbicsXG4gICAgc2hvcnRjdXRzOiBbXG4gICAgICB7XG4gICAgICAgIGtleXM6IFsnPyddLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Nob3cgdGhpcyBrZXlib2FyZCBzaG9ydGN1dHMgaGVscCcsXG4gICAgICAgIGNvbnRleHQ6ICdHbG9iYWwnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBrZXlzOiBbJ0YxJ10sXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnU2hvdyBrZXlib2FyZCBzaG9ydGN1dHMgaGVscCAoYWx0ZXJuYXRpdmUpJyxcbiAgICAgICAgY29udGV4dDogJ0dsb2JhbCdcbiAgICAgIH1cbiAgICBdXG4gIH1cbl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEtleWJvYXJkU2hvcnRjdXRzSGVscCh7IGlzT3Blbiwgb25DbG9zZSB9OiBLZXlib2FyZFNob3J0Y3V0c0hlbHBQcm9wcykge1xuICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgcmVuZGVyS2V5Q29tYm8gPSAoa2V5czogc3RyaW5nW10pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJzJweCcsIGFsaWduSXRlbXM6ICdjZW50ZXInIH19PlxuICAgICAgICB7a2V5cy5tYXAoKGtleSwgaW5kZXgpID0+IChcbiAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtrZXl9PlxuICAgICAgICAgICAgPGtiZCBzdHlsZT17e1xuICAgICAgICAgICAgICBwYWRkaW5nOiAnMnB4IDZweCcsXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS1iZy1zZWNvbmRhcnkpJyxcbiAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJvcmRlci1saWdodCknLFxuICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICczcHgnLFxuICAgICAgICAgICAgICBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS14cyknLFxuICAgICAgICAgICAgICBmb250RmFtaWx5OiAnbW9ub3NwYWNlJyxcbiAgICAgICAgICAgICAgbWluV2lkdGg6ICcyMHB4JyxcbiAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJ1xuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgIHtrZXl9XG4gICAgICAgICAgICA8L2tiZD5cbiAgICAgICAgICAgIHtpbmRleCA8IGtleXMubGVuZ3RoIC0gMSAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXhzKScsIG1hcmdpbjogJzAgMnB4JyB9fT4rPC9zcGFuPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNSknLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbWQpJ1xuICAgIH19PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCIgc3R5bGU9e3tcbiAgICAgICAgbWluV2lkdGg6ICc2MDBweCcsXG4gICAgICAgIG1heFdpZHRoOiAnOTB2dycsXG4gICAgICAgIG1heEhlaWdodDogJzkwdmgnLFxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbidcbiAgICAgIH19PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtaGVhZGVyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj7ijKjvuI8gS2V5Ym9hcmQgU2hvcnRjdXRzPC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjYXJkLXN1YnRpdGxlXCI+UG93ZXIgdXNlciBzaG9ydGN1dHMgZm9yIGZhc3RlciB3b3JrZmxvdzwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWJvZHlcIiBzdHlsZT17eyBmbGV4OiAxLCBvdmVyZmxvdzogJ2F1dG8nIH19PlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiAndmFyKC0tc3BhY2UteGwpJyB9fT5cbiAgICAgICAgICAgIHtTSE9SVENVVF9TRUNUSU9OUy5tYXAoKHNlY3Rpb24pID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e3NlY3Rpb24udGl0bGV9PlxuICAgICAgICAgICAgICAgIDxoNCBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLW1kKScsIFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScsXG4gICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206ICcxcHggc29saWQgdmFyKC0tYm9yZGVyLWxpZ2h0KScsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAndmFyKC0tc3BhY2UteHMpJ1xuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAge3NlY3Rpb24udGl0bGV9XG4gICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLXNtKScgfX0+XG4gICAgICAgICAgICAgICAgICB7c2VjdGlvbi5zaG9ydGN1dHMubWFwKChzaG9ydGN1dCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICd2YXIoLS1zcGFjZS1zbSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLWJnLXNlY29uZGFyeSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAndmFyKC0tcmFkaXVzLXNtKScsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6ICd2YXIoLS1zcGFjZS1tZCknXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFdlaWdodDogJzYwMCcsIG1hcmdpbkJvdHRvbTogJzJweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtzaG9ydGN1dC5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge3Nob3J0Y3V0LmNvbnRleHQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXhzKScsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29udGV4dDoge3Nob3J0Y3V0LmNvbnRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICB7cmVuZGVyS2V5Q29tYm8oc2hvcnRjdXQua2V5cyl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogQWNjZXNzaWJpbGl0eSBGZWF0dXJlcyAqL31cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IFxuICAgICAgICAgICAgbWFyZ2luVG9wOiAndmFyKC0tc3BhY2UteGwpJywgXG4gICAgICAgICAgICBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbWQpJywgXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tYmctc2Vjb25kYXJ5KScsIFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAndmFyKC0tcmFkaXVzLW1kKScsXG4gICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYm9yZGVyLWxpZ2h0KSdcbiAgICAgICAgICB9fT5cbiAgICAgICAgICAgIDxoNCBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1zbSknLCBjb2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9fT5cbiAgICAgICAgICAgICAg8J+MkCBBY2Nlc3NpYmlsaXR5IEZlYXR1cmVzXG4gICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgPHVsIHN0eWxlPXt7IFxuICAgICAgICAgICAgICBtYXJnaW46IDAsIFxuICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogJzIwcHgnLFxuICAgICAgICAgICAgICBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknLFxuICAgICAgICAgICAgICBjb2xvcjogJ3ZhcigtLXRleHQtc2Vjb25kYXJ5KSdcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICA8bGk+RnVsbCBrZXlib2FyZCBuYXZpZ2F0aW9uIHN1cHBvcnQgLSB1c2UgVGFiIHRvIG5hdmlnYXRlPC9saT5cbiAgICAgICAgICAgICAgPGxpPlNjcmVlbiByZWFkZXIgY29tcGF0aWJsZSB3aXRoIHByb3BlciBBUklBIGxhYmVsczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5IaWdoIGNvbnRyYXN0IG1vZGUgYXZhaWxhYmxlIGluIHN5c3RlbSBwcmVmZXJlbmNlczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5Gb2N1cyBpbmRpY2F0b3JzIGNsZWFybHkgc2hvdyBjdXJyZW50IHNlbGVjdGlvbjwvbGk+XG4gICAgICAgICAgICAgIDxsaT5Ta2lwIG5hdmlnYXRpb24gbGlua3MgYXZhaWxhYmxlIChwcmVzcyBUYWIgd2hlbiBwYWdlIGxvYWRzKTwvbGk+XG4gICAgICAgICAgICAgIDxsaT5BbGwgaW50ZXJhY3RpdmUgZWxlbWVudHMgYXJlIGtleWJvYXJkIGFjY2Vzc2libGU8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBUaXBzICovfVxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgXG4gICAgICAgICAgICBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS1sZyknLCBcbiAgICAgICAgICAgIHBhZGRpbmc6ICd2YXIoLS1zcGFjZS1tZCknLCBcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICdsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1jb2xvci1wcmltYXJ5KSAwJSwgdmFyKC0tY29sb3Itc2Vjb25kYXJ5KSAxMDAlKScsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6ICd2YXIoLS1yYWRpdXMtbWQpJyxcbiAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnXG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8aDQgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2Utc20pJywgY29sb3I6ICd3aGl0ZScgfX0+XG4gICAgICAgICAgICAgIPCfkqEgUHJvIFRpcHNcbiAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICA8dWwgc3R5bGU9e3sgXG4gICAgICAgICAgICAgIG1hcmdpbjogMCwgXG4gICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiAnMjBweCcsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXNtKScsXG4gICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnXG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgPGxpPlVzZSA8c3Ryb25nPkN0cmwrWi9DdHJsK1k8L3N0cm9uZz4gdG8gcXVpY2tseSBleHBlcmltZW50IHdpdGggZGlmZmVyZW50IHJlZGFjdGlvbiBzdHlsZXM8L2xpPlxuICAgICAgICAgICAgICA8bGk+VGhlIGZsb2F0aW5nIHVuZG8vcmVkbyBjb250cm9scyBhcHBlYXIgd2hlbiB5b3UncmUgd29ya2luZyB3aXRoIGZpbGVzPC9saT5cbiAgICAgICAgICAgICAgPGxpPlByZXNzIDxzdHJvbmc+Pzwvc3Ryb25nPiBhbnl0aW1lIHRvIHF1aWNrbHkgcmVmZXJlbmNlIHRoZXNlIHNob3J0Y3V0czwvbGk+XG4gICAgICAgICAgICAgIDxsaT5BbGwgc2hvcnRjdXRzIHdvcmsgZXZlbiB3aGVuIG5vdCBmb2N1c2VkIG9uIGJ1dHRvbnMgLSBwZXJmZWN0IGZvciBwb3dlciB1c2VyczwvbGk+XG4gICAgICAgICAgICAgIDxsaT5Zb3VyIGFjdGlvbiBoaXN0b3J5IHBlcnNpc3RzIGFjcm9zcyBicm93c2VyIHNlc3Npb25zPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1mb290ZXJcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJywgYWxpZ25JdGVtczogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXNtKScsIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyB9fT5cbiAgICAgICAgICAgICAgUHJlc3MgPGtiZCBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6ICcycHggNHB4JyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tYmctc2Vjb25kYXJ5KScsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJvcmRlci1saWdodCknLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzJweCcsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUteHMpJ1xuICAgICAgICAgICAgICB9fT5Fc2NhcGU8L2tiZD4gb3IgY2xpY2sgQ2xvc2UgdG8gZGlzbWlzc1xuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiPlxuICAgICAgICAgICAgICBDbG9zZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsIlNIT1JUQ1VUX1NFQ1RJT05TIiwidGl0bGUiLCJzaG9ydGN1dHMiLCJrZXlzIiwiZGVzY3JpcHRpb24iLCJjb250ZXh0IiwiS2V5Ym9hcmRTaG9ydGN1dHNIZWxwIiwiaXNPcGVuIiwib25DbG9zZSIsInJlbmRlcktleUNvbWJvIiwic3R5bGUiLCJkaXNwbGF5IiwiZ2FwIiwiYWxpZ25JdGVtcyIsImNoaWxkcmVuIiwibWFwIiwia2V5IiwiaW5kZXgiLCJGcmFnbWVudCIsInBhZGRpbmciLCJiYWNrZ3JvdW5kIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwibWluV2lkdGgiLCJ0ZXh0QWxpZ24iLCJsZW5ndGgiLCJtYXJnaW4iLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsImp1c3RpZnlDb250ZW50IiwiekluZGV4IiwiY2xhc3NOYW1lIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJvdmVyZmxvdyIsImZsZXhEaXJlY3Rpb24iLCJmbGV4Iiwic2VjdGlvbiIsIm1hcmdpbkJvdHRvbSIsImNvbG9yIiwiYm9yZGVyQm90dG9tIiwicGFkZGluZ0JvdHRvbSIsInNob3J0Y3V0IiwiZm9udFdlaWdodCIsIm1hcmdpblRvcCIsInBhZGRpbmdMZWZ0Iiwib25DbGljayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/KeyboardShortcutsHelp.tsx\n");

/***/ }),

/***/ "./src/components/PresetManager.tsx":
/*!******************************************!*\
  !*** ./src/components/PresetManager.tsx ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PresetManager)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @cleanshare/core-detect */ \"../core-detect/dist/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"react/jsx-runtime\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__]);\n_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst DETECTION_KINDS = ['FACE', 'EMAIL', 'PHONE', 'PAN', 'IBAN', 'SSN', 'PASSPORT', 'JWT', 'API_KEY', 'BARCODE', 'NAME', 'ADDRESS', 'OTHER'];\nconst REDACTION_STYLES = ['BOX', 'BLUR', 'PIXELATE', 'LABEL', 'MASK_LAST4', 'PATTERN', 'GRADIENT', 'SOLID_COLOR', 'VECTOR_OVERLAY', 'REMOVE_METADATA'];\nconst DOMAINS = ['Healthcare', 'Finance', 'Legal', 'Government', 'Education', 'Technology', 'General'];\nfunction PresetManager({\n  isOpen,\n  onClose,\n  currentPresetId,\n  onPresetSelect\n}) {\n  const [presets, setPresets] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [selectedTab, setSelectedTab] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('browse');\n  const [editingPreset, setEditingPreset] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [filterDomain, setFilterDomain] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [importText, setImportText] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [importResults, setImportResults] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [exportResult, setExportResult] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n\n  // Load presets when modal opens\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (isOpen) {\n      setPresets((0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.listPresets)());\n    }\n  }, [isOpen]);\n  const refreshPresets = () => {\n    setPresets((0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.listPresets)());\n  };\n  const filteredPresets = presets.filter(preset => {\n    const matchesDomain = !filterDomain || preset.domain === filterDomain;\n    const matchesSearch = !searchQuery || preset.name.toLowerCase().includes(searchQuery.toLowerCase()) || preset.description && preset.description.toLowerCase().includes(searchQuery.toLowerCase());\n    return matchesDomain && matchesSearch;\n  });\n  const handleCreateNew = () => {\n    const newPreset = {\n      id: '',\n      name: 'New Preset',\n      description: '',\n      domain: 'General',\n      enabledKinds: ['EMAIL', 'PHONE'],\n      styleMap: {},\n      customRegex: [],\n      customPatterns: [],\n      defaultRedactionConfig: {\n        color: '#000000',\n        opacity: 0.9\n      },\n      confidenceThreshold: 0.6\n    };\n    setEditingPreset(newPreset);\n    setSelectedTab('edit');\n  };\n  const handleEdit = preset => {\n    setEditingPreset({\n      ...preset\n    });\n    setSelectedTab('edit');\n  };\n  const handleDuplicate = preset => {\n    const duplicated = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.duplicatePreset)(preset.id);\n    if (duplicated) {\n      refreshPresets();\n      setEditingPreset(duplicated);\n      setSelectedTab('edit');\n    }\n  };\n  const handleDelete = presetId => {\n    if (window.confirm('Are you sure you want to delete this preset?')) {\n      const deleted = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.deletePreset)(presetId);\n      if (deleted) {\n        refreshPresets();\n        // Switch to default preset if current was deleted\n        if (presetId === currentPresetId) {\n          onPresetSelect('all');\n        }\n      } else {\n        alert('Cannot delete built-in presets');\n      }\n    }\n  };\n  const handleSavePreset = () => {\n    if (!editingPreset) return;\n    try {\n      (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.savePreset)(editingPreset);\n      refreshPresets();\n      setEditingPreset(null);\n      setSelectedTab('browse');\n    } catch (error) {\n      alert(`Failed to save preset: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  };\n  const handleImport = () => {\n    if (!importText.trim()) return;\n    try {\n      // Try single preset first\n      let results = [(0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.importPreset)(importText)];\n\n      // If that fails, try multiple presets\n      if (!results[0].success) {\n        results = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.importMultiplePresets)(importText);\n      }\n      setImportResults(results);\n      if (results.some(r => r.success)) {\n        refreshPresets();\n      }\n    } catch (error) {\n      setImportResults([{\n        success: false,\n        errors: [`Import failed: ${error instanceof Error ? error.message : 'Unknown error'}`],\n        warnings: []\n      }]);\n    }\n  };\n  const handleExportPreset = presetId => {\n    const exported = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.exportPreset)(presetId, {\n      format: 'json',\n      includeMetadata: false\n    });\n    if (exported) {\n      setExportResult(exported);\n      setSelectedTab('export');\n    }\n  };\n  const handleExportAll = () => {\n    const exported = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.exportAllUserPresets)({\n      format: 'json',\n      includeMetadata: false\n    });\n    setExportResult(exported);\n    setSelectedTab('export');\n  };\n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(exportResult);\n    alert('Copied to clipboard!');\n  };\n  const downloadAsFile = () => {\n    const blob = new Blob([exportResult], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = 'cleanshare-presets.json';\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000,\n      padding: 'var(--space-md)'\n    },\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n      className: \"card\",\n      style: {\n        minWidth: '800px',\n        maxWidth: '95vw',\n        maxHeight: '90vh',\n        overflow: 'hidden',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", {\n          className: \"card-title\",\n          children: \"Preset Manager\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n          className: \"card-subtitle\",\n          children: \"Create, edit, and manage detection presets\"\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        style: {\n          borderBottom: '1px solid var(--border-light)',\n          display: 'flex',\n          gap: '1px',\n          background: 'var(--bg-secondary)'\n        },\n        children: ['browse', 'edit', 'import', 'export'].map(tab => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"button\", {\n          onClick: () => setSelectedTab(tab),\n          style: {\n            padding: 'var(--space-sm) var(--space-md)',\n            border: 'none',\n            background: selectedTab === tab ? 'var(--bg-primary)' : 'transparent',\n            color: selectedTab === tab ? 'var(--text-primary)' : 'var(--text-secondary)',\n            borderBottom: selectedTab === tab ? '2px solid var(--color-primary)' : '2px solid transparent',\n            cursor: 'pointer',\n            fontWeight: selectedTab === tab ? '600' : '400',\n            textTransform: 'capitalize'\n          },\n          children: [tab, \" \", tab === 'edit' && editingPreset && '✏️']\n        }, tab))\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"card-body\",\n        style: {\n          flex: 1,\n          overflow: 'auto'\n        },\n        children: [selectedTab === 'browse' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 'var(--space-md)',\n              marginBottom: 'var(--space-lg)',\n              flexWrap: 'wrap',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n              type: \"text\",\n              placeholder: \"Search presets...\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value),\n              className: \"form-input\",\n              style: {\n                flex: 1,\n                minWidth: '200px'\n              }\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"select\", {\n              value: filterDomain,\n              onChange: e => setFilterDomain(e.target.value),\n              className: \"form-select\",\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"option\", {\n                value: \"\",\n                children: \"All Domains\"\n              }), DOMAINS.map(domain => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"option\", {\n                value: domain,\n                children: domain\n              }, domain))]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n              onClick: handleCreateNew,\n              className: \"btn btn-primary\",\n              children: \"\\u2795 Create New\"\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 'var(--space-md)'\n            },\n            children: filteredPresets.map(preset => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              style: {\n                padding: 'var(--space-md)',\n                border: `2px solid ${preset.id === currentPresetId ? 'var(--color-primary)' : 'var(--border-light)'}`,\n                borderRadius: 'var(--radius-md)',\n                background: preset.id === currentPresetId ? 'var(--bg-secondary)' : 'var(--bg-primary)'\n              },\n              children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'flex-start'\n                },\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                    style: {\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: 'var(--space-sm)',\n                      marginBottom: 'var(--space-xs)'\n                    },\n                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n                      style: {\n                        margin: 0,\n                        fontSize: 'var(--font-size-lg)'\n                      },\n                      children: preset.name\n                    }), preset.domain && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                      style: {\n                        padding: '2px 6px',\n                        background: 'var(--color-primary)',\n                        color: 'white',\n                        borderRadius: '3px',\n                        fontSize: 'var(--font-size-xs)'\n                      },\n                      children: preset.domain\n                    }), !preset.isUserCreated && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                      style: {\n                        padding: '2px 6px',\n                        background: 'var(--color-secondary)',\n                        color: 'white',\n                        borderRadius: '3px',\n                        fontSize: 'var(--font-size-xs)'\n                      },\n                      children: \"Built-in\"\n                    })]\n                  }), preset.description && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n                    style: {\n                      margin: '0 0 var(--space-sm) 0',\n                      color: 'var(--text-secondary)',\n                      fontSize: 'var(--font-size-sm)'\n                    },\n                    children: preset.description\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                    style: {\n                      fontSize: 'var(--font-size-xs)',\n                      color: 'var(--text-secondary)'\n                    },\n                    children: [preset.enabledKinds.length, \" detectors \\u2022 Confidence: \", Math.round((preset.confidenceThreshold || 0.6) * 100), \"%\", preset.customPatterns && preset.customPatterns.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                      children: [\" \\u2022 \", preset.customPatterns.length, \" custom patterns\"]\n                    })]\n                  })]\n                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: 'var(--space-xs)',\n                    flexShrink: 0\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                    onClick: () => onPresetSelect(preset.id),\n                    className: `btn btn-sm ${preset.id === currentPresetId ? 'btn-secondary' : 'btn-primary'}`,\n                    children: preset.id === currentPresetId ? '✓ Active' : 'Use'\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                    onClick: () => handleEdit(preset),\n                    className: \"btn btn-outline btn-sm\",\n                    children: \"Edit\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                    onClick: () => handleDuplicate(preset),\n                    className: \"btn btn-outline btn-sm\",\n                    children: \"Copy\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                    onClick: () => handleExportPreset(preset.id),\n                    className: \"btn btn-outline btn-sm\",\n                    children: \"Export\"\n                  }), preset.isUserCreated && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                    onClick: () => handleDelete(preset.id),\n                    className: \"btn btn-outline btn-sm\",\n                    style: {\n                      color: 'var(--color-error)'\n                    },\n                    children: \"Delete\"\n                  })]\n                })]\n              })\n            }, preset.id))\n          }), filteredPresets.length === 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n            style: {\n              textAlign: 'center',\n              padding: 'var(--space-xl)',\n              color: 'var(--text-secondary)'\n            },\n            children: \"No presets match your search criteria\"\n          })]\n        }), selectedTab === 'edit' && editingPreset && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(EditPresetForm, {\n          preset: editingPreset,\n          onChange: setEditingPreset,\n          onSave: handleSavePreset,\n          onCancel: () => {\n            setEditingPreset(null);\n            setSelectedTab('browse');\n          }\n        }), selectedTab === 'import' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n            style: {\n              marginBottom: 'var(--space-md)'\n            },\n            children: \"Import Presets\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            style: {\n              marginBottom: 'var(--space-md)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: 'var(--space-xs)',\n                fontWeight: '600'\n              },\n              children: \"JSON Data\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"textarea\", {\n              value: importText,\n              onChange: e => setImportText(e.target.value),\n              placeholder: \"Paste preset JSON data here...\",\n              style: {\n                width: '100%',\n                height: '200px',\n                padding: 'var(--space-sm)',\n                border: '1px solid var(--border-light)',\n                borderRadius: 'var(--radius-sm)',\n                fontFamily: 'monospace',\n                fontSize: 'var(--font-size-sm)'\n              }\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 'var(--space-sm)',\n              marginBottom: 'var(--space-lg)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n              onClick: handleImport,\n              className: \"btn btn-primary\",\n              children: \"Import Presets\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n              onClick: () => setImportText(''),\n              className: \"btn btn-outline\",\n              children: \"Clear\"\n            })]\n          }), importResults.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n              style: {\n                marginBottom: 'var(--space-sm)'\n              },\n              children: \"Import Results\"\n            }), importResults.map((result, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              style: {\n                padding: 'var(--space-sm)',\n                border: `1px solid ${result.success ? 'var(--color-success)' : 'var(--color-error)'}`,\n                borderRadius: 'var(--radius-sm)',\n                background: result.success ? 'var(--bg-success)' : 'var(--bg-error)',\n                marginBottom: 'var(--space-sm)'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                style: {\n                  fontWeight: '600'\n                },\n                children: [result.success ? '✅ Success' : '❌ Failed', result.preset && `: ${result.preset.name}`]\n              }), result.errors.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", {\n                style: {\n                  margin: 'var(--space-xs) 0 0 0',\n                  paddingLeft: '20px'\n                },\n                children: result.errors.map((error, i) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n                  style: {\n                    color: 'var(--color-error)'\n                  },\n                  children: error\n                }, i))\n              }), result.warnings.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", {\n                style: {\n                  margin: 'var(--space-xs) 0 0 0',\n                  paddingLeft: '20px'\n                },\n                children: result.warnings.map((warning, i) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n                  style: {\n                    color: 'var(--color-warning)'\n                  },\n                  children: warning\n                }, i))\n              })]\n            }, index))]\n          })]\n        }), selectedTab === 'export' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n            style: {\n              marginBottom: 'var(--space-md)'\n            },\n            children: \"Export Presets\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 'var(--space-sm)',\n              marginBottom: 'var(--space-lg)'\n            },\n            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n              onClick: handleExportAll,\n              className: \"btn btn-primary\",\n              children: \"Export All User Presets\"\n            })\n          }), exportResult && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              style: {\n                display: 'flex',\n                gap: 'var(--space-sm)',\n                marginBottom: 'var(--space-sm)'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                onClick: copyToClipboard,\n                className: \"btn btn-secondary\",\n                children: \"\\uD83D\\uDCCB Copy to Clipboard\"\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                onClick: downloadAsFile,\n                className: \"btn btn-secondary\",\n                children: \"\\uD83D\\uDCBE Download File\"\n              })]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"textarea\", {\n              readOnly: true,\n              value: exportResult,\n              style: {\n                width: '100%',\n                height: '300px',\n                padding: 'var(--space-sm)',\n                border: '1px solid var(--border-light)',\n                borderRadius: 'var(--radius-sm)',\n                fontFamily: 'monospace',\n                fontSize: 'var(--font-size-sm)',\n                background: 'var(--bg-secondary)'\n              }\n            })]\n          })]\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        className: \"card-footer\",\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            style: {\n              fontSize: 'var(--font-size-sm)',\n              color: 'var(--text-secondary)'\n            },\n            children: [presets.filter(p => p.isUserCreated).length, \" user presets \\u2022 \", presets.filter(p => !p.isUserCreated).length, \" built-in\"]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n            onClick: onClose,\n            className: \"btn btn-ghost\",\n            children: \"Close\"\n          })]\n        })\n      })]\n    })\n  });\n}\n\n// Edit Preset Form Component\nfunction EditPresetForm({\n  preset,\n  onChange,\n  onSave,\n  onCancel\n}) {\n  const [activeSection, setActiveSection] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('basic');\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: 'var(--space-lg)'\n      },\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n        children: preset.id ? 'Edit Preset' : 'Create New Preset'\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 'var(--space-sm)'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n          onClick: onSave,\n          className: \"btn btn-primary\",\n          children: \"\\uD83D\\uDCBE Save Preset\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n          onClick: onCancel,\n          className: \"btn btn-outline\",\n          children: \"Cancel\"\n        })]\n      })]\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 'var(--space-xs)',\n        marginBottom: 'var(--space-lg)',\n        flexWrap: 'wrap'\n      },\n      children: ['basic', 'detectors', 'styles', 'patterns', 'advanced'].map(section => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n        onClick: () => setActiveSection(section),\n        className: `btn btn-sm ${activeSection === section ? 'btn-primary' : 'btn-outline'}`,\n        children: section.charAt(0).toUpperCase() + section.slice(1)\n      }, section))\n    }), activeSection === 'basic' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 'var(--space-md)'\n      },\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 'var(--space-xs)',\n            fontWeight: '600'\n          },\n          children: \"Name *\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n          type: \"text\",\n          value: preset.name,\n          onChange: e => onChange({\n            ...preset,\n            name: e.target.value\n          }),\n          className: \"form-input\",\n          placeholder: \"Enter preset name\"\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 'var(--space-xs)',\n            fontWeight: '600'\n          },\n          children: \"Description\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"textarea\", {\n          value: preset.description || '',\n          onChange: e => onChange({\n            ...preset,\n            description: e.target.value\n          }),\n          className: \"form-input\",\n          placeholder: \"Describe what this preset is for\",\n          rows: 3\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 'var(--space-xs)',\n            fontWeight: '600'\n          },\n          children: \"Domain\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"select\", {\n          value: preset.domain || 'General',\n          onChange: e => onChange({\n            ...preset,\n            domain: e.target.value\n          }),\n          className: \"form-select\",\n          children: DOMAINS.map(domain => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"option\", {\n            value: domain,\n            children: domain\n          }, domain))\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 'var(--space-xs)',\n            fontWeight: '600'\n          },\n          children: [\"Confidence Threshold: \", Math.round((preset.confidenceThreshold || 0.6) * 100), \"%\"]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n          type: \"range\",\n          min: \"0\",\n          max: \"1\",\n          step: \"0.05\",\n          value: preset.confidenceThreshold || 0.6,\n          onChange: e => onChange({\n            ...preset,\n            confidenceThreshold: parseFloat(e.target.value)\n          }),\n          style: {\n            width: '100%'\n          }\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n          style: {\n            fontSize: 'var(--font-size-xs)',\n            color: 'var(--text-secondary)'\n          },\n          children: \"Only show detections above this confidence level\"\n        })]\n      })]\n    }), activeSection === 'detectors' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n        style: {\n          marginBottom: 'var(--space-md)'\n        },\n        children: \"Enabled Detection Types\"\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',\n          gap: 'var(--space-sm)'\n        },\n        children: DETECTION_KINDS.map(kind => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"label\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 'var(--space-xs)'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n            type: \"checkbox\",\n            checked: preset.enabledKinds.includes(kind),\n            onChange: e => {\n              const updated = e.target.checked ? [...preset.enabledKinds, kind] : preset.enabledKinds.filter(k => k !== kind);\n              onChange({\n                ...preset,\n                enabledKinds: updated\n              });\n            }\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n            style: {\n              fontSize: 'var(--font-size-sm)'\n            },\n            children: kind\n          })]\n        }, kind))\n      })]\n    }), activeSection === 'styles' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n        style: {\n          marginBottom: 'var(--space-md)'\n        },\n        children: \"Default Redaction Styles\"\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 'var(--space-md)'\n        },\n        children: preset.enabledKinds.map(kind => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 'var(--space-md)'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"span\", {\n            style: {\n              minWidth: '120px',\n              fontWeight: '600'\n            },\n            children: [kind, \":\"]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"select\", {\n            value: preset.styleMap?.[kind] || 'BOX',\n            onChange: e => onChange({\n              ...preset,\n              styleMap: {\n                ...preset.styleMap,\n                [kind]: e.target.value\n              }\n            }),\n            className: \"form-select\",\n            style: {\n              minWidth: '150px'\n            },\n            children: REDACTION_STYLES.map(style => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"option\", {\n              value: style,\n              children: style\n            }, style))\n          })]\n        }, kind))\n      })]\n    }), activeSection === 'patterns' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n        style: {\n          marginBottom: 'var(--space-md)'\n        },\n        children: \"Custom Detection Patterns\"\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        style: {\n          marginBottom: 'var(--space-md)'\n        },\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n          onClick: () => {\n            const newPattern = {\n              id: `pattern_${Date.now()}`,\n              name: 'New Pattern',\n              pattern: '',\n              kind: 'OTHER',\n              confidence: 0.8,\n              description: '',\n              caseSensitive: false\n            };\n            onChange({\n              ...preset,\n              customPatterns: [...(preset.customPatterns || []), newPattern]\n            });\n          },\n          className: \"btn btn-primary btn-sm\",\n          children: \"\\u2795 Add Pattern\"\n        })\n      }), (preset.customPatterns || []).map((pattern, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        style: {\n          padding: 'var(--space-md)',\n          border: '1px solid var(--border-light)',\n          borderRadius: 'var(--radius-md)',\n          marginBottom: 'var(--space-md)'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: 'var(--space-sm)'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"h6\", {\n            style: {\n              margin: 0\n            },\n            children: [\"Pattern \", index + 1]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n            onClick: () => {\n              const updated = preset.customPatterns?.filter((_, i) => i !== index) || [];\n              onChange({\n                ...preset,\n                customPatterns: updated\n              });\n            },\n            className: \"btn btn-outline btn-sm\",\n            style: {\n              color: 'var(--color-error)'\n            },\n            children: \"Remove\"\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: 'var(--space-md)',\n            marginBottom: 'var(--space-sm)'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n              children: \"Name\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n              type: \"text\",\n              value: pattern.name,\n              onChange: e => {\n                const updated = [...(preset.customPatterns || [])];\n                updated[index] = {\n                  ...pattern,\n                  name: e.target.value\n                };\n                onChange({\n                  ...preset,\n                  customPatterns: updated\n                });\n              },\n              className: \"form-input\"\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n              children: \"Kind\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"select\", {\n              value: pattern.kind,\n              onChange: e => {\n                const updated = [...(preset.customPatterns || [])];\n                updated[index] = {\n                  ...pattern,\n                  kind: e.target.value\n                };\n                onChange({\n                  ...preset,\n                  customPatterns: updated\n                });\n              },\n              className: \"form-select\",\n              children: DETECTION_KINDS.map(kind => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"option\", {\n                value: kind,\n                children: kind\n              }, kind))\n            })]\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            marginBottom: 'var(--space-sm)'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n            children: \"Regular Expression Pattern\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n            type: \"text\",\n            value: pattern.pattern,\n            onChange: e => {\n              const updated = [...(preset.customPatterns || [])];\n              updated[index] = {\n                ...pattern,\n                pattern: e.target.value\n              };\n              onChange({\n                ...preset,\n                customPatterns: updated\n              });\n            },\n            className: \"form-input\",\n            placeholder: \"e.g., \\\\\\\\b\\\\\\\\d{3}-\\\\\\\\d{2}-\\\\\\\\d{4}\\\\\\\\b\",\n            style: {\n              fontFamily: 'monospace'\n            }\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr auto auto',\n            gap: 'var(--space-md)'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n              children: \"Description\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n              type: \"text\",\n              value: pattern.description,\n              onChange: e => {\n                const updated = [...(preset.customPatterns || [])];\n                updated[index] = {\n                  ...pattern,\n                  description: e.target.value\n                };\n                onChange({\n                  ...preset,\n                  customPatterns: updated\n                });\n              },\n              className: \"form-input\"\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n              children: \"Confidence\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n              type: \"number\",\n              min: \"0\",\n              max: \"1\",\n              step: \"0.1\",\n              value: pattern.confidence,\n              onChange: e => {\n                const updated = [...(preset.customPatterns || [])];\n                updated[index] = {\n                  ...pattern,\n                  confidence: parseFloat(e.target.value)\n                };\n                onChange({\n                  ...preset,\n                  customPatterns: updated\n                });\n              },\n              className: \"form-input\",\n              style: {\n                width: '80px'\n              }\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n              children: \"Case Sensitive\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n              type: \"checkbox\",\n              checked: pattern.caseSensitive || false,\n              onChange: e => {\n                const updated = [...(preset.customPatterns || [])];\n                updated[index] = {\n                  ...pattern,\n                  caseSensitive: e.target.checked\n                };\n                onChange({\n                  ...preset,\n                  customPatterns: updated\n                });\n              },\n              style: {\n                marginTop: 'var(--space-sm)'\n              }\n            })]\n          })]\n        })]\n      }, pattern.id))]\n    }), activeSection === 'advanced' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 'var(--space-md)'\n      },\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n          children: \"Default Redaction Configuration\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: 'var(--space-md)'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n              children: \"Color\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n              type: \"color\",\n              value: preset.defaultRedactionConfig?.color || '#000000',\n              onChange: e => onChange({\n                ...preset,\n                defaultRedactionConfig: {\n                  ...preset.defaultRedactionConfig,\n                  color: e.target.value\n                }\n              }),\n              className: \"form-input\"\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"label\", {\n              children: [\"Opacity: \", Math.round((preset.defaultRedactionConfig?.opacity || 0.9) * 100), \"%\"]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n              type: \"range\",\n              min: \"0\",\n              max: \"1\",\n              step: \"0.1\",\n              value: preset.defaultRedactionConfig?.opacity || 0.9,\n              onChange: e => onChange({\n                ...preset,\n                defaultRedactionConfig: {\n                  ...preset.defaultRedactionConfig,\n                  opacity: parseFloat(e.target.value)\n                }\n              })\n            })]\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            marginTop: 'var(--space-md)'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"label\", {\n            children: \"Default Label Text\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n            type: \"text\",\n            value: preset.defaultRedactionConfig?.labelText || '',\n            onChange: e => onChange({\n              ...preset,\n              defaultRedactionConfig: {\n                ...preset.defaultRedactionConfig,\n                labelText: e.target.value\n              }\n            }),\n            className: \"form-input\",\n            placeholder: \"[REDACTED]\"\n          })]\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n          children: \"Legacy Custom Regex (Deprecated)\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n          style: {\n            fontSize: 'var(--font-size-sm)',\n            color: 'var(--text-secondary)',\n            marginBottom: 'var(--space-sm)'\n          },\n          children: \"Use Custom Patterns instead for better control\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"textarea\", {\n          value: preset.customRegex?.join('\\n') || '',\n          onChange: e => onChange({\n            ...preset,\n            customRegex: e.target.value.split('\\n').filter(line => line.trim())\n          }),\n          className: \"form-input\",\n          rows: 4,\n          placeholder: \"One regex pattern per line\",\n          style: {\n            fontFamily: 'monospace'\n          }\n        })]\n      })]\n    })]\n  });\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxzREFBQTtVQUFLK0YsS0FBSyxFQUFFO1lBQUVzQyxRQUFRLEVBQUUscUJBQXFCO1lBQUVyRixLQUFLLEVBQUUsdUJBQXVCO1lBQUU0RSxZQUFZLEVBQUU7VUFBa0IsQ0FBRTtVQUFBakIsUUFBQSxFQUFDO1FBRWxILENBQUssQ0FBQyxlQUNOM0csc0RBQUE7VUFDRStILEtBQUssRUFBRS9GLE1BQU0sQ0FBQ2EsV0FBVyxFQUFFcUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUc7VUFDNUNsRCxRQUFRLEVBQUdDLENBQUMsSUFBS0QsUUFBUSxDQUFDO1lBQ3hCLEdBQUdoRyxNQUFNO1lBQ1RhLFdBQVcsRUFBRW9GLENBQUMsQ0FBQ0MsTUFBTSxDQUFDSCxLQUFLLENBQUNvRCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUNwSixNQUFNLENBQUNxSixJQUFJLElBQUlBLElBQUksQ0FBQ25ILElBQUksQ0FBQyxDQUFDO1VBQ3BFLENBQUMsQ0FBRTtVQUNIMkMsU0FBUyxFQUFDLFlBQVk7VUFDdEJtRCxJQUFJLEVBQUUsQ0FBRTtVQUNSakMsV0FBVyxFQUFDLDRCQUE0QjtVQUN4Qy9CLEtBQUssRUFBRTtZQUFFa0QsVUFBVSxFQUFFO1VBQVk7UUFBRSxDQUNwQyxDQUFDO01BQUEsQ0FDQyxDQUFDO0lBQUEsQ0FDSCxDQUNOO0VBQUEsQ0FDRSxDQUFDO0FBRVYsQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BjbGVhbnNoYXJlL3VpLy4vc3JjL2NvbXBvbmVudHMvUHJlc2V0TWFuYWdlci50c3g/NDIxNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHsgUHJlc2V0LCBDdXN0b21QYXR0ZXJuLCBEZXRlY3Rpb25LaW5kLCBSZWRhY3Rpb25TdHlsZSB9IGZyb20gJ0BjbGVhbnNoYXJlL2NvcmUtZGV0ZWN0JztcbmltcG9ydCB7XG4gIGxpc3RQcmVzZXRzLFxuICBsaXN0QnVpbHRpblByZXNldHMsXG4gIGxpc3RVc2VyUHJlc2V0cyxcbiAgbGlzdFByZXNldHNCeURvbWFpbixcbiAgZ2V0UHJlc2V0LFxuICBzYXZlUHJlc2V0LFxuICBjcmVhdGVQcmVzZXQsXG4gIGR1cGxpY2F0ZVByZXNldCxcbiAgZGVsZXRlUHJlc2V0LFxuICBpbXBvcnRQcmVzZXQsXG4gIGV4cG9ydFByZXNldCxcbiAgZXhwb3J0QWxsVXNlclByZXNldHMsXG4gIGltcG9ydE11bHRpcGxlUHJlc2V0cyxcbiAgcmVzZXRVc2VyUHJlc2V0cyxcbiAgdmFsaWRhdGVQcmVzZXQsXG4gIHR5cGUgUHJlc2V0SW1wb3J0UmVzdWx0XG59IGZyb20gJ0BjbGVhbnNoYXJlL2NvcmUtZGV0ZWN0JztcblxuaW50ZXJmYWNlIFByZXNldE1hbmFnZXJQcm9wcyB7XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgY3VycmVudFByZXNldElkOiBzdHJpbmc7XG4gIG9uUHJlc2V0U2VsZWN0OiAocHJlc2V0SWQ6IHN0cmluZykgPT4gdm9pZDtcbn1cblxudHlwZSBUYWJUeXBlID0gJ2Jyb3dzZScgfCAnZWRpdCcgfCAnaW1wb3J0JyB8ICdleHBvcnQnO1xuXG5jb25zdCBERVRFQ1RJT05fS0lORFM6IERldGVjdGlvbktpbmRbXSA9IFtcbiAgJ0ZBQ0UnLCAnRU1BSUwnLCAnUEhPTkUnLCAnUEFOJywgJ0lCQU4nLCAnU1NOJywgJ1BBU1NQT1JUJywgXG4gICdKV1QnLCAnQVBJX0tFWScsICdCQVJDT0RFJywgJ05BTUUnLCAnQUREUkVTUycsICdPVEhFUidcbl07XG5cbmNvbnN0IFJFREFDVElPTl9TVFlMRVM6IFJlZGFjdGlvblN0eWxlW10gPSBbXG4gICdCT1gnLCAnQkxVUicsICdQSVhFTEFURScsICdMQUJFTCcsICdNQVNLX0xBU1Q0JywgJ1BBVFRFUk4nLCBcbiAgJ0dSQURJRU5UJywgJ1NPTElEX0NPTE9SJywgJ1ZFQ1RPUl9PVkVSTEFZJywgJ1JFTU9WRV9NRVRBREFUQSdcbl07XG5cbmNvbnN0IERPTUFJTlMgPSBbJ0hlYWx0aGNhcmUnLCAnRmluYW5jZScsICdMZWdhbCcsICdHb3Zlcm5tZW50JywgJ0VkdWNhdGlvbicsICdUZWNobm9sb2d5JywgJ0dlbmVyYWwnXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUHJlc2V0TWFuYWdlcih7IGlzT3Blbiwgb25DbG9zZSwgY3VycmVudFByZXNldElkLCBvblByZXNldFNlbGVjdCB9OiBQcmVzZXRNYW5hZ2VyUHJvcHMpIHtcbiAgY29uc3QgW3ByZXNldHMsIHNldFByZXNldHNdID0gdXNlU3RhdGU8UHJlc2V0W10+KFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkVGFiLCBzZXRTZWxlY3RlZFRhYl0gPSB1c2VTdGF0ZTxUYWJUeXBlPignYnJvd3NlJyk7XG4gIGNvbnN0IFtlZGl0aW5nUHJlc2V0LCBzZXRFZGl0aW5nUHJlc2V0XSA9IHVzZVN0YXRlPFByZXNldCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZmlsdGVyRG9tYWluLCBzZXRGaWx0ZXJEb21haW5dID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtpbXBvcnRUZXh0LCBzZXRJbXBvcnRUZXh0XSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbaW1wb3J0UmVzdWx0cywgc2V0SW1wb3J0UmVzdWx0c10gPSB1c2VTdGF0ZTxQcmVzZXRJbXBvcnRSZXN1bHRbXT4oW10pO1xuICBjb25zdCBbZXhwb3J0UmVzdWx0LCBzZXRFeHBvcnRSZXN1bHRdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG5cbiAgLy8gTG9hZCBwcmVzZXRzIHdoZW4gbW9kYWwgb3BlbnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICBzZXRQcmVzZXRzKGxpc3RQcmVzZXRzKCkpO1xuICAgIH1cbiAgfSwgW2lzT3Blbl0pO1xuXG4gIGNvbnN0IHJlZnJlc2hQcmVzZXRzID0gKCkgPT4ge1xuICAgIHNldFByZXNldHMobGlzdFByZXNldHMoKSk7XG4gIH07XG5cbiAgY29uc3QgZmlsdGVyZWRQcmVzZXRzID0gcHJlc2V0cy5maWx0ZXIocHJlc2V0ID0+IHtcbiAgICBjb25zdCBtYXRjaGVzRG9tYWluID0gIWZpbHRlckRvbWFpbiB8fCBwcmVzZXQuZG9tYWluID09PSBmaWx0ZXJEb21haW47XG4gICAgY29uc3QgbWF0Y2hlc1NlYXJjaCA9ICFzZWFyY2hRdWVyeSB8fCBcbiAgICAgIHByZXNldC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgIChwcmVzZXQuZGVzY3JpcHRpb24gJiYgcHJlc2V0LmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSkpO1xuICAgIHJldHVybiBtYXRjaGVzRG9tYWluICYmIG1hdGNoZXNTZWFyY2g7XG4gIH0pO1xuXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU5ldyA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdQcmVzZXQ6IFByZXNldCA9IHtcbiAgICAgIGlkOiAnJyxcbiAgICAgIG5hbWU6ICdOZXcgUHJlc2V0JyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICAgIGRvbWFpbjogJ0dlbmVyYWwnLFxuICAgICAgZW5hYmxlZEtpbmRzOiBbJ0VNQUlMJywgJ1BIT05FJ10sXG4gICAgICBzdHlsZU1hcDoge30sXG4gICAgICBjdXN0b21SZWdleDogW10sXG4gICAgICBjdXN0b21QYXR0ZXJuczogW10sXG4gICAgICBkZWZhdWx0UmVkYWN0aW9uQ29uZmlnOiB7XG4gICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgIG9wYWNpdHk6IDAuOVxuICAgICAgfSxcbiAgICAgIGNvbmZpZGVuY2VUaHJlc2hvbGQ6IDAuNlxuICAgIH07XG4gICAgc2V0RWRpdGluZ1ByZXNldChuZXdQcmVzZXQpO1xuICAgIHNldFNlbGVjdGVkVGFiKCdlZGl0Jyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRWRpdCA9IChwcmVzZXQ6IFByZXNldCkgPT4ge1xuICAgIHNldEVkaXRpbmdQcmVzZXQoeyAuLi5wcmVzZXQgfSk7XG4gICAgc2V0U2VsZWN0ZWRUYWIoJ2VkaXQnKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEdXBsaWNhdGUgPSAocHJlc2V0OiBQcmVzZXQpID0+IHtcbiAgICBjb25zdCBkdXBsaWNhdGVkID0gZHVwbGljYXRlUHJlc2V0KHByZXNldC5pZCk7XG4gICAgaWYgKGR1cGxpY2F0ZWQpIHtcbiAgICAgIHJlZnJlc2hQcmVzZXRzKCk7XG4gICAgICBzZXRFZGl0aW5nUHJlc2V0KGR1cGxpY2F0ZWQpO1xuICAgICAgc2V0U2VsZWN0ZWRUYWIoJ2VkaXQnKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVsZXRlID0gKHByZXNldElkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAod2luZG93LmNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBwcmVzZXQ/JykpIHtcbiAgICAgIGNvbnN0IGRlbGV0ZWQgPSBkZWxldGVQcmVzZXQocHJlc2V0SWQpO1xuICAgICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgcmVmcmVzaFByZXNldHMoKTtcbiAgICAgICAgLy8gU3dpdGNoIHRvIGRlZmF1bHQgcHJlc2V0IGlmIGN1cnJlbnQgd2FzIGRlbGV0ZWRcbiAgICAgICAgaWYgKHByZXNldElkID09PSBjdXJyZW50UHJlc2V0SWQpIHtcbiAgICAgICAgICBvblByZXNldFNlbGVjdCgnYWxsJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsZXJ0KCdDYW5ub3QgZGVsZXRlIGJ1aWx0LWluIHByZXNldHMnKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2F2ZVByZXNldCA9ICgpID0+IHtcbiAgICBpZiAoIWVkaXRpbmdQcmVzZXQpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBzYXZlUHJlc2V0KGVkaXRpbmdQcmVzZXQpO1xuICAgICAgcmVmcmVzaFByZXNldHMoKTtcbiAgICAgIHNldEVkaXRpbmdQcmVzZXQobnVsbCk7XG4gICAgICBzZXRTZWxlY3RlZFRhYignYnJvd3NlJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGFsZXJ0KGBGYWlsZWQgdG8gc2F2ZSBwcmVzZXQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUltcG9ydCA9ICgpID0+IHtcbiAgICBpZiAoIWltcG9ydFRleHQudHJpbSgpKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgLy8gVHJ5IHNpbmdsZSBwcmVzZXQgZmlyc3RcbiAgICAgIGxldCByZXN1bHRzID0gW2ltcG9ydFByZXNldChpbXBvcnRUZXh0KV07XG4gICAgICBcbiAgICAgIC8vIElmIHRoYXQgZmFpbHMsIHRyeSBtdWx0aXBsZSBwcmVzZXRzXG4gICAgICBpZiAoIXJlc3VsdHNbMF0uc3VjY2Vzcykge1xuICAgICAgICByZXN1bHRzID0gaW1wb3J0TXVsdGlwbGVQcmVzZXRzKGltcG9ydFRleHQpO1xuICAgICAgfVxuXG4gICAgICBzZXRJbXBvcnRSZXN1bHRzKHJlc3VsdHMpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0cy5zb21lKHIgPT4gci5zdWNjZXNzKSkge1xuICAgICAgICByZWZyZXNoUHJlc2V0cygpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBzZXRJbXBvcnRSZXN1bHRzKFt7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcnM6IFtgSW1wb3J0IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gXSxcbiAgICAgICAgd2FybmluZ3M6IFtdXG4gICAgICB9XSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUV4cG9ydFByZXNldCA9IChwcmVzZXRJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZXhwb3J0ZWQgPSBleHBvcnRQcmVzZXQocHJlc2V0SWQsIHsgZm9ybWF0OiAnanNvbicsIGluY2x1ZGVNZXRhZGF0YTogZmFsc2UgfSk7XG4gICAgaWYgKGV4cG9ydGVkKSB7XG4gICAgICBzZXRFeHBvcnRSZXN1bHQoZXhwb3J0ZWQpO1xuICAgICAgc2V0U2VsZWN0ZWRUYWIoJ2V4cG9ydCcpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVFeHBvcnRBbGwgPSAoKSA9PiB7XG4gICAgY29uc3QgZXhwb3J0ZWQgPSBleHBvcnRBbGxVc2VyUHJlc2V0cyh7IGZvcm1hdDogJ2pzb24nLCBpbmNsdWRlTWV0YWRhdGE6IGZhbHNlIH0pO1xuICAgIHNldEV4cG9ydFJlc3VsdChleHBvcnRlZCk7XG4gICAgc2V0U2VsZWN0ZWRUYWIoJ2V4cG9ydCcpO1xuICB9O1xuXG4gIGNvbnN0IGNvcHlUb0NsaXBib2FyZCA9ICgpID0+IHtcbiAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChleHBvcnRSZXN1bHQpO1xuICAgIGFsZXJ0KCdDb3BpZWQgdG8gY2xpcGJvYXJkIScpO1xuICB9O1xuXG4gIGNvbnN0IGRvd25sb2FkQXNGaWxlID0gKCkgPT4ge1xuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbZXhwb3J0UmVzdWx0XSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSk7XG4gICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICBsaW5rLmRvd25sb2FkID0gJ2NsZWFuc2hhcmUtcHJlc2V0cy5qc29uJztcbiAgICBsaW5rLmNsaWNrKCk7XG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICB9O1xuXG4gIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC41KScsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIHpJbmRleDogMTAwMCxcbiAgICAgIHBhZGRpbmc6ICd2YXIoLS1zcGFjZS1tZCknXG4gICAgfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIiBzdHlsZT17eyBcbiAgICAgICAgbWluV2lkdGg6ICc4MDBweCcsIFxuICAgICAgICBtYXhXaWR0aDogJzk1dncnLCBcbiAgICAgICAgbWF4SGVpZ2h0OiAnOTB2aCcsIFxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbidcbiAgICAgIH19PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtaGVhZGVyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5QcmVzZXQgTWFuYWdlcjwvaDM+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC1zdWJ0aXRsZVwiPkNyZWF0ZSwgZWRpdCwgYW5kIG1hbmFnZSBkZXRlY3Rpb24gcHJlc2V0czwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFRhYnMgKi99XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgXG4gICAgICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkIHZhcigtLWJvcmRlci1saWdodCknLCBcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsIFxuICAgICAgICAgIGdhcDogJzFweCcsXG4gICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLWJnLXNlY29uZGFyeSknXG4gICAgICAgIH19PlxuICAgICAgICAgIHsoWydicm93c2UnLCAnZWRpdCcsICdpbXBvcnQnLCAnZXhwb3J0J10gYXMgVGFiVHlwZVtdKS5tYXAodGFiID0+IChcbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAga2V5PXt0YWJ9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkVGFiKHRhYil9XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogJ3ZhcigtLXNwYWNlLXNtKSB2YXIoLS1zcGFjZS1tZCknLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHNlbGVjdGVkVGFiID09PSB0YWIgPyAndmFyKC0tYmctcHJpbWFyeSknIDogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgICAgICBjb2xvcjogc2VsZWN0ZWRUYWIgPT09IHRhYiA/ICd2YXIoLS10ZXh0LXByaW1hcnkpJyA6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknLFxuICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogc2VsZWN0ZWRUYWIgPT09IHRhYiA/ICcycHggc29saWQgdmFyKC0tY29sb3ItcHJpbWFyeSknIDogJzJweCBzb2xpZCB0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogc2VsZWN0ZWRUYWIgPT09IHRhYiA/ICc2MDAnIDogJzQwMCcsXG4gICAgICAgICAgICAgICAgdGV4dFRyYW5zZm9ybTogJ2NhcGl0YWxpemUnXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt0YWJ9IHt0YWIgPT09ICdlZGl0JyAmJiBlZGl0aW5nUHJlc2V0ICYmICfinI/vuI8nfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCIgc3R5bGU9e3sgZmxleDogMSwgb3ZlcmZsb3c6ICdhdXRvJyB9fT5cbiAgICAgICAgICB7c2VsZWN0ZWRUYWIgPT09ICdicm93c2UnICYmIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIHsvKiBTZWFyY2ggYW5kIEZpbHRlciBDb250cm9scyAqL31cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsIFxuICAgICAgICAgICAgICAgIGdhcDogJ3ZhcigtLXNwYWNlLW1kKScsIFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLWxnKScsXG4gICAgICAgICAgICAgICAgZmxleFdyYXA6ICd3cmFwJyxcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJ1xuICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIHByZXNldHMuLi5cIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWlucHV0XCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZsZXg6IDEsIG1pbldpZHRoOiAnMjAwcHgnIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17ZmlsdGVyRG9tYWlufVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGaWx0ZXJEb21haW4oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1zZWxlY3RcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5BbGwgRG9tYWluczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAge0RPTUFJTlMubWFwKGRvbWFpbiA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtkb21haW59IHZhbHVlPXtkb21haW59Pntkb21haW59PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNyZWF0ZU5ld30gY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5XCI+XG4gICAgICAgICAgICAgICAgICDinpUgQ3JlYXRlIE5ld1xuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogUHJlc2V0cyBMaXN0ICovfVxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLW1kKScgfX0+XG4gICAgICAgICAgICAgICAge2ZpbHRlcmVkUHJlc2V0cy5tYXAocHJlc2V0ID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtwcmVzZXQuaWR9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJ3ZhcigtLXNwYWNlLW1kKScsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBgMnB4IHNvbGlkICR7cHJlc2V0LmlkID09PSBjdXJyZW50UHJlc2V0SWQgPyAndmFyKC0tY29sb3ItcHJpbWFyeSknIDogJ3ZhcigtLWJvcmRlci1saWdodCknfWAsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAndmFyKC0tcmFkaXVzLW1kKScsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcHJlc2V0LmlkID09PSBjdXJyZW50UHJlc2V0SWQgPyAndmFyKC0tYmctc2Vjb25kYXJ5KScgOiAndmFyKC0tYmctcHJpbWFyeSknXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBhbGlnbkl0ZW1zOiAnZmxleC1zdGFydCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmbGV4OiAxIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1zcGFjZS1zbSknLCBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgc3R5bGU9e3sgbWFyZ2luOiAwLCBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1sZyknIH19PntwcmVzZXQubmFtZX08L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJlc2V0LmRvbWFpbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMnB4IDZweCcsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICczcHgnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXhzKScgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJlc2V0LmRvbWFpbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHshcHJlc2V0LmlzVXNlckNyZWF0ZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzJweCA2cHgnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS1jb2xvci1zZWNvbmRhcnkpJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3doaXRlJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICczcHgnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXhzKScgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCdWlsdC1pblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge3ByZXNldC5kZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IG1hcmdpbjogJzAgMCB2YXIoLS1zcGFjZS1zbSkgMCcsIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJywgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtc20pJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJlc2V0LmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS14cyknLCBjb2xvcjogJ3ZhcigtLXRleHQtc2Vjb25kYXJ5KScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtwcmVzZXQuZW5hYmxlZEtpbmRzLmxlbmd0aH0gZGV0ZWN0b3JzIOKAoiBDb25maWRlbmNlOiB7TWF0aC5yb3VuZCgocHJlc2V0LmNvbmZpZGVuY2VUaHJlc2hvbGQgfHwgMC42KSAqIDEwMCl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJlc2V0LmN1c3RvbVBhdHRlcm5zICYmIHByZXNldC5jdXN0b21QYXR0ZXJucy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PiDigKIge3ByZXNldC5jdXN0b21QYXR0ZXJucy5sZW5ndGh9IGN1c3RvbSBwYXR0ZXJuczwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLXNwYWNlLXhzKScsIGZsZXhTaHJpbms6IDAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uUHJlc2V0U2VsZWN0KHByZXNldC5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGJ0biBidG4tc20gJHtwcmVzZXQuaWQgPT09IGN1cnJlbnRQcmVzZXRJZCA/ICdidG4tc2Vjb25kYXJ5JyA6ICdidG4tcHJpbWFyeSd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3ByZXNldC5pZCA9PT0gY3VycmVudFByZXNldElkID8gJ+KckyBBY3RpdmUnIDogJ1VzZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRWRpdChwcmVzZXQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLW91dGxpbmUgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgRWRpdFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUR1cGxpY2F0ZShwcmVzZXQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLW91dGxpbmUgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQ29weVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUV4cG9ydFByZXNldChwcmVzZXQuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLW91dGxpbmUgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgRXhwb3J0XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcmVzZXQuaXNVc2VyQ3JlYXRlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGUocHJlc2V0LmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLW91dGxpbmUgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLWNvbG9yLWVycm9yKScgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHtmaWx0ZXJlZFByZXNldHMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicsIHBhZGRpbmc6ICd2YXIoLS1zcGFjZS14bCknLCBjb2xvcjogJ3ZhcigtLXRleHQtc2Vjb25kYXJ5KScgfX0+XG4gICAgICAgICAgICAgICAgICBObyBwcmVzZXRzIG1hdGNoIHlvdXIgc2VhcmNoIGNyaXRlcmlhXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge3NlbGVjdGVkVGFiID09PSAnZWRpdCcgJiYgZWRpdGluZ1ByZXNldCAmJiAoXG4gICAgICAgICAgICA8RWRpdFByZXNldEZvcm1cbiAgICAgICAgICAgICAgcHJlc2V0PXtlZGl0aW5nUHJlc2V0fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17c2V0RWRpdGluZ1ByZXNldH1cbiAgICAgICAgICAgICAgb25TYXZlPXtoYW5kbGVTYXZlUHJlc2V0fVxuICAgICAgICAgICAgICBvbkNhbmNlbD17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEVkaXRpbmdQcmVzZXQobnVsbCk7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUYWIoJ2Jyb3dzZScpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge3NlbGVjdGVkVGFiID09PSAnaW1wb3J0JyAmJiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDQgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5JbXBvcnQgUHJlc2V0czwvaDQ+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5cbiAgICAgICAgICAgICAgICA8bGFiZWwgc3R5bGU9e3sgZGlzcGxheTogJ2Jsb2NrJywgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UteHMpJywgZm9udFdlaWdodDogJzYwMCcgfX0+XG4gICAgICAgICAgICAgICAgICBKU09OIERhdGFcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2ltcG9ydFRleHR9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEltcG9ydFRleHQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQYXN0ZSBwcmVzZXQgSlNPTiBkYXRhIGhlcmUuLi5cIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnMjAwcHgnLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAndmFyKC0tc3BhY2Utc20pJyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJvcmRlci1saWdodCknLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICd2YXIoLS1yYWRpdXMtc20pJyxcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ21vbm9zcGFjZScsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXNtKSdcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1zcGFjZS1zbSknLCBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1sZyknIH19PlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlSW1wb3J0fSBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIj5cbiAgICAgICAgICAgICAgICAgIEltcG9ydCBQcmVzZXRzXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEltcG9ydFRleHQoJycpfSBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tb3V0bGluZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ2xlYXJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAge2ltcG9ydFJlc3VsdHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxoNSBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1zbSknIH19PkltcG9ydCBSZXN1bHRzPC9oNT5cbiAgICAgICAgICAgICAgICAgIHtpbXBvcnRSZXN1bHRzLm1hcCgocmVzdWx0LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJ3ZhcigtLXNwYWNlLXNtKScsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtyZXN1bHQuc3VjY2VzcyA/ICd2YXIoLS1jb2xvci1zdWNjZXNzKScgOiAndmFyKC0tY29sb3ItZXJyb3IpJ31gLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAndmFyKC0tcmFkaXVzLXNtKScsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZXN1bHQuc3VjY2VzcyA/ICd2YXIoLS1iZy1zdWNjZXNzKScgOiAndmFyKC0tYmctZXJyb3IpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLXNtKSdcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiAnNjAwJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZXN1bHQuc3VjY2VzcyA/ICfinIUgU3VjY2VzcycgOiAn4p2MIEZhaWxlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICB7cmVzdWx0LnByZXNldCAmJiBgOiAke3Jlc3VsdC5wcmVzZXQubmFtZX1gfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIHtyZXN1bHQuZXJyb3JzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIHN0eWxlPXt7IG1hcmdpbjogJ3ZhcigtLXNwYWNlLXhzKSAwIDAgMCcsIHBhZGRpbmdMZWZ0OiAnMjBweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtyZXN1bHQuZXJyb3JzLm1hcCgoZXJyb3IsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpfSBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLWNvbG9yLWVycm9yKScgfX0+e2Vycm9yfTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIHtyZXN1bHQud2FybmluZ3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgc3R5bGU9e3sgbWFyZ2luOiAndmFyKC0tc3BhY2UteHMpIDAgMCAwJywgcGFkZGluZ0xlZnQ6ICcyMHB4JyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3Jlc3VsdC53YXJuaW5ncy5tYXAoKHdhcm5pbmcsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpfSBzdHlsZT17eyBjb2xvcjogJ3ZhcigtLWNvbG9yLXdhcm5pbmcpJyB9fT57d2FybmluZ308L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7c2VsZWN0ZWRUYWIgPT09ICdleHBvcnQnICYmIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoNCBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1tZCknIH19PkV4cG9ydCBQcmVzZXRzPC9oND5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1zcGFjZS1zbSknLCBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1sZyknIH19PlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlRXhwb3J0QWxsfSBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIj5cbiAgICAgICAgICAgICAgICAgIEV4cG9ydCBBbGwgVXNlciBQcmVzZXRzXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHtleHBvcnRSZXN1bHQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tc3BhY2Utc20pJywgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2Utc20pJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtjb3B5VG9DbGlwYm9hcmR9IGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgICAg8J+TiyBDb3B5IHRvIENsaXBib2FyZFxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtkb3dubG9hZEFzRmlsZX0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1zZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgICAgICAgICDwn5K+IERvd25sb2FkIEZpbGVcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtleHBvcnRSZXN1bHR9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICczMDBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJ3ZhcigtLXNwYWNlLXNtKScsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJvcmRlci1saWdodCknLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJ3ZhcigtLXJhZGl1cy1zbSknLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXNtKScsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3ZhcigtLWJnLXNlY29uZGFyeSknXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWZvb3RlclwiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9fT5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtc20pJywgY29sb3I6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknIH19PlxuICAgICAgICAgICAgICB7cHJlc2V0cy5maWx0ZXIocCA9PiBwLmlzVXNlckNyZWF0ZWQpLmxlbmd0aH0gdXNlciBwcmVzZXRzIOKAoiB7cHJlc2V0cy5maWx0ZXIocCA9PiAhcC5pc1VzZXJDcmVhdGVkKS5sZW5ndGh9IGJ1aWx0LWluXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25DbG9zZX0gY2xhc3NOYW1lPVwiYnRuIGJ0bi1naG9zdFwiPlxuICAgICAgICAgICAgICBDbG9zZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIEVkaXQgUHJlc2V0IEZvcm0gQ29tcG9uZW50XG5mdW5jdGlvbiBFZGl0UHJlc2V0Rm9ybSh7IFxuICBwcmVzZXQsIFxuICBvbkNoYW5nZSwgXG4gIG9uU2F2ZSwgXG4gIG9uQ2FuY2VsIFxufTogeyBcbiAgcHJlc2V0OiBQcmVzZXQ7IFxuICBvbkNoYW5nZTogKHByZXNldDogUHJlc2V0KSA9PiB2b2lkO1xuICBvblNhdmU6ICgpID0+IHZvaWQ7XG4gIG9uQ2FuY2VsOiAoKSA9PiB2b2lkO1xufSkge1xuICBjb25zdCBbYWN0aXZlU2VjdGlvbiwgc2V0QWN0aXZlU2VjdGlvbl0gPSB1c2VTdGF0ZTwnYmFzaWMnIHwgJ2RldGVjdG9ycycgfCAnc3R5bGVzJyB8ICdwYXR0ZXJucycgfCAnYWR2YW5jZWQnPignYmFzaWMnKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXY+XG4gICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJywgYWxpZ25JdGVtczogJ2NlbnRlcicsIG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLWxnKScgfX0+XG4gICAgICAgIDxoND57cHJlc2V0LmlkID8gJ0VkaXQgUHJlc2V0JyA6ICdDcmVhdGUgTmV3IFByZXNldCd9PC9oND5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLXNwYWNlLXNtKScgfX0+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvblNhdmV9IGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeVwiPlxuICAgICAgICAgICAg8J+SviBTYXZlIFByZXNldFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25DYW5jZWx9IGNsYXNzTmFtZT1cImJ0biBidG4tb3V0bGluZVwiPlxuICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBTZWN0aW9uIFRhYnMgKi99XG4gICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tc3BhY2UteHMpJywgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UtbGcpJywgZmxleFdyYXA6ICd3cmFwJyB9fT5cbiAgICAgICAgeyhbJ2Jhc2ljJywgJ2RldGVjdG9ycycsICdzdHlsZXMnLCAncGF0dGVybnMnLCAnYWR2YW5jZWQnXSBhcyBjb25zdCkubWFwKHNlY3Rpb24gPT4gKFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGtleT17c2VjdGlvbn1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVNlY3Rpb24oc2VjdGlvbil9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BidG4gYnRuLXNtICR7YWN0aXZlU2VjdGlvbiA9PT0gc2VjdGlvbiA/ICdidG4tcHJpbWFyeScgOiAnYnRuLW91dGxpbmUnfWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3NlY3Rpb24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzZWN0aW9uLnNsaWNlKDEpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7YWN0aXZlU2VjdGlvbiA9PT0gJ2Jhc2ljJyAmJiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLXhzKScsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICAgICAgICBOYW1lICpcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICB2YWx1ZT17cHJlc2V0Lm5hbWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2UoeyAuLi5wcmVzZXQsIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWlucHV0XCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBwcmVzZXQgbmFtZVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS14cyknLCBmb250V2VpZ2h0OiAnNjAwJyB9fT5cbiAgICAgICAgICAgICAgRGVzY3JpcHRpb25cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgdmFsdWU9e3ByZXNldC5kZXNjcmlwdGlvbiB8fCAnJ31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZSh7IC4uLnByZXNldCwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWlucHV0XCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEZXNjcmliZSB3aGF0IHRoaXMgcHJlc2V0IGlzIGZvclwiXG4gICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxsYWJlbCBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS14cyknLCBmb250V2VpZ2h0OiAnNjAwJyB9fT5cbiAgICAgICAgICAgICAgRG9tYWluXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICB2YWx1ZT17cHJlc2V0LmRvbWFpbiB8fCAnR2VuZXJhbCd9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2UoeyAuLi5wcmVzZXQsIGRvbWFpbjogZS50YXJnZXQudmFsdWUgYXMgYW55IH0pfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLXNlbGVjdFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtET01BSU5TLm1hcChkb21haW4gPT4gKFxuICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtkb21haW59IHZhbHVlPXtkb21haW59Pntkb21haW59PC9vcHRpb24+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGRpc3BsYXk6ICdibG9jaycsIG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLXhzKScsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlxuICAgICAgICAgICAgICBDb25maWRlbmNlIFRocmVzaG9sZDoge01hdGgucm91bmQoKHByZXNldC5jb25maWRlbmNlVGhyZXNob2xkIHx8IDAuNikgKiAxMDApfSVcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgIG1heD1cIjFcIlxuICAgICAgICAgICAgICBzdGVwPVwiMC4wNVwiXG4gICAgICAgICAgICAgIHZhbHVlPXtwcmVzZXQuY29uZmlkZW5jZVRocmVzaG9sZCB8fCAwLjZ9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2UoeyAuLi5wcmVzZXQsIGNvbmZpZGVuY2VUaHJlc2hvbGQ6IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpIH0pfVxuICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS14cyknLCBjb2xvcjogJ3ZhcigtLXRleHQtc2Vjb25kYXJ5KScgfX0+XG4gICAgICAgICAgICAgIE9ubHkgc2hvdyBkZXRlY3Rpb25zIGFib3ZlIHRoaXMgY29uZmlkZW5jZSBsZXZlbFxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAge2FjdGl2ZVNlY3Rpb24gPT09ICdkZXRlY3RvcnMnICYmIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDUgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5FbmFibGVkIERldGVjdGlvbiBUeXBlczwvaDU+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICdyZXBlYXQoYXV0by1maWxsLCBtaW5tYXgoMjAwcHgsIDFmcikpJywgZ2FwOiAndmFyKC0tc3BhY2Utc20pJyB9fT5cbiAgICAgICAgICAgIHtERVRFQ1RJT05fS0lORFMubWFwKGtpbmQgPT4gKFxuICAgICAgICAgICAgICA8bGFiZWwga2V5PXtraW5kfSBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3ByZXNldC5lbmFibGVkS2luZHMuaW5jbHVkZXMoa2luZCl9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IGUudGFyZ2V0LmNoZWNrZWRcbiAgICAgICAgICAgICAgICAgICAgICA/IFsuLi5wcmVzZXQuZW5hYmxlZEtpbmRzLCBraW5kXVxuICAgICAgICAgICAgICAgICAgICAgIDogcHJlc2V0LmVuYWJsZWRLaW5kcy5maWx0ZXIoayA9PiBrICE9PSBraW5kKTtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoeyAuLi5wcmVzZXQsIGVuYWJsZWRLaW5kczogdXBkYXRlZCB9KTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknIH19PntraW5kfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHthY3RpdmVTZWN0aW9uID09PSAnc3R5bGVzJyAmJiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGg1IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLW1kKScgfX0+RGVmYXVsdCBSZWRhY3Rpb24gU3R5bGVzPC9oNT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLXNwYWNlLW1kKScgfX0+XG4gICAgICAgICAgICB7cHJlc2V0LmVuYWJsZWRLaW5kcy5tYXAoa2luZCA9PiAoXG4gICAgICAgICAgICAgIDxkaXYga2V5PXtraW5kfSBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1zcGFjZS1tZCknIH19PlxuICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IG1pbldpZHRoOiAnMTIwcHgnLCBmb250V2VpZ2h0OiAnNjAwJyB9fT57a2luZH06PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtwcmVzZXQuc3R5bGVNYXA/LltraW5kXSB8fCAnQk9YJ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAuLi5wcmVzZXQsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlTWFwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4ucHJlc2V0LnN0eWxlTWFwLFxuICAgICAgICAgICAgICAgICAgICAgIFtraW5kXTogZS50YXJnZXQudmFsdWUgYXMgUmVkYWN0aW9uU3R5bGVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLXNlbGVjdFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBtaW5XaWR0aDogJzE1MHB4JyB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtSRURBQ1RJT05fU1RZTEVTLm1hcChzdHlsZSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtzdHlsZX0gdmFsdWU9e3N0eWxlfT57c3R5bGV9PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7YWN0aXZlU2VjdGlvbiA9PT0gJ3BhdHRlcm5zJyAmJiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGg1IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLW1kKScgfX0+Q3VzdG9tIERldGVjdGlvbiBQYXR0ZXJuczwvaDU+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1tZCknIH19PlxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BhdHRlcm46IEN1c3RvbVBhdHRlcm4gPSB7XG4gICAgICAgICAgICAgICAgICBpZDogYHBhdHRlcm5fJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgICAgICAgICBuYW1lOiAnTmV3IFBhdHRlcm4nLFxuICAgICAgICAgICAgICAgICAgcGF0dGVybjogJycsXG4gICAgICAgICAgICAgICAgICBraW5kOiAnT1RIRVInLFxuICAgICAgICAgICAgICAgICAgY29uZmlkZW5jZTogMC44LFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgICAgICAgICAgICAgY2FzZVNlbnNpdGl2ZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAgIC4uLnByZXNldCxcbiAgICAgICAgICAgICAgICAgIGN1c3RvbVBhdHRlcm5zOiBbLi4uKHByZXNldC5jdXN0b21QYXR0ZXJucyB8fCBbXSksIG5ld1BhdHRlcm5dXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tcHJpbWFyeSBidG4tc21cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDinpUgQWRkIFBhdHRlcm5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIHsocHJlc2V0LmN1c3RvbVBhdHRlcm5zIHx8IFtdKS5tYXAoKHBhdHRlcm4sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBrZXk9e3BhdHRlcm4uaWR9XG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogJ3ZhcigtLXNwYWNlLW1kKScsXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJvcmRlci1saWdodCknLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJ3ZhcigtLXJhZGl1cy1tZCknLFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLW1kKSdcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1zbSknIH19PlxuICAgICAgICAgICAgICAgIDxoNiBzdHlsZT17eyBtYXJnaW46IDAgfX0+UGF0dGVybiB7aW5kZXggKyAxfTwvaDY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gcHJlc2V0LmN1c3RvbVBhdHRlcm5zPy5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoeyAuLi5wcmVzZXQsIGN1c3RvbVBhdHRlcm5zOiB1cGRhdGVkIH0pO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tb3V0bGluZSBidG4tc21cIlxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgY29sb3I6ICd2YXIoLS1jb2xvci1lcnJvciknIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgUmVtb3ZlXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICcxZnIgMWZyJywgZ2FwOiAndmFyKC0tc3BhY2UtbWQpJywgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2Utc20pJyB9fT5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsPk5hbWU8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BhdHRlcm4ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi4ocHJlc2V0LmN1c3RvbVBhdHRlcm5zIHx8IFtdKV07XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFtpbmRleF0gPSB7IC4uLnBhdHRlcm4sIG5hbWU6IGUudGFyZ2V0LnZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoeyAuLi5wcmVzZXQsIGN1c3RvbVBhdHRlcm5zOiB1cGRhdGVkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWlucHV0XCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbD5LaW5kPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BhdHRlcm4ua2luZH1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi4ocHJlc2V0LmN1c3RvbVBhdHRlcm5zIHx8IFtdKV07XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFtpbmRleF0gPSB7IC4uLnBhdHRlcm4sIGtpbmQ6IGUudGFyZ2V0LnZhbHVlIGFzIERldGVjdGlvbktpbmQgfTtcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZSh7IC4uLnByZXNldCwgY3VzdG9tUGF0dGVybnM6IHVwZGF0ZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tc2VsZWN0XCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge0RFVEVDVElPTl9LSU5EUy5tYXAoa2luZCA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2tpbmR9IHZhbHVlPXtraW5kfT57a2luZH08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLXNtKScgfX0+XG4gICAgICAgICAgICAgICAgPGxhYmVsPlJlZ3VsYXIgRXhwcmVzc2lvbiBQYXR0ZXJuPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXR0ZXJuLnBhdHRlcm59XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi4ocHJlc2V0LmN1c3RvbVBhdHRlcm5zIHx8IFtdKV07XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbaW5kZXhdID0geyAuLi5wYXR0ZXJuLCBwYXR0ZXJuOiBlLnRhcmdldC52YWx1ZSB9O1xuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZSh7IC4uLnByZXNldCwgY3VzdG9tUGF0dGVybnM6IHVwZGF0ZWQgfSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1pbnB1dFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImUuZy4sIFxcXFxiXFxcXGR7M30tXFxcXGR7Mn0tXFxcXGR7NH1cXFxcYlwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250RmFtaWx5OiAnbW9ub3NwYWNlJyB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICcxZnIgYXV0byBhdXRvJywgZ2FwOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsPkRlc2NyaXB0aW9uPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXR0ZXJuLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLihwcmVzZXQuY3VzdG9tUGF0dGVybnMgfHwgW10pXTtcbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkW2luZGV4XSA9IHsgLi4ucGF0dGVybiwgZGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoeyAuLi5wcmVzZXQsIGN1c3RvbVBhdHRlcm5zOiB1cGRhdGVkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWlucHV0XCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbD5Db25maWRlbmNlPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICAgIG1heD1cIjFcIlxuICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3BhdHRlcm4uY29uZmlkZW5jZX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi4ocHJlc2V0LmN1c3RvbVBhdHRlcm5zIHx8IFtdKV07XG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFtpbmRleF0gPSB7IC4uLnBhdHRlcm4sIGNvbmZpZGVuY2U6IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpIH07XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoeyAuLi5wcmVzZXQsIGN1c3RvbVBhdHRlcm5zOiB1cGRhdGVkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6ICc4MHB4JyB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsPkNhc2UgU2Vuc2l0aXZlPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtwYXR0ZXJuLmNhc2VTZW5zaXRpdmUgfHwgZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4uKHByZXNldC5jdXN0b21QYXR0ZXJucyB8fCBbXSldO1xuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbaW5kZXhdID0geyAuLi5wYXR0ZXJuLCBjYXNlU2Vuc2l0aXZlOiBlLnRhcmdldC5jaGVja2VkIH07XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2UoeyAuLi5wcmVzZXQsIGN1c3RvbVBhdHRlcm5zOiB1cGRhdGVkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS1zbSknIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHthY3RpdmVTZWN0aW9uID09PSAnYWR2YW5jZWQnICYmIChcbiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBnYXA6ICd2YXIoLS1zcGFjZS1tZCknIH19PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDU+RGVmYXVsdCBSZWRhY3Rpb24gQ29uZmlndXJhdGlvbjwvaDU+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdncmlkJywgZ3JpZFRlbXBsYXRlQ29sdW1uczogJzFmciAxZnInLCBnYXA6ICd2YXIoLS1zcGFjZS1tZCknIH19PlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbD5Db2xvcjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiY29sb3JcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3ByZXNldC5kZWZhdWx0UmVkYWN0aW9uQ29uZmlnPy5jb2xvciB8fCAnIzAwMDAwMCd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJlc2V0LFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UmVkYWN0aW9uQ29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4ucHJlc2V0LmRlZmF1bHRSZWRhY3Rpb25Db25maWcsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1pbnB1dFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsPk9wYWNpdHk6IHtNYXRoLnJvdW5kKChwcmVzZXQuZGVmYXVsdFJlZGFjdGlvbkNvbmZpZz8ub3BhY2l0eSB8fCAwLjkpICogMTAwKX0lPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgICAgICBtaW49XCIwXCJcbiAgICAgICAgICAgICAgICAgIG1heD1cIjFcIlxuICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17cHJlc2V0LmRlZmF1bHRSZWRhY3Rpb25Db25maWc/Lm9wYWNpdHkgfHwgMC45fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgICAgIC4uLnByZXNldCxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFJlZGFjdGlvbkNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXNldC5kZWZhdWx0UmVkYWN0aW9uQ29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5cbiAgICAgICAgICAgICAgPGxhYmVsPkRlZmF1bHQgTGFiZWwgVGV4dDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17cHJlc2V0LmRlZmF1bHRSZWRhY3Rpb25Db25maWc/LmxhYmVsVGV4dCB8fCAnJ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IG9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAgIC4uLnByZXNldCxcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRSZWRhY3Rpb25Db25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJlc2V0LmRlZmF1bHRSZWRhY3Rpb25Db25maWcsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dDogZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWlucHV0XCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIltSRURBQ1RFRF1cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGg1PkxlZ2FjeSBDdXN0b20gUmVnZXggKERlcHJlY2F0ZWQpPC9oNT5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtc20pJywgY29sb3I6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknLCBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1zbSknIH19PlxuICAgICAgICAgICAgICBVc2UgQ3VzdG9tIFBhdHRlcm5zIGluc3RlYWQgZm9yIGJldHRlciBjb250cm9sXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICB2YWx1ZT17cHJlc2V0LmN1c3RvbVJlZ2V4Py5qb2luKCdcXG4nKSB8fCAnJ31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgLi4ucHJlc2V0LFxuICAgICAgICAgICAgICAgIGN1c3RvbVJlZ2V4OiBlLnRhcmdldC52YWx1ZS5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkpXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWlucHV0XCJcbiAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJPbmUgcmVnZXggcGF0dGVybiBwZXIgbGluZVwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJsaXN0UHJlc2V0cyIsInNhdmVQcmVzZXQiLCJkdXBsaWNhdGVQcmVzZXQiLCJkZWxldGVQcmVzZXQiLCJpbXBvcnRQcmVzZXQiLCJleHBvcnRQcmVzZXQiLCJleHBvcnRBbGxVc2VyUHJlc2V0cyIsImltcG9ydE11bHRpcGxlUHJlc2V0cyIsImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJGcmFnbWVudCIsIl9GcmFnbWVudCIsIkRFVEVDVElPTl9LSU5EUyIsIlJFREFDVElPTl9TVFlMRVMiLCJET01BSU5TIiwiUHJlc2V0TWFuYWdlciIsImlzT3BlbiIsIm9uQ2xvc2UiLCJjdXJyZW50UHJlc2V0SWQiLCJvblByZXNldFNlbGVjdCIsInByZXNldHMiLCJzZXRQcmVzZXRzIiwic2VsZWN0ZWRUYWIiLCJzZXRTZWxlY3RlZFRhYiIsImVkaXRpbmdQcmVzZXQiLCJzZXRFZGl0aW5nUHJlc2V0IiwiZmlsdGVyRG9tYWluIiwic2V0RmlsdGVyRG9tYWluIiwic2VhcmNoUXVlcnkiLCJzZXRTZWFyY2hRdWVyeSIsImltcG9ydFRleHQiLCJzZXRJbXBvcnRUZXh0IiwiaW1wb3J0UmVzdWx0cyIsInNldEltcG9ydFJlc3VsdHMiLCJleHBvcnRSZXN1bHQiLCJzZXRFeHBvcnRSZXN1bHQiLCJyZWZyZXNoUHJlc2V0cyIsImZpbHRlcmVkUHJlc2V0cyIsImZpbHRlciIsInByZXNldCIsIm1hdGNoZXNEb21haW4iLCJkb21haW4iLCJtYXRjaGVzU2VhcmNoIiwibmFtZSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJkZXNjcmlwdGlvbiIsImhhbmRsZUNyZWF0ZU5ldyIsIm5ld1ByZXNldCIsImlkIiwiZW5hYmxlZEtpbmRzIiwic3R5bGVNYXAiLCJjdXN0b21SZWdleCIsImN1c3RvbVBhdHRlcm5zIiwiZGVmYXVsdFJlZGFjdGlvbkNvbmZpZyIsImNvbG9yIiwib3BhY2l0eSIsImNvbmZpZGVuY2VUaHJlc2hvbGQiLCJoYW5kbGVFZGl0IiwiaGFuZGxlRHVwbGljYXRlIiwiZHVwbGljYXRlZCIsImhhbmRsZURlbGV0ZSIsInByZXNldElkIiwid2luZG93IiwiY29uZmlybSIsImRlbGV0ZWQiLCJhbGVydCIsImhhbmRsZVNhdmVQcmVzZXQiLCJlcnJvciIsIkVycm9yIiwibWVzc2FnZSIsImhhbmRsZUltcG9ydCIsInRyaW0iLCJyZXN1bHRzIiwic3VjY2VzcyIsInNvbWUiLCJyIiwiZXJyb3JzIiwid2FybmluZ3MiLCJoYW5kbGVFeHBvcnRQcmVzZXQiLCJleHBvcnRlZCIsImZvcm1hdCIsImluY2x1ZGVNZXRhZGF0YSIsImhhbmRsZUV4cG9ydEFsbCIsImNvcHlUb0NsaXBib2FyZCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImRvd25sb2FkQXNGaWxlIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJkb3dubG9hZCIsImNsaWNrIiwicmV2b2tlT2JqZWN0VVJMIiwic3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsImJhY2tncm91bmQiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiekluZGV4IiwicGFkZGluZyIsImNoaWxkcmVuIiwiY2xhc3NOYW1lIiwibWluV2lkdGgiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsIm92ZXJmbG93IiwiZmxleERpcmVjdGlvbiIsImJvcmRlckJvdHRvbSIsImdhcCIsIm1hcCIsInRhYiIsIm9uQ2xpY2siLCJib3JkZXIiLCJjdXJzb3IiLCJmb250V2VpZ2h0IiwidGV4dFRyYW5zZm9ybSIsImZsZXgiLCJtYXJnaW5Cb3R0b20iLCJmbGV4V3JhcCIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJib3JkZXJSYWRpdXMiLCJtYXJnaW4iLCJmb250U2l6ZSIsImlzVXNlckNyZWF0ZWQiLCJsZW5ndGgiLCJNYXRoIiwicm91bmQiLCJmbGV4U2hyaW5rIiwidGV4dEFsaWduIiwiRWRpdFByZXNldEZvcm0iLCJvblNhdmUiLCJvbkNhbmNlbCIsIndpZHRoIiwiaGVpZ2h0IiwiZm9udEZhbWlseSIsInJlc3VsdCIsImluZGV4IiwicGFkZGluZ0xlZnQiLCJpIiwid2FybmluZyIsInJlYWRPbmx5IiwicCIsImFjdGl2ZVNlY3Rpb24iLCJzZXRBY3RpdmVTZWN0aW9uIiwic2VjdGlvbiIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJyb3dzIiwibWluIiwibWF4Iiwic3RlcCIsInBhcnNlRmxvYXQiLCJncmlkVGVtcGxhdGVDb2x1bW5zIiwia2luZCIsImNoZWNrZWQiLCJ1cGRhdGVkIiwiayIsIm5ld1BhdHRlcm4iLCJEYXRlIiwibm93IiwicGF0dGVybiIsImNvbmZpZGVuY2UiLCJjYXNlU2Vuc2l0aXZlIiwiXyIsIm1hcmdpblRvcCIsImxhYmVsVGV4dCIsImpvaW4iLCJzcGxpdCIsImxpbmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/PresetManager.tsx\n");

/***/ }),

/***/ "./src/components/UndoRedoManager.tsx":
/*!********************************************!*\
  !*** ./src/components/UndoRedoManager.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UndoRedoControls: () => (/* binding */ UndoRedoControls),\n/* harmony export */   \"default\": () => (/* binding */ UndoRedoManager)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"react/jsx-runtime\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction UndoRedoManager({\n  isOpen,\n  onClose,\n  onUndo,\n  onRedo,\n  canUndo,\n  canRedo,\n  historyPreview,\n  onJumpTo\n}) {\n  const formatTime = timestamp => {\n    return new Date(timestamp).toLocaleTimeString();\n  };\n  const getActionIcon = type => {\n    switch (type) {\n      case 'toggle-detection':\n        return '☑️';\n      case 'change-redaction-style':\n        return '🎨';\n      case 'change-label-text':\n        return '📝';\n      case 'bulk-toggle':\n        return '📋';\n      default:\n        return '⚙️';\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0, 0, 0, 0.5)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1000,\n      padding: 'var(--space-md)'\n    },\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n      className: \"card\",\n      style: {\n        minWidth: '500px',\n        maxWidth: '90vw',\n        maxHeight: '70vh',\n        overflow: 'hidden',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", {\n          className: \"card-title\",\n          children: \"Action History\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n          className: \"card-subtitle\",\n          children: \"Undo or redo your recent changes\"\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"card-body\",\n        style: {\n          flex: 1,\n          overflow: 'auto'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 'var(--space-md)',\n            marginBottom: 'var(--space-lg)',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n            onClick: onUndo,\n            disabled: !canUndo,\n            className: \"btn btn-primary\",\n            style: {\n              opacity: canUndo ? 1 : 0.5\n            },\n            children: \"\\u21B6 Undo\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n            onClick: onRedo,\n            disabled: !canRedo,\n            className: \"btn btn-primary\",\n            style: {\n              opacity: canRedo ? 1 : 0.5\n            },\n            children: \"\\u21B7 Redo\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n            style: {\n              fontSize: 'var(--font-size-sm)',\n              color: 'var(--text-secondary)',\n              marginLeft: 'auto'\n            },\n            children: \"Keyboard: Ctrl+Z / Ctrl+Y\"\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n            style: {\n              marginBottom: 'var(--space-md)'\n            },\n            children: \"Recent Actions\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 'var(--space-xs)'\n            },\n            children: historyPreview.length > 0 ? historyPreview.map(item => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              onClick: () => onJumpTo(item.index),\n              style: {\n                padding: 'var(--space-sm)',\n                border: `1px solid ${item.isCurrent ? 'var(--color-primary)' : 'var(--border-light)'}`,\n                borderRadius: 'var(--radius-sm)',\n                background: item.isCurrent ? 'var(--bg-secondary)' : 'var(--bg-primary)',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                gap: 'var(--space-sm)',\n                transition: 'all var(--transition-fast)',\n                opacity: item.canRevert ? 1 : 0.6\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                style: {\n                  fontSize: 'var(--font-size-lg)'\n                },\n                children: getActionIcon(item.type)\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                  style: {\n                    fontWeight: item.isCurrent ? '600' : '400',\n                    fontSize: 'var(--font-size-sm)'\n                  },\n                  children: item.description\n                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                  style: {\n                    fontSize: 'var(--font-size-xs)',\n                    color: 'var(--text-secondary)'\n                  },\n                  children: formatTime(item.timestamp)\n                })]\n              }), item.isCurrent && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n                style: {\n                  padding: '2px 6px',\n                  background: 'var(--color-primary)',\n                  color: 'white',\n                  borderRadius: '3px',\n                  fontSize: 'var(--font-size-xs)'\n                },\n                children: \"Current\"\n              })]\n            }, item.index)) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              style: {\n                textAlign: 'center',\n                color: 'var(--text-secondary)',\n                padding: 'var(--space-xl)'\n              },\n              children: \"No actions to undo yet. Start making changes to see history here.\"\n            })\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            marginTop: 'var(--space-lg)',\n            padding: 'var(--space-md)',\n            background: 'var(--bg-secondary)',\n            borderRadius: 'var(--radius-md)',\n            fontSize: 'var(--font-size-sm)',\n            color: 'var(--text-secondary)'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n            children: \"Tips:\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"ul\", {\n            style: {\n              marginTop: 'var(--space-xs)',\n              paddingLeft: '20px'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"Use Ctrl+Z to undo the last action\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"Use Ctrl+Y to redo an undone action\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"Click on any action in the timeline to jump to that point\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n              children: \"Actions are automatically saved and persist across page refreshes\"\n            })]\n          })]\n        })]\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        className: \"card-footer\",\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n          onClick: onClose,\n          className: \"btn btn-ghost\",\n          children: \"Close\"\n        })\n      })]\n    })\n  });\n}\n\n// Floating Undo/Redo Controls Component\nfunction UndoRedoControls({\n  onUndo,\n  onRedo,\n  canUndo,\n  canRedo,\n  onOpenHistory\n}) {\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n    style: {\n      position: 'fixed',\n      bottom: '20px',\n      right: '20px',\n      display: 'flex',\n      gap: 'var(--space-xs)',\n      background: 'var(--bg-primary)',\n      border: '1px solid var(--border-light)',\n      borderRadius: 'var(--radius-lg)',\n      padding: 'var(--space-xs)',\n      boxShadow: 'var(--shadow-lg)',\n      zIndex: 100\n    },\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n      onClick: onUndo,\n      disabled: !canUndo,\n      className: \"btn btn-outline btn-sm\",\n      style: {\n        opacity: canUndo ? 1 : 0.5\n      },\n      title: \"Undo (Ctrl+Z)\",\n      children: \"\\u21B6\"\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n      onClick: onRedo,\n      disabled: !canRedo,\n      className: \"btn btn-outline btn-sm\",\n      style: {\n        opacity: canRedo ? 1 : 0.5\n      },\n      title: \"Redo (Ctrl+Y)\",\n      children: \"\\u21B7\"\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n      style: {\n        width: '1px',\n        background: 'var(--border-light)',\n        margin: '2px 0'\n      }\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n      onClick: onOpenHistory,\n      className: \"btn btn-outline btn-sm\",\n      title: \"View Action History\",\n      children: \"\\uD83D\\uDCCB\"\n    })]\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MEMsTUFBTSxFQUFFO01BQ1Y7SUFBRSxDQUFFLENBQUMsZUFDTGxFLHNEQUFBO01BQ0V3QyxPQUFPLEVBQUVzQixhQUFjO01BQ3ZCL0IsU0FBUyxFQUFDLHdCQUF3QjtNQUNsQ2lDLEtBQUssRUFBQyxxQkFBcUI7TUFBQWxDLFFBQUEsRUFDNUI7SUFFRCxDQUFRLENBQUM7RUFBQSxDQUNOLENBQUM7QUFFViIsInNvdXJjZXMiOlsid2VicGFjazovL0BjbGVhbnNoYXJlL3VpLy4vc3JjL2NvbXBvbmVudHMvVW5kb1JlZG9NYW5hZ2VyLnRzeD8wMDg2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVW5kb1JlZG8gfSBmcm9tICcuLi9ob29rcy91c2VVbmRvUmVkbyc7XG5cbmludGVyZmFjZSBVbmRvUmVkb01hbmFnZXJQcm9wcyB7XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgb25VbmRvOiAoKSA9PiB2b2lkO1xuICBvblJlZG86ICgpID0+IHZvaWQ7XG4gIGNhblVuZG86IGJvb2xlYW47XG4gIGNhblJlZG86IGJvb2xlYW47XG4gIGhpc3RvcnlQcmV2aWV3OiBBcnJheTx7XG4gICAgaW5kZXg6IG51bWJlcjtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgICBpc0N1cnJlbnQ6IGJvb2xlYW47XG4gICAgY2FuUmV2ZXJ0OiBib29sZWFuO1xuICB9PjtcbiAgb25KdW1wVG86IChpbmRleDogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVbmRvUmVkb01hbmFnZXIoe1xuICBpc09wZW4sXG4gIG9uQ2xvc2UsXG4gIG9uVW5kbyxcbiAgb25SZWRvLFxuICBjYW5VbmRvLFxuICBjYW5SZWRvLFxuICBoaXN0b3J5UHJldmlldyxcbiAgb25KdW1wVG9cbn06IFVuZG9SZWRvTWFuYWdlclByb3BzKSB7XG4gIGNvbnN0IGZvcm1hdFRpbWUgPSAodGltZXN0YW1wOiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wKS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgfTtcblxuICBjb25zdCBnZXRBY3Rpb25JY29uID0gKHR5cGU6IHN0cmluZykgPT4ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAndG9nZ2xlLWRldGVjdGlvbic6XG4gICAgICAgIHJldHVybiAn4piR77iPJztcbiAgICAgIGNhc2UgJ2NoYW5nZS1yZWRhY3Rpb24tc3R5bGUnOlxuICAgICAgICByZXR1cm4gJ/CfjqgnO1xuICAgICAgY2FzZSAnY2hhbmdlLWxhYmVsLXRleHQnOlxuICAgICAgICByZXR1cm4gJ/Cfk50nO1xuICAgICAgY2FzZSAnYnVsay10b2dnbGUnOlxuICAgICAgICByZXR1cm4gJ/Cfk4snO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICfimpnvuI8nO1xuICAgIH1cbiAgfTtcblxuICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNSknLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICB6SW5kZXg6IDEwMDAsXG4gICAgICBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbWQpJ1xuICAgIH19PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCIgc3R5bGU9e3tcbiAgICAgICAgbWluV2lkdGg6ICc1MDBweCcsXG4gICAgICAgIG1heFdpZHRoOiAnOTB2dycsXG4gICAgICAgIG1heEhlaWdodDogJzcwdmgnLFxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbidcbiAgICAgIH19PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtaGVhZGVyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImNhcmQtdGl0bGVcIj5BY3Rpb24gSGlzdG9yeTwvaDM+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC1zdWJ0aXRsZVwiPlVuZG8gb3IgcmVkbyB5b3VyIHJlY2VudCBjaGFuZ2VzPC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiIHN0eWxlPXt7IGZsZXg6IDEsIG92ZXJmbG93OiAnYXV0bycgfX0+XG4gICAgICAgICAgey8qIEFjdGlvbiBDb250cm9scyAqL31cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICBnYXA6ICd2YXIoLS1zcGFjZS1tZCknLFxuICAgICAgICAgICAgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UtbGcpJyxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInXG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uVW5kb31cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFjYW5VbmRvfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBvcGFjaXR5OiBjYW5VbmRvID8gMSA6IDAuNSB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDihrYgVW5kb1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uUmVkb31cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFjYW5SZWRvfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBvcGFjaXR5OiBjYW5SZWRvID8gMSA6IDAuNSB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDihrcgUmVkb1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXNtKScsXG4gICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyxcbiAgICAgICAgICAgICAgbWFyZ2luTGVmdDogJ2F1dG8nXG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgS2V5Ym9hcmQ6IEN0cmwrWiAvIEN0cmwrWVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogSGlzdG9yeSBUaW1lbGluZSAqL31cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGg0IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLW1kKScgfX0+UmVjZW50IEFjdGlvbnM8L2g0PlxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBnYXA6ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICB7aGlzdG9yeVByZXZpZXcubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICBoaXN0b3J5UHJldmlldy5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtLmluZGV4fVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkp1bXBUbyhpdGVtLmluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAndmFyKC0tc3BhY2Utc20pJyxcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IGAxcHggc29saWQgJHtpdGVtLmlzQ3VycmVudCA/ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgOiAndmFyKC0tYm9yZGVyLWxpZ2h0KSd9YCxcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICd2YXIoLS1yYWRpdXMtc20pJyxcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBpdGVtLmlzQ3VycmVudCA/ICd2YXIoLS1iZy1zZWNvbmRhcnkpJyA6ICd2YXIoLS1iZy1wcmltYXJ5KScsXG4gICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgIGdhcDogJ3ZhcigtLXNwYWNlLXNtKScsXG4gICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCB2YXIoLS10cmFuc2l0aW9uLWZhc3QpJyxcbiAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBpdGVtLmNhblJldmVydCA/IDEgOiAwLjZcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtbGcpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7Z2V0QWN0aW9uSWNvbihpdGVtLnR5cGUpfVxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSB9fT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBpdGVtLmlzQ3VycmVudCA/ICc2MDAnIDogJzQwMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknXG4gICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5kZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS14cyknLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknXG4gICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0VGltZShpdGVtLnRpbWVzdGFtcCl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7aXRlbS5pc0N1cnJlbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnMnB4IDZweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tY29sb3ItcHJpbWFyeSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd3aGl0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICczcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUteHMpJ1xuICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgQ3VycmVudFxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICd2YXIoLS1zcGFjZS14bCknXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICBObyBhY3Rpb25zIHRvIHVuZG8geWV0LiBTdGFydCBtYWtpbmcgY2hhbmdlcyB0byBzZWUgaGlzdG9yeSBoZXJlLlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogSGVscCBUZXh0ICovfVxuICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgIG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLWxnKScsXG4gICAgICAgICAgICBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbWQpJyxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS1iZy1zZWNvbmRhcnkpJyxcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJ3ZhcigtLXJhZGl1cy1tZCknLFxuICAgICAgICAgICAgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtc20pJyxcbiAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJ1xuICAgICAgICAgIH19PlxuICAgICAgICAgICAgPHN0cm9uZz5UaXBzOjwvc3Ryb25nPlxuICAgICAgICAgICAgPHVsIHN0eWxlPXt7IG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLXhzKScsIHBhZGRpbmdMZWZ0OiAnMjBweCcgfX0+XG4gICAgICAgICAgICAgIDxsaT5Vc2UgQ3RybCtaIHRvIHVuZG8gdGhlIGxhc3QgYWN0aW9uPC9saT5cbiAgICAgICAgICAgICAgPGxpPlVzZSBDdHJsK1kgdG8gcmVkbyBhbiB1bmRvbmUgYWN0aW9uPC9saT5cbiAgICAgICAgICAgICAgPGxpPkNsaWNrIG9uIGFueSBhY3Rpb24gaW4gdGhlIHRpbWVsaW5lIHRvIGp1bXAgdG8gdGhhdCBwb2ludDwvbGk+XG4gICAgICAgICAgICAgIDxsaT5BY3Rpb25zIGFyZSBhdXRvbWF0aWNhbGx5IHNhdmVkIGFuZCBwZXJzaXN0IGFjcm9zcyBwYWdlIHJlZnJlc2hlczwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtZm9vdGVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsb3NlfSBjbGFzc05hbWU9XCJidG4gYnRuLWdob3N0XCI+XG4gICAgICAgICAgICBDbG9zZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG4vLyBGbG9hdGluZyBVbmRvL1JlZG8gQ29udHJvbHMgQ29tcG9uZW50XG5leHBvcnQgZnVuY3Rpb24gVW5kb1JlZG9Db250cm9scyh7XG4gIG9uVW5kbyxcbiAgb25SZWRvLFxuICBjYW5VbmRvLFxuICBjYW5SZWRvLFxuICBvbk9wZW5IaXN0b3J5XG59OiB7XG4gIG9uVW5kbzogKCkgPT4gdm9pZDtcbiAgb25SZWRvOiAoKSA9PiB2b2lkO1xuICBjYW5VbmRvOiBib29sZWFuO1xuICBjYW5SZWRvOiBib29sZWFuO1xuICBvbk9wZW5IaXN0b3J5OiAoKSA9PiB2b2lkO1xufSkge1xuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgYm90dG9tOiAnMjBweCcsXG4gICAgICByaWdodDogJzIwcHgnLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZ2FwOiAndmFyKC0tc3BhY2UteHMpJyxcbiAgICAgIGJhY2tncm91bmQ6ICd2YXIoLS1iZy1wcmltYXJ5KScsXG4gICAgICBib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYm9yZGVyLWxpZ2h0KScsXG4gICAgICBib3JkZXJSYWRpdXM6ICd2YXIoLS1yYWRpdXMtbGcpJyxcbiAgICAgIHBhZGRpbmc6ICd2YXIoLS1zcGFjZS14cyknLFxuICAgICAgYm94U2hhZG93OiAndmFyKC0tc2hhZG93LWxnKScsXG4gICAgICB6SW5kZXg6IDEwMFxuICAgIH19PlxuICAgICAgPGJ1dHRvblxuICAgICAgICBvbkNsaWNrPXtvblVuZG99XG4gICAgICAgIGRpc2FibGVkPXshY2FuVW5kb31cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1vdXRsaW5lIGJ0bi1zbVwiXG4gICAgICAgIHN0eWxlPXt7IG9wYWNpdHk6IGNhblVuZG8gPyAxIDogMC41IH19XG4gICAgICAgIHRpdGxlPVwiVW5kbyAoQ3RybCtaKVwiXG4gICAgICA+XG4gICAgICAgIOKGtlxuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9e29uUmVkb31cbiAgICAgICAgZGlzYWJsZWQ9eyFjYW5SZWRvfVxuICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLW91dGxpbmUgYnRuLXNtXCJcbiAgICAgICAgc3R5bGU9e3sgb3BhY2l0eTogY2FuUmVkbyA/IDEgOiAwLjUgfX1cbiAgICAgICAgdGl0bGU9XCJSZWRvIChDdHJsK1kpXCJcbiAgICAgID5cbiAgICAgICAg4oa3XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgd2lkdGg6ICcxcHgnLFxuICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tYm9yZGVyLWxpZ2h0KScsXG4gICAgICAgIG1hcmdpbjogJzJweCAwJ1xuICAgICAgfX0gLz5cbiAgICAgIDxidXR0b25cbiAgICAgICAgb25DbGljaz17b25PcGVuSGlzdG9yeX1cbiAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1vdXRsaW5lIGJ0bi1zbVwiXG4gICAgICAgIHRpdGxlPVwiVmlldyBBY3Rpb24gSGlzdG9yeVwiXG4gICAgICA+XG4gICAgICAgIPCfk4tcbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJSZWFjdCIsImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJVbmRvUmVkb01hbmFnZXIiLCJpc09wZW4iLCJvbkNsb3NlIiwib25VbmRvIiwib25SZWRvIiwiY2FuVW5kbyIsImNhblJlZG8iLCJoaXN0b3J5UHJldmlldyIsIm9uSnVtcFRvIiwiZm9ybWF0VGltZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJnZXRBY3Rpb25JY29uIiwidHlwZSIsInN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJiYWNrZ3JvdW5kIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsInpJbmRleCIsInBhZGRpbmciLCJjaGlsZHJlbiIsImNsYXNzTmFtZSIsIm1pbldpZHRoIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJvdmVyZmxvdyIsImZsZXhEaXJlY3Rpb24iLCJmbGV4IiwiZ2FwIiwibWFyZ2luQm90dG9tIiwib25DbGljayIsImRpc2FibGVkIiwib3BhY2l0eSIsImZvbnRTaXplIiwiY29sb3IiLCJtYXJnaW5MZWZ0IiwibGVuZ3RoIiwibWFwIiwiaXRlbSIsImluZGV4IiwiYm9yZGVyIiwiaXNDdXJyZW50IiwiYm9yZGVyUmFkaXVzIiwiY3Vyc29yIiwidHJhbnNpdGlvbiIsImNhblJldmVydCIsImZvbnRXZWlnaHQiLCJkZXNjcmlwdGlvbiIsInRleHRBbGlnbiIsIm1hcmdpblRvcCIsInBhZGRpbmdMZWZ0IiwiVW5kb1JlZG9Db250cm9scyIsIm9uT3Blbkhpc3RvcnkiLCJib3hTaGFkb3ciLCJ0aXRsZSIsIndpZHRoIiwibWFyZ2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/UndoRedoManager.tsx\n");

/***/ }),

/***/ "./src/hooks/useUndoRedo.ts":
/*!**********************************!*\
  !*** ./src/hooks/useUndoRedo.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useUndoRedo: () => (/* binding */ useUndoRedo)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useUndoRedo(initialState, options = {}) {\n  const {\n    maxHistorySize = 50,\n    debounceMs = 300\n  } = options;\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    current: initialState,\n    history: [],\n    currentIndex: -1,\n    canUndo: false,\n    canRedo: false\n  });\n  const debounceTimer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const pendingAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const updateState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((newCurrent, newHistory, newIndex) => {\n    setState({\n      current: newCurrent,\n      history: newHistory,\n      currentIndex: newIndex,\n      canUndo: newIndex >= 0,\n      canRedo: newIndex < newHistory.length - 1\n    });\n  }, []);\n  const executeAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(action => {\n    const newCurrent = action.redo();\n    const newHistory = [...state.history.slice(0, state.currentIndex + 1), action];\n\n    // Limit history size\n    if (newHistory.length > maxHistorySize) {\n      newHistory.shift();\n    }\n    const newIndex = newHistory.length - 1;\n    updateState(newCurrent, newHistory, newIndex);\n    return newCurrent;\n  }, [state.history, state.currentIndex, maxHistorySize, updateState]);\n  const executeWithDebounce = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(action => {\n    if (debounceTimer.current) {\n      clearTimeout(debounceTimer.current);\n    }\n    pendingAction.current = action;\n    debounceTimer.current = setTimeout(() => {\n      if (pendingAction.current) {\n        executeAction(pendingAction.current);\n        pendingAction.current = null;\n      }\n    }, debounceMs);\n\n    // Execute immediately but store for potential debouncing\n    return action.redo();\n  }, [debounceMs, executeAction]);\n  const execute = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((type, description, undoFn, redoFn, options = {}) => {\n    const action = {\n      type,\n      description,\n      timestamp: Date.now(),\n      undo: undoFn,\n      redo: redoFn\n    };\n    if (options.debounce && !options.immediate) {\n      return executeWithDebounce(action);\n    } else {\n      return executeAction(action);\n    }\n  }, [executeAction, executeWithDebounce]);\n  const undo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (state.canUndo && state.currentIndex >= 0) {\n      const action = state.history[state.currentIndex];\n      const newCurrent = action.undo();\n      const newIndex = state.currentIndex - 1;\n\n      // Update the current state without adding to history\n      setState(prev => ({\n        ...prev,\n        current: newCurrent,\n        currentIndex: newIndex,\n        canUndo: newIndex >= 0,\n        canRedo: true\n      }));\n      return newCurrent;\n    }\n    return state.current;\n  }, [state]);\n  const redo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (state.canRedo && state.currentIndex < state.history.length - 1) {\n      const nextIndex = state.currentIndex + 1;\n      const action = state.history[nextIndex];\n      const newCurrent = action.redo();\n\n      // Update the current state without adding to history\n      setState(prev => ({\n        ...prev,\n        current: newCurrent,\n        currentIndex: nextIndex,\n        canUndo: true,\n        canRedo: nextIndex < prev.history.length - 1\n      }));\n      return newCurrent;\n    }\n    return state.current;\n  }, [state]);\n  const clearHistory = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    updateState(state.current, [], -1);\n  }, [state.current, updateState]);\n  const getHistoryPreview = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((maxItems = 10) => {\n    const items = [];\n    const start = Math.max(0, state.currentIndex - maxItems + 1);\n    for (let i = start; i <= Math.min(state.currentIndex + maxItems, state.history.length - 1); i++) {\n      const action = state.history[i];\n      if (action) {\n        items.push({\n          index: i,\n          type: action.type,\n          description: action.description,\n          timestamp: action.timestamp,\n          isCurrent: i === state.currentIndex,\n          canRevert: i <= state.currentIndex\n        });\n      }\n    }\n    return items;\n  }, [state.history, state.currentIndex]);\n  const jumpToIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(targetIndex => {\n    if (targetIndex < -1 || targetIndex >= state.history.length) return state.current;\n    let newCurrent = state.current;\n    if (targetIndex > state.currentIndex) {\n      // Redo to target\n      for (let i = state.currentIndex + 1; i <= targetIndex; i++) {\n        newCurrent = state.history[i].redo();\n      }\n    } else if (targetIndex < state.currentIndex) {\n      // Undo to target\n      for (let i = state.currentIndex; i > targetIndex; i--) {\n        newCurrent = state.history[i].undo();\n      }\n    }\n    setState(prev => ({\n      ...prev,\n      current: newCurrent,\n      currentIndex: targetIndex,\n      canUndo: targetIndex >= 0,\n      canRedo: targetIndex < prev.history.length - 1\n    }));\n    return newCurrent;\n  }, [state]);\n  return {\n    // Current state\n    current: state.current,\n    // Actions\n    execute,\n    undo,\n    redo,\n    clearHistory,\n    jumpToIndex,\n    // State queries\n    canUndo: state.canUndo,\n    canRedo: state.canRedo,\n    // History inspection\n    history: state.history,\n    currentIndex: state.currentIndex,\n    getHistoryPreview\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaG9va3MvdXNlVW5kb1JlZG8udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBdUIvQyxTQUFTRyxXQUFXQSxDQUN6QkMsWUFBZSxFQUNmQyxPQUEyQixHQUFHLENBQUMsQ0FBQyxFQUNoQztFQUNBLE1BQU07SUFBRUMsY0FBYyxHQUFHLEVBQUU7SUFBRUMsVUFBVSxHQUFHO0VBQUksQ0FBQyxHQUFHRixPQUFPO0VBRXpELE1BQU0sQ0FBQ0csS0FBSyxFQUFFQyxRQUFRLENBQUMsR0FBR1QsK0NBQVEsQ0FBbUI7SUFDbkRVLE9BQU8sRUFBRU4sWUFBWTtJQUNyQk8sT0FBTyxFQUFFLEVBQUU7SUFDWEMsWUFBWSxFQUFFLENBQUMsQ0FBQztJQUNoQkMsT0FBTyxFQUFFLEtBQUs7SUFDZEMsT0FBTyxFQUFFO0VBQ1gsQ0FBQyxDQUFDO0VBRUYsTUFBTUMsYUFBYSxHQUFHYiw2Q0FBTSxDQUF3QixJQUFJLENBQUM7RUFDekQsTUFBTWMsYUFBYSxHQUFHZCw2Q0FBTSxDQUEyQixJQUFJLENBQUM7RUFFNUQsTUFBTWUsV0FBVyxHQUFHaEIsa0RBQVcsQ0FBQyxDQUFDaUIsVUFBYSxFQUFFQyxVQUErQixFQUFFQyxRQUFnQixLQUFLO0lBQ3BHWCxRQUFRLENBQUM7TUFDUEMsT0FBTyxFQUFFUSxVQUFVO01BQ25CUCxPQUFPLEVBQUVRLFVBQVU7TUFDbkJQLFlBQVksRUFBRVEsUUFBUTtNQUN0QlAsT0FBTyxFQUFFTyxRQUFRLElBQUksQ0FBQztNQUN0Qk4sT0FBTyxFQUFFTSxRQUFRLEdBQUdELFVBQVUsQ0FBQ0UsTUFBTSxHQUFHO0lBQzFDLENBQUMsQ0FBQztFQUNKLENBQUMsRUFBRSxFQUFFLENBQUM7RUFFTixNQUFNQyxhQUFhLEdBQUdyQixrREFBVyxDQUFFc0IsTUFBeUIsSUFBSztJQUMvRCxNQUFNTCxVQUFVLEdBQUdLLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDLENBQUM7SUFDaEMsTUFBTUwsVUFBVSxHQUFHLENBQUMsR0FBR1gsS0FBSyxDQUFDRyxPQUFPLENBQUNjLEtBQUssQ0FBQyxDQUFDLEVBQUVqQixLQUFLLENBQUNJLFlBQVksR0FBRyxDQUFDLENBQUMsRUFBRVcsTUFBTSxDQUFDOztJQUU5RTtJQUNBLElBQUlKLFVBQVUsQ0FBQ0UsTUFBTSxHQUFHZixjQUFjLEVBQUU7TUFDdENhLFVBQVUsQ0FBQ08sS0FBSyxDQUFDLENBQUM7SUFDcEI7SUFFQSxNQUFNTixRQUFRLEdBQUdELFVBQVUsQ0FBQ0UsTUFBTSxHQUFHLENBQUM7SUFDdENKLFdBQVcsQ0FBQ0MsVUFBVSxFQUFFQyxVQUFVLEVBQUVDLFFBQVEsQ0FBQztJQUU3QyxPQUFPRixVQUFVO0VBQ25CLENBQUMsRUFBRSxDQUFDVixLQUFLLENBQUNHLE9BQU8sRUFBRUgsS0FBSyxDQUFDSSxZQUFZLEVBQUVOLGNBQWMsRUFBRVcsV0FBVyxDQUFDLENBQUM7RUFFcEUsTUFBTVUsbUJBQW1CLEdBQUcxQixrREFBVyxDQUFFc0IsTUFBeUIsSUFBSztJQUNyRSxJQUFJUixhQUFhLENBQUNMLE9BQU8sRUFBRTtNQUN6QmtCLFlBQVksQ0FBQ2IsYUFBYSxDQUFDTCxPQUFPLENBQUM7SUFDckM7SUFFQU0sYUFBYSxDQUFDTixPQUFPLEdBQUdhLE1BQU07SUFFOUJSLGFBQWEsQ0FBQ0wsT0FBTyxHQUFHbUIsVUFBVSxDQUFDLE1BQU07TUFDdkMsSUFBSWIsYUFBYSxDQUFDTixPQUFPLEVBQUU7UUFDekJZLGFBQWEsQ0FBQ04sYUFBYSxDQUFDTixPQUFPLENBQUM7UUFDcENNLGFBQWEsQ0FBQ04sT0FBTyxHQUFHLElBQUk7TUFDOUI7SUFDRixDQUFDLEVBQUVILFVBQVUsQ0FBQzs7SUFFZDtJQUNBLE9BQU9nQixNQUFNLENBQUNDLElBQUksQ0FBQyxDQUFDO0VBQ3RCLENBQUMsRUFBRSxDQUFDakIsVUFBVSxFQUFFZSxhQUFhLENBQUMsQ0FBQztFQUUvQixNQUFNUSxPQUFPLEdBQUc3QixrREFBVyxDQUFDLENBQzFCOEIsSUFBWSxFQUNaQyxXQUFtQixFQUNuQkMsTUFBZSxFQUNmQyxNQUFlLEVBQ2Y3QixPQUFvRCxHQUFHLENBQUMsQ0FBQyxLQUNuRDtJQUNOLE1BQU1rQixNQUF5QixHQUFHO01BQ2hDUSxJQUFJO01BQ0pDLFdBQVc7TUFDWEcsU0FBUyxFQUFFQyxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDO01BQ3JCQyxJQUFJLEVBQUVMLE1BQU07TUFDWlQsSUFBSSxFQUFFVTtJQUNSLENBQUM7SUFFRCxJQUFJN0IsT0FBTyxDQUFDa0MsUUFBUSxJQUFJLENBQUNsQyxPQUFPLENBQUNtQyxTQUFTLEVBQUU7TUFDMUMsT0FBT2IsbUJBQW1CLENBQUNKLE1BQU0sQ0FBQztJQUNwQyxDQUFDLE1BQU07TUFDTCxPQUFPRCxhQUFhLENBQUNDLE1BQU0sQ0FBQztJQUM5QjtFQUNGLENBQUMsRUFBRSxDQUFDRCxhQUFhLEVBQUVLLG1CQUFtQixDQUFDLENBQUM7RUFFeEMsTUFBTVcsSUFBSSxHQUFHckMsa0RBQVcsQ0FBQyxNQUFNO0lBQzdCLElBQUlPLEtBQUssQ0FBQ0ssT0FBTyxJQUFJTCxLQUFLLENBQUNJLFlBQVksSUFBSSxDQUFDLEVBQUU7TUFDNUMsTUFBTVcsTUFBTSxHQUFHZixLQUFLLENBQUNHLE9BQU8sQ0FBQ0gsS0FBSyxDQUFDSSxZQUFZLENBQUM7TUFDaEQsTUFBTU0sVUFBVSxHQUFHSyxNQUFNLENBQUNlLElBQUksQ0FBQyxDQUFDO01BQ2hDLE1BQU1sQixRQUFRLEdBQUdaLEtBQUssQ0FBQ0ksWUFBWSxHQUFHLENBQUM7O01BRXZDO01BQ0FILFFBQVEsQ0FBQ2dDLElBQUksS0FBSztRQUNoQixHQUFHQSxJQUFJO1FBQ1AvQixPQUFPLEVBQUVRLFVBQVU7UUFDbkJOLFlBQVksRUFBRVEsUUFBUTtRQUN0QlAsT0FBTyxFQUFFTyxRQUFRLElBQUksQ0FBQztRQUN0Qk4sT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDLENBQUM7TUFFSCxPQUFPSSxVQUFVO0lBQ25CO0lBQ0EsT0FBT1YsS0FBSyxDQUFDRSxPQUFPO0VBQ3RCLENBQUMsRUFBRSxDQUFDRixLQUFLLENBQUMsQ0FBQztFQUVYLE1BQU1nQixJQUFJLEdBQUd2QixrREFBVyxDQUFDLE1BQU07SUFDN0IsSUFBSU8sS0FBSyxDQUFDTSxPQUFPLElBQUlOLEtBQUssQ0FBQ0ksWUFBWSxHQUFHSixLQUFLLENBQUNHLE9BQU8sQ0FBQ1UsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUNsRSxNQUFNcUIsU0FBUyxHQUFHbEMsS0FBSyxDQUFDSSxZQUFZLEdBQUcsQ0FBQztNQUN4QyxNQUFNVyxNQUFNLEdBQUdmLEtBQUssQ0FBQ0csT0FBTyxDQUFDK0IsU0FBUyxDQUFDO01BQ3ZDLE1BQU14QixVQUFVLEdBQUdLLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDLENBQUM7O01BRWhDO01BQ0FmLFFBQVEsQ0FBQ2dDLElBQUksS0FBSztRQUNoQixHQUFHQSxJQUFJO1FBQ1AvQixPQUFPLEVBQUVRLFVBQVU7UUFDbkJOLFlBQVksRUFBRThCLFNBQVM7UUFDdkI3QixPQUFPLEVBQUUsSUFBSTtRQUNiQyxPQUFPLEVBQUU0QixTQUFTLEdBQUdELElBQUksQ0FBQzlCLE9BQU8sQ0FBQ1UsTUFBTSxHQUFHO01BQzdDLENBQUMsQ0FBQyxDQUFDO01BRUgsT0FBT0gsVUFBVTtJQUNuQjtJQUNBLE9BQU9WLEtBQUssQ0FBQ0UsT0FBTztFQUN0QixDQUFDLEVBQUUsQ0FBQ0YsS0FBSyxDQUFDLENBQUM7RUFFWCxNQUFNbUMsWUFBWSxHQUFHMUMsa0RBQVcsQ0FBQyxNQUFNO0lBQ3JDZ0IsV0FBVyxDQUFDVCxLQUFLLENBQUNFLE9BQU8sRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7RUFDcEMsQ0FBQyxFQUFFLENBQUNGLEtBQUssQ0FBQ0UsT0FBTyxFQUFFTyxXQUFXLENBQUMsQ0FBQztFQUVoQyxNQUFNMkIsaUJBQWlCLEdBQUczQyxrREFBVyxDQUFDLENBQUM0QyxRQUFnQixHQUFHLEVBQUUsS0FBSztJQUMvRCxNQUFNQyxLQUFLLEdBQUcsRUFBRTtJQUNoQixNQUFNQyxLQUFLLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsRUFBRXpDLEtBQUssQ0FBQ0ksWUFBWSxHQUFHaUMsUUFBUSxHQUFHLENBQUMsQ0FBQztJQUU1RCxLQUFLLElBQUlLLENBQUMsR0FBR0gsS0FBSyxFQUFFRyxDQUFDLElBQUlGLElBQUksQ0FBQ0csR0FBRyxDQUFDM0MsS0FBSyxDQUFDSSxZQUFZLEdBQUdpQyxRQUFRLEVBQUVyQyxLQUFLLENBQUNHLE9BQU8sQ0FBQ1UsTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFNkIsQ0FBQyxFQUFFLEVBQUU7TUFDL0YsTUFBTTNCLE1BQU0sR0FBR2YsS0FBSyxDQUFDRyxPQUFPLENBQUN1QyxDQUFDLENBQUM7TUFDL0IsSUFBSTNCLE1BQU0sRUFBRTtRQUNWdUIsS0FBSyxDQUFDTSxJQUFJLENBQUM7VUFDVEMsS0FBSyxFQUFFSCxDQUFDO1VBQ1JuQixJQUFJLEVBQUVSLE1BQU0sQ0FBQ1EsSUFBSTtVQUNqQkMsV0FBVyxFQUFFVCxNQUFNLENBQUNTLFdBQVc7VUFDL0JHLFNBQVMsRUFBRVosTUFBTSxDQUFDWSxTQUFTO1VBQzNCbUIsU0FBUyxFQUFFSixDQUFDLEtBQUsxQyxLQUFLLENBQUNJLFlBQVk7VUFDbkMyQyxTQUFTLEVBQUVMLENBQUMsSUFBSTFDLEtBQUssQ0FBQ0k7UUFDeEIsQ0FBQyxDQUFDO01BQ0o7SUFDRjtJQUVBLE9BQU9rQyxLQUFLO0VBQ2QsQ0FBQyxFQUFFLENBQUN0QyxLQUFLLENBQUNHLE9BQU8sRUFBRUgsS0FBSyxDQUFDSSxZQUFZLENBQUMsQ0FBQztFQUV2QyxNQUFNNEMsV0FBVyxHQUFHdkQsa0RBQVcsQ0FBRXdELFdBQW1CLElBQUs7SUFDdkQsSUFBSUEsV0FBVyxHQUFHLENBQUMsQ0FBQyxJQUFJQSxXQUFXLElBQUlqRCxLQUFLLENBQUNHLE9BQU8sQ0FBQ1UsTUFBTSxFQUFFLE9BQU9iLEtBQUssQ0FBQ0UsT0FBTztJQUVqRixJQUFJUSxVQUFVLEdBQUdWLEtBQUssQ0FBQ0UsT0FBTztJQUU5QixJQUFJK0MsV0FBVyxHQUFHakQsS0FBSyxDQUFDSSxZQUFZLEVBQUU7TUFDcEM7TUFDQSxLQUFLLElBQUlzQyxDQUFDLEdBQUcxQyxLQUFLLENBQUNJLFlBQVksR0FBRyxDQUFDLEVBQUVzQyxDQUFDLElBQUlPLFdBQVcsRUFBRVAsQ0FBQyxFQUFFLEVBQUU7UUFDMURoQyxVQUFVLEdBQUdWLEtBQUssQ0FBQ0csT0FBTyxDQUFDdUMsQ0FBQyxDQUFDLENBQUMxQixJQUFJLENBQUMsQ0FBQztNQUN0QztJQUNGLENBQUMsTUFBTSxJQUFJaUMsV0FBVyxHQUFHakQsS0FBSyxDQUFDSSxZQUFZLEVBQUU7TUFDM0M7TUFDQSxLQUFLLElBQUlzQyxDQUFDLEdBQUcxQyxLQUFLLENBQUNJLFlBQVksRUFBRXNDLENBQUMsR0FBR08sV0FBVyxFQUFFUCxDQUFDLEVBQUUsRUFBRTtRQUNyRGhDLFVBQVUsR0FBR1YsS0FBSyxDQUFDRyxPQUFPLENBQUN1QyxDQUFDLENBQUMsQ0FBQ1osSUFBSSxDQUFDLENBQUM7TUFDdEM7SUFDRjtJQUVBN0IsUUFBUSxDQUFDZ0MsSUFBSSxLQUFLO01BQ2hCLEdBQUdBLElBQUk7TUFDUC9CLE9BQU8sRUFBRVEsVUFBVTtNQUNuQk4sWUFBWSxFQUFFNkMsV0FBVztNQUN6QjVDLE9BQU8sRUFBRTRDLFdBQVcsSUFBSSxDQUFDO01BQ3pCM0MsT0FBTyxFQUFFMkMsV0FBVyxHQUFHaEIsSUFBSSxDQUFDOUIsT0FBTyxDQUFDVSxNQUFNLEdBQUc7SUFDL0MsQ0FBQyxDQUFDLENBQUM7SUFFSCxPQUFPSCxVQUFVO0VBQ25CLENBQUMsRUFBRSxDQUFDVixLQUFLLENBQUMsQ0FBQztFQUVYLE9BQU87SUFDTDtJQUNBRSxPQUFPLEVBQUVGLEtBQUssQ0FBQ0UsT0FBTztJQUV0QjtJQUNBb0IsT0FBTztJQUNQUSxJQUFJO0lBQ0pkLElBQUk7SUFDSm1CLFlBQVk7SUFDWmEsV0FBVztJQUVYO0lBQ0EzQyxPQUFPLEVBQUVMLEtBQUssQ0FBQ0ssT0FBTztJQUN0QkMsT0FBTyxFQUFFTixLQUFLLENBQUNNLE9BQU87SUFFdEI7SUFDQUgsT0FBTyxFQUFFSCxLQUFLLENBQUNHLE9BQU87SUFDdEJDLFlBQVksRUFBRUosS0FBSyxDQUFDSSxZQUFZO0lBQ2hDZ0M7RUFDRixDQUFDO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uL3NyYy9ob29rcy91c2VVbmRvUmVkby50cz8xZTg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVuZG9SZWRvQWN0aW9uPFQ+IHtcbiAgdHlwZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgdW5kbzogKCkgPT4gVDtcbiAgcmVkbzogKCkgPT4gVDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVbmRvUmVkb1N0YXRlPFQ+IHtcbiAgY3VycmVudDogVDtcbiAgaGlzdG9yeTogVW5kb1JlZG9BY3Rpb248VD5bXTtcbiAgY3VycmVudEluZGV4OiBudW1iZXI7XG4gIGNhblVuZG86IGJvb2xlYW47XG4gIGNhblJlZG86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBVc2VVbmRvUmVkb09wdGlvbnMge1xuICBtYXhIaXN0b3J5U2l6ZT86IG51bWJlcjtcbiAgZGVib3VuY2VNcz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVVuZG9SZWRvPFQ+KFxuICBpbml0aWFsU3RhdGU6IFQsXG4gIG9wdGlvbnM6IFVzZVVuZG9SZWRvT3B0aW9ucyA9IHt9XG4pIHtcbiAgY29uc3QgeyBtYXhIaXN0b3J5U2l6ZSA9IDUwLCBkZWJvdW5jZU1zID0gMzAwIH0gPSBvcHRpb25zO1xuICBcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZTxVbmRvUmVkb1N0YXRlPFQ+Pih7XG4gICAgY3VycmVudDogaW5pdGlhbFN0YXRlLFxuICAgIGhpc3Rvcnk6IFtdLFxuICAgIGN1cnJlbnRJbmRleDogLTEsXG4gICAgY2FuVW5kbzogZmFsc2UsXG4gICAgY2FuUmVkbzogZmFsc2VcbiAgfSk7XG4gIFxuICBjb25zdCBkZWJvdW5jZVRpbWVyID0gdXNlUmVmPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHBlbmRpbmdBY3Rpb24gPSB1c2VSZWY8VW5kb1JlZG9BY3Rpb248VD4gfCBudWxsPihudWxsKTtcblxuICBjb25zdCB1cGRhdGVTdGF0ZSA9IHVzZUNhbGxiYWNrKChuZXdDdXJyZW50OiBULCBuZXdIaXN0b3J5OiBVbmRvUmVkb0FjdGlvbjxUPltdLCBuZXdJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgc2V0U3RhdGUoe1xuICAgICAgY3VycmVudDogbmV3Q3VycmVudCxcbiAgICAgIGhpc3Rvcnk6IG5ld0hpc3RvcnksXG4gICAgICBjdXJyZW50SW5kZXg6IG5ld0luZGV4LFxuICAgICAgY2FuVW5kbzogbmV3SW5kZXggPj0gMCxcbiAgICAgIGNhblJlZG86IG5ld0luZGV4IDwgbmV3SGlzdG9yeS5sZW5ndGggLSAxXG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBleGVjdXRlQWN0aW9uID0gdXNlQ2FsbGJhY2soKGFjdGlvbjogVW5kb1JlZG9BY3Rpb248VD4pID0+IHtcbiAgICBjb25zdCBuZXdDdXJyZW50ID0gYWN0aW9uLnJlZG8oKTtcbiAgICBjb25zdCBuZXdIaXN0b3J5ID0gWy4uLnN0YXRlLmhpc3Rvcnkuc2xpY2UoMCwgc3RhdGUuY3VycmVudEluZGV4ICsgMSksIGFjdGlvbl07XG4gICAgXG4gICAgLy8gTGltaXQgaGlzdG9yeSBzaXplXG4gICAgaWYgKG5ld0hpc3RvcnkubGVuZ3RoID4gbWF4SGlzdG9yeVNpemUpIHtcbiAgICAgIG5ld0hpc3Rvcnkuc2hpZnQoKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgbmV3SW5kZXggPSBuZXdIaXN0b3J5Lmxlbmd0aCAtIDE7XG4gICAgdXBkYXRlU3RhdGUobmV3Q3VycmVudCwgbmV3SGlzdG9yeSwgbmV3SW5kZXgpO1xuICAgIFxuICAgIHJldHVybiBuZXdDdXJyZW50O1xuICB9LCBbc3RhdGUuaGlzdG9yeSwgc3RhdGUuY3VycmVudEluZGV4LCBtYXhIaXN0b3J5U2l6ZSwgdXBkYXRlU3RhdGVdKTtcblxuICBjb25zdCBleGVjdXRlV2l0aERlYm91bmNlID0gdXNlQ2FsbGJhY2soKGFjdGlvbjogVW5kb1JlZG9BY3Rpb248VD4pID0+IHtcbiAgICBpZiAoZGVib3VuY2VUaW1lci5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VUaW1lci5jdXJyZW50KTtcbiAgICB9XG5cbiAgICBwZW5kaW5nQWN0aW9uLmN1cnJlbnQgPSBhY3Rpb247XG4gICAgXG4gICAgZGVib3VuY2VUaW1lci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0FjdGlvbi5jdXJyZW50KSB7XG4gICAgICAgIGV4ZWN1dGVBY3Rpb24ocGVuZGluZ0FjdGlvbi5jdXJyZW50KTtcbiAgICAgICAgcGVuZGluZ0FjdGlvbi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LCBkZWJvdW5jZU1zKTtcblxuICAgIC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgYnV0IHN0b3JlIGZvciBwb3RlbnRpYWwgZGVib3VuY2luZ1xuICAgIHJldHVybiBhY3Rpb24ucmVkbygpO1xuICB9LCBbZGVib3VuY2VNcywgZXhlY3V0ZUFjdGlvbl0pO1xuXG4gIGNvbnN0IGV4ZWN1dGUgPSB1c2VDYWxsYmFjaygoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICAgdW5kb0ZuOiAoKSA9PiBULFxuICAgIHJlZG9GbjogKCkgPT4gVCxcbiAgICBvcHRpb25zOiB7IGltbWVkaWF0ZT86IGJvb2xlYW47IGRlYm91bmNlPzogYm9vbGVhbiB9ID0ge31cbiAgKTogVCA9PiB7XG4gICAgY29uc3QgYWN0aW9uOiBVbmRvUmVkb0FjdGlvbjxUPiA9IHtcbiAgICAgIHR5cGUsXG4gICAgICBkZXNjcmlwdGlvbixcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIHVuZG86IHVuZG9GbixcbiAgICAgIHJlZG86IHJlZG9GblxuICAgIH07XG5cbiAgICBpZiAob3B0aW9ucy5kZWJvdW5jZSAmJiAhb3B0aW9ucy5pbW1lZGlhdGUpIHtcbiAgICAgIHJldHVybiBleGVjdXRlV2l0aERlYm91bmNlKGFjdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBleGVjdXRlQWN0aW9uKGFjdGlvbik7XG4gICAgfVxuICB9LCBbZXhlY3V0ZUFjdGlvbiwgZXhlY3V0ZVdpdGhEZWJvdW5jZV0pO1xuXG4gIGNvbnN0IHVuZG8gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHN0YXRlLmNhblVuZG8gJiYgc3RhdGUuY3VycmVudEluZGV4ID49IDApIHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IHN0YXRlLmhpc3Rvcnlbc3RhdGUuY3VycmVudEluZGV4XTtcbiAgICAgIGNvbnN0IG5ld0N1cnJlbnQgPSBhY3Rpb24udW5kbygpO1xuICAgICAgY29uc3QgbmV3SW5kZXggPSBzdGF0ZS5jdXJyZW50SW5kZXggLSAxO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdGhlIGN1cnJlbnQgc3RhdGUgd2l0aG91dCBhZGRpbmcgdG8gaGlzdG9yeVxuICAgICAgc2V0U3RhdGUocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBjdXJyZW50OiBuZXdDdXJyZW50LFxuICAgICAgICBjdXJyZW50SW5kZXg6IG5ld0luZGV4LFxuICAgICAgICBjYW5VbmRvOiBuZXdJbmRleCA+PSAwLFxuICAgICAgICBjYW5SZWRvOiB0cnVlXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIHJldHVybiBuZXdDdXJyZW50O1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUuY3VycmVudDtcbiAgfSwgW3N0YXRlXSk7XG5cbiAgY29uc3QgcmVkbyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoc3RhdGUuY2FuUmVkbyAmJiBzdGF0ZS5jdXJyZW50SW5kZXggPCBzdGF0ZS5oaXN0b3J5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIGNvbnN0IG5leHRJbmRleCA9IHN0YXRlLmN1cnJlbnRJbmRleCArIDE7XG4gICAgICBjb25zdCBhY3Rpb24gPSBzdGF0ZS5oaXN0b3J5W25leHRJbmRleF07XG4gICAgICBjb25zdCBuZXdDdXJyZW50ID0gYWN0aW9uLnJlZG8oKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHRoZSBjdXJyZW50IHN0YXRlIHdpdGhvdXQgYWRkaW5nIHRvIGhpc3RvcnlcbiAgICAgIHNldFN0YXRlKHByZXYgPT4gKHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgY3VycmVudDogbmV3Q3VycmVudCxcbiAgICAgICAgY3VycmVudEluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgIGNhblVuZG86IHRydWUsXG4gICAgICAgIGNhblJlZG86IG5leHRJbmRleCA8IHByZXYuaGlzdG9yeS5sZW5ndGggLSAxXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIHJldHVybiBuZXdDdXJyZW50O1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUuY3VycmVudDtcbiAgfSwgW3N0YXRlXSk7XG5cbiAgY29uc3QgY2xlYXJIaXN0b3J5ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHVwZGF0ZVN0YXRlKHN0YXRlLmN1cnJlbnQsIFtdLCAtMSk7XG4gIH0sIFtzdGF0ZS5jdXJyZW50LCB1cGRhdGVTdGF0ZV0pO1xuXG4gIGNvbnN0IGdldEhpc3RvcnlQcmV2aWV3ID0gdXNlQ2FsbGJhY2soKG1heEl0ZW1zOiBudW1iZXIgPSAxMCkgPT4ge1xuICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgY29uc3Qgc3RhcnQgPSBNYXRoLm1heCgwLCBzdGF0ZS5jdXJyZW50SW5kZXggLSBtYXhJdGVtcyArIDEpO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8PSBNYXRoLm1pbihzdGF0ZS5jdXJyZW50SW5kZXggKyBtYXhJdGVtcywgc3RhdGUuaGlzdG9yeS5sZW5ndGggLSAxKTsgaSsrKSB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBzdGF0ZS5oaXN0b3J5W2ldO1xuICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICB0eXBlOiBhY3Rpb24udHlwZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHRpbWVzdGFtcDogYWN0aW9uLnRpbWVzdGFtcCxcbiAgICAgICAgICBpc0N1cnJlbnQ6IGkgPT09IHN0YXRlLmN1cnJlbnRJbmRleCxcbiAgICAgICAgICBjYW5SZXZlcnQ6IGkgPD0gc3RhdGUuY3VycmVudEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gaXRlbXM7XG4gIH0sIFtzdGF0ZS5oaXN0b3J5LCBzdGF0ZS5jdXJyZW50SW5kZXhdKTtcblxuICBjb25zdCBqdW1wVG9JbmRleCA9IHVzZUNhbGxiYWNrKCh0YXJnZXRJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHRhcmdldEluZGV4IDwgLTEgfHwgdGFyZ2V0SW5kZXggPj0gc3RhdGUuaGlzdG9yeS5sZW5ndGgpIHJldHVybiBzdGF0ZS5jdXJyZW50O1xuICAgIFxuICAgIGxldCBuZXdDdXJyZW50ID0gc3RhdGUuY3VycmVudDtcbiAgICBcbiAgICBpZiAodGFyZ2V0SW5kZXggPiBzdGF0ZS5jdXJyZW50SW5kZXgpIHtcbiAgICAgIC8vIFJlZG8gdG8gdGFyZ2V0XG4gICAgICBmb3IgKGxldCBpID0gc3RhdGUuY3VycmVudEluZGV4ICsgMTsgaSA8PSB0YXJnZXRJbmRleDsgaSsrKSB7XG4gICAgICAgIG5ld0N1cnJlbnQgPSBzdGF0ZS5oaXN0b3J5W2ldLnJlZG8oKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRhcmdldEluZGV4IDwgc3RhdGUuY3VycmVudEluZGV4KSB7XG4gICAgICAvLyBVbmRvIHRvIHRhcmdldFxuICAgICAgZm9yIChsZXQgaSA9IHN0YXRlLmN1cnJlbnRJbmRleDsgaSA+IHRhcmdldEluZGV4OyBpLS0pIHtcbiAgICAgICAgbmV3Q3VycmVudCA9IHN0YXRlLmhpc3RvcnlbaV0udW5kbygpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBzZXRTdGF0ZShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgY3VycmVudDogbmV3Q3VycmVudCxcbiAgICAgIGN1cnJlbnRJbmRleDogdGFyZ2V0SW5kZXgsXG4gICAgICBjYW5VbmRvOiB0YXJnZXRJbmRleCA+PSAwLFxuICAgICAgY2FuUmVkbzogdGFyZ2V0SW5kZXggPCBwcmV2Lmhpc3RvcnkubGVuZ3RoIC0gMVxuICAgIH0pKTtcbiAgICBcbiAgICByZXR1cm4gbmV3Q3VycmVudDtcbiAgfSwgW3N0YXRlXSk7XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBDdXJyZW50IHN0YXRlXG4gICAgY3VycmVudDogc3RhdGUuY3VycmVudCxcbiAgICBcbiAgICAvLyBBY3Rpb25zXG4gICAgZXhlY3V0ZSxcbiAgICB1bmRvLFxuICAgIHJlZG8sXG4gICAgY2xlYXJIaXN0b3J5LFxuICAgIGp1bXBUb0luZGV4LFxuICAgIFxuICAgIC8vIFN0YXRlIHF1ZXJpZXNcbiAgICBjYW5VbmRvOiBzdGF0ZS5jYW5VbmRvLFxuICAgIGNhblJlZG86IHN0YXRlLmNhblJlZG8sXG4gICAgXG4gICAgLy8gSGlzdG9yeSBpbnNwZWN0aW9uXG4gICAgaGlzdG9yeTogc3RhdGUuaGlzdG9yeSxcbiAgICBjdXJyZW50SW5kZXg6IHN0YXRlLmN1cnJlbnRJbmRleCxcbiAgICBnZXRIaXN0b3J5UHJldmlld1xuICB9O1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlUmVmIiwidXNlVW5kb1JlZG8iLCJpbml0aWFsU3RhdGUiLCJvcHRpb25zIiwibWF4SGlzdG9yeVNpemUiLCJkZWJvdW5jZU1zIiwic3RhdGUiLCJzZXRTdGF0ZSIsImN1cnJlbnQiLCJoaXN0b3J5IiwiY3VycmVudEluZGV4IiwiY2FuVW5kbyIsImNhblJlZG8iLCJkZWJvdW5jZVRpbWVyIiwicGVuZGluZ0FjdGlvbiIsInVwZGF0ZVN0YXRlIiwibmV3Q3VycmVudCIsIm5ld0hpc3RvcnkiLCJuZXdJbmRleCIsImxlbmd0aCIsImV4ZWN1dGVBY3Rpb24iLCJhY3Rpb24iLCJyZWRvIiwic2xpY2UiLCJzaGlmdCIsImV4ZWN1dGVXaXRoRGVib3VuY2UiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZXhlY3V0ZSIsInR5cGUiLCJkZXNjcmlwdGlvbiIsInVuZG9GbiIsInJlZG9GbiIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJ1bmRvIiwiZGVib3VuY2UiLCJpbW1lZGlhdGUiLCJwcmV2IiwibmV4dEluZGV4IiwiY2xlYXJIaXN0b3J5IiwiZ2V0SGlzdG9yeVByZXZpZXciLCJtYXhJdGVtcyIsIml0ZW1zIiwic3RhcnQiLCJNYXRoIiwibWF4IiwiaSIsIm1pbiIsInB1c2giLCJpbmRleCIsImlzQ3VycmVudCIsImNhblJldmVydCIsImp1bXBUb0luZGV4IiwidGFyZ2V0SW5kZXgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/hooks/useUndoRedo.ts\n");

/***/ }),

/***/ "../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.tsx\");\n/* harmony import */ var _pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/index.tsx */ \"./pages/index.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__]);\n_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/index\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMS4wX0BiYWJlbCtjb3JlQDcuMjguM19yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMF9fcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkYmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmluZGV4LnRzeCZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ2hDO0FBQ0w7QUFDMUQ7QUFDb0Q7QUFDVjtBQUMxQztBQUM4QztBQUM5QztBQUNBLGlFQUFlLHdFQUFLLENBQUMsNkNBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMsNkNBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMsNkNBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMsNkNBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLDZDQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLDZDQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMsNkNBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMsNkNBQVE7QUFDekQ7QUFDTyx3QkFBd0IseUdBQWdCO0FBQy9DO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsV0FBVztBQUNYLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQsaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8/NGQxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc1JvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCBEb2N1bWVudCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19kb2N1bWVudFwiO1xuaW1wb3J0IEFwcCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2luZGV4LnRzeFwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL2luZGV4XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "../core-detect/dist/detectors/index.js":
/*!**********************************************!*\
  !*** ../core-detect/dist/detectors/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateConfidence: () => (/* binding */ calculateConfidence),\n/* harmony export */   detectCustomPatterns: () => (/* binding */ detectCustomPatterns),\n/* harmony export */   detectToken: () => (/* binding */ detectToken),\n/* harmony export */   detectTokenWithCustomPatterns: () => (/* binding */ detectTokenWithCustomPatterns),\n/* harmony export */   isAWSKey: () => (/* binding */ isAWSKey),\n/* harmony export */   isAddressComponent: () => (/* binding */ isAddressComponent),\n/* harmony export */   isJWT: () => (/* binding */ isJWT),\n/* harmony export */   isLuhnValid: () => (/* binding */ isLuhnValid),\n/* harmony export */   isValidIBAN: () => (/* binding */ isValidIBAN),\n/* harmony export */   isValidSSN: () => (/* binding */ isValidSSN),\n/* harmony export */   isValidUSPassport: () => (/* binding */ isValidUSPassport)\n/* harmony export */ });\n/**\n * Determine whether a string of digits represents a valid PAN according\n * to the Luhn checksum algorithm.  Only digits are considered; all\n * non‑numeric characters should be stripped before calling this function.\n */\nfunction isLuhnValid(value) {\n    let sum = 0;\n    let shouldDouble = false;\n    for (let i = value.length - 1; i >= 0; i--) {\n        const c = value.charCodeAt(i) - 48;\n        if (c < 0 || c > 9) {\n            return false;\n        }\n        let digit = c;\n        if (shouldDouble) {\n            digit *= 2;\n            if (digit > 9)\n                digit -= 9;\n        }\n        sum += digit;\n        shouldDouble = !shouldDouble;\n    }\n    return sum % 10 === 0;\n}\n/**\n * Validate an International Bank Account Number (IBAN) using the MOD 97\n * algorithm defined in ISO 13616.  Letters are mapped A=10, B=11, …\n * The function returns true when the IBAN appears structurally valid.  It\n * does not verify that the account exists.\n */\nfunction isValidIBAN(iban) {\n    const cleaned = iban.replace(/\\s+/g, '').toUpperCase();\n    // Basic length check: IBANs are between 15 and 34 characters long\n    if (cleaned.length < 15 || cleaned.length > 34)\n        return false;\n    // Move the four initial characters to the end of the string\n    const rearranged = cleaned.slice(4) + cleaned.slice(0, 4);\n    // Replace letters with numbers: A=10, B=11, …\n    let numeric = '';\n    for (const ch of rearranged) {\n        const code = ch.charCodeAt(0);\n        if (code >= 48 && code <= 57) {\n            numeric += ch;\n        }\n        else if (code >= 65 && code <= 90) {\n            numeric += (code - 55).toString();\n        }\n        else {\n            return false;\n        }\n    }\n    // Compute the remainder using mod 97\n    let remainder = 0;\n    for (let i = 0; i < numeric.length; i++) {\n        remainder = (remainder * 10 + Number(numeric[i])) % 97;\n    }\n    return remainder === 1;\n}\n/**\n * Validate a US Social Security Number (SSN).  Performs basic\n * structural checks: XXX-XX-XXXX where the area number is not 000,\n * 666, or between 900–999; the group number is not 00; and the serial\n * number is not 0000.\n */\nfunction isValidSSN(value) {\n    const ssnRegex = /^(\\d{3})-(\\d{2})-(\\d{4})$/;\n    const match = ssnRegex.exec(value);\n    if (!match)\n        return false;\n    const area = parseInt(match[1], 10);\n    const group = parseInt(match[2], 10);\n    const serial = parseInt(match[3], 10);\n    if (area === 0 || group === 0 || serial === 0)\n        return false;\n    if (area === 666 || area >= 900)\n        return false;\n    return true;\n}\n/**\n * Validate US passport number format. US passports are typically 9 digits\n * or 1 letter followed by 8 digits (newer format).\n */\nfunction isValidUSPassport(value) {\n    const cleaned = value.replace(/\\s+/g, '');\n    // Format 1: 9 digits (older format)\n    if (/^\\d{9}$/.test(cleaned))\n        return true;\n    // Format 2: 1 letter + 8 digits (newer format) \n    if (/^[A-Z]\\d{8}$/.test(cleaned))\n        return true;\n    return false;\n}\n/**\n * Enhanced address detection with common address components\n */\nfunction isAddressComponent(value) {\n    const token = value.trim();\n    // Street suffixes (high confidence)\n    const streetSuffixes = /^(Street|St\\.?|Avenue|Ave\\.?|Road|Rd\\.?|Lane|Ln\\.?|Boulevard|Blvd\\.?|Drive|Dr\\.?|Circle|Cir\\.?|Court|Ct\\.?|Place|Pl\\.?|Way|Parkway|Pkwy\\.?)$/i;\n    if (streetSuffixes.test(token)) {\n        return { isAddress: true, confidence: 0.95, reason: 'Street type indicator' };\n    }\n    // Directional indicators (medium confidence)\n    const directions = /^(North|N\\.?|South|S\\.?|East|E\\.?|West|W\\.?|Northeast|NE\\.?|Northwest|NW\\.?|Southeast|SE\\.?|Southwest|SW\\.?)$/i;\n    if (directions.test(token)) {\n        return { isAddress: true, confidence: 0.7, reason: 'Directional indicator' };\n    }\n    // Address with numbers (medium confidence)\n    if (/\\d/.test(token) && token.length >= 3) {\n        // House numbers, apartment numbers, ZIP codes\n        if (/^\\d{1,5}[A-Z]?$/.test(token) || /^\\d{5}(-\\d{4})?$/.test(token)) {\n            return { isAddress: true, confidence: 0.8, reason: 'House number or ZIP code pattern' };\n        }\n        if (/^#?\\d+[A-Z]?$/.test(token) || /^(Apt|Suite|Unit|Ste|#)\\s*\\d+[A-Z]?$/i.test(token)) {\n            return { isAddress: true, confidence: 0.85, reason: 'Apartment/suite number' };\n        }\n        // Generic number in address context\n        return { isAddress: true, confidence: 0.6, reason: 'Contains digits and could be part of address' };\n    }\n    // State abbreviations (high confidence)\n    const stateAbbrev = /^(AL|AK|AZ|AR|CA|CO|CT|DE|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY|DC)$/;\n    if (stateAbbrev.test(token.toUpperCase())) {\n        return { isAddress: true, confidence: 0.9, reason: 'US state abbreviation' };\n    }\n    return { isAddress: false, confidence: 0, reason: '' };\n}\n/**\n * Calculate confidence score for detection based on pattern strength and context\n */\nfunction calculateConfidence(kind, token, ocrConfidence = 0.9) {\n    const base = Math.min(ocrConfidence, 0.95); // Cap OCR confidence\n    switch (kind) {\n        case 'EMAIL':\n            // Higher confidence for well-formed emails\n            return token.includes('@') && token.includes('.') ? Math.min(base + 0.05, 1.0) : base * 0.8;\n        case 'PHONE':\n            const digits = token.replace(/\\D/g, '');\n            // Higher confidence for standard formats\n            if (digits.length === 10 || digits.length === 11)\n                return Math.min(base + 0.1, 1.0);\n            if (digits.length >= 7 && digits.length <= 15)\n                return base * 0.9;\n            return base * 0.7;\n        case 'PAN':\n            // Credit cards with Luhn validation get high confidence\n            return Math.min(base + 0.1, 1.0);\n        case 'SSN':\n            // SSN with proper validation gets high confidence\n            return Math.min(base + 0.15, 1.0);\n        case 'PASSPORT':\n            // Passport numbers get medium-high confidence\n            return Math.min(base + 0.05, 1.0);\n        case 'IBAN':\n            // IBAN with MOD 97 validation gets high confidence\n            return Math.min(base + 0.1, 1.0);\n        case 'ADDRESS':\n            // Address confidence varies by component type - handled in isAddressComponent\n            return base;\n        case 'NAME':\n            // Names are tricky - lower confidence to reduce false positives\n            return base * 0.7;\n        case 'BARCODE':\n            // QR codes/barcodes are typically very reliable\n            return 1.0;\n        case 'JWT':\n            // JWT format is distinctive\n            return Math.min(base + 0.05, 1.0);\n        case 'API_KEY':\n            // API keys have distinctive patterns\n            return Math.min(base + 0.1, 1.0);\n        default:\n            return base;\n    }\n}\n/** Detect whether a token is formatted like a JSON Web Token (JWT). */\nfunction isJWT(value) {\n    return /^[A-Za-z0-9_-]+\\.[A-Za-z0-9_-]+\\.[A-Za-z0-9_-]+$/.test(value.trim());\n}\n/** Detect whether a token looks like an AWS access key ID.  AWS keys\n * typically start with AKIA or ASIA followed by 16 uppercase letters or\n * digits. */\nfunction isAWSKey(value) {\n    return /^(A(KIA|SIA)[A-Z0-9]{16})$/.test(value.trim());\n}\n/**\n * Perform high‑level detection for a single token.  If the token matches\n * a sensitive pattern, this function returns an object describing the\n * detection; otherwise it returns null.  Note that this function does\n * not compute bounding boxes – it only classifies the token.  Bounding\n * boxes are provided by the OCR engine.\n */\nfunction detectToken(token) {\n    const raw = token.trim();\n    if (!raw)\n        return null;\n    // PAN (credit card number) – 13–19 digits with Luhn valid (check first to avoid phone conflicts)\n    const digitsOnly = raw.replace(/\\D/g, '');\n    if (digitsOnly.length >= 13 && digitsOnly.length <= 19 && isLuhnValid(digitsOnly)) {\n        return { kind: 'PAN', reason: 'Luhn valid primary account number', confidence: 0.95 };\n    }\n    // IBAN (starts with two letters followed by digits and letters)\n    const ibanPattern = /^[A-Z]{2}[0-9A-Z]{13,32}$/i;\n    if (ibanPattern.test(raw) && isValidIBAN(raw)) {\n        return { kind: 'IBAN', reason: 'Valid IBAN checksum', confidence: 0.95 };\n    }\n    // SSN (US format) - check before general phone patterns, including invalid ones\n    const ssnPattern = /^\\d{3}-\\d{2}-\\d{4}$/;\n    if (ssnPattern.test(raw)) {\n        if (isValidSSN(raw)) {\n            return { kind: 'SSN', reason: 'Valid US SSN format', confidence: 0.95 };\n        }\n        // Don't detect invalid SSNs as other types\n        return null;\n    }\n    // Passport number (US format)\n    const passportPattern = /^[A-Z]?\\d{8,9}$/i;\n    if (passportPattern.test(raw) && isValidUSPassport(raw.toUpperCase())) {\n        return { kind: 'PASSPORT', reason: 'Valid US passport number format', confidence: 0.9 };\n    }\n    // JWT - check early to prevent JWT being detected as address (contains many digits)\n    if (isJWT(raw) && raw.length > 50) {\n        return { kind: 'JWT', reason: 'Looks like a JWT token', confidence: 0.9 };\n    }\n    // Email - more strict pattern to reduce false positives\n    const emailPattern = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i;\n    if (emailPattern.test(raw) && raw.includes('@') && raw.includes('.')) {\n        return { kind: 'EMAIL', reason: 'Matches email pattern', confidence: 0.9 };\n    }\n    // Phone number - enhanced detection with format validation\n    if (digitsOnly.length >= 7 && /\\d{3,}/.test(digitsOnly)) {\n        // North American format (10-11 digits)\n        if (digitsOnly.length === 10 || (digitsOnly.length === 11 && digitsOnly[0] === '1')) {\n            return { kind: 'PHONE', reason: 'North American phone format', confidence: 0.85 };\n        }\n        // International format (7-15 digits)\n        if (digitsOnly.length >= 7 && digitsOnly.length <= 15) {\n            return { kind: 'PHONE', reason: 'International phone format', confidence: 0.75 };\n        }\n    }\n    // Enhanced address detection\n    const addressResult = isAddressComponent(raw);\n    if (addressResult.isAddress) {\n        return { kind: 'ADDRESS', reason: addressResult.reason, confidence: addressResult.confidence };\n    }\n    // AWS access key id\n    if (isAWSKey(raw)) {\n        return { kind: 'API_KEY', reason: 'Looks like an AWS access key', confidence: 0.95 };\n    }\n    // Names (proper nouns) - enhanced with false positive reduction\n    const namePattern = /^[A-Z][a-z]{2,}$/;\n    if (namePattern.test(raw) && !/\\d/.test(raw) && raw.toUpperCase() !== raw) {\n        // Exclude common words that aren't names\n        const commonWords = /^(The|And|But|For|Are|This|That|With|Have|Will|From|They|Know|Want|Been|Good|Much|Some|Time|Very|When|Come|Here|Just|Like|Long|Make|Many|Over|Such|Take|Than|Them|Well|Were|What|Your|After|Before|Could|First|Found|Great|Other|Right|Should|These|Where|Which|While|Would|Years|Young|About|Again|Place|State|Still|Think|Three|Through|Under|Water|Write)$/i;\n        if (!commonWords.test(raw)) {\n            return { kind: 'NAME', reason: 'Likely proper name', confidence: 0.6 };\n        }\n    }\n    return null;\n}\n/**\n * Apply custom detection patterns to a token\n */\nfunction detectCustomPatterns(token, customPatterns) {\n    if (!customPatterns || customPatterns.length === 0)\n        return null;\n    for (const pattern of customPatterns) {\n        try {\n            const flags = pattern.caseSensitive === false ? 'i' : '';\n            const regex = new RegExp(pattern.pattern, flags);\n            if (regex.test(token)) {\n                return {\n                    kind: pattern.kind,\n                    reason: `Custom pattern: ${pattern.name}`,\n                    confidence: pattern.confidence\n                };\n            }\n        }\n        catch (error) {\n            // Skip invalid regex patterns\n            console.warn(`Invalid custom pattern ${pattern.id}: ${error}`);\n            continue;\n        }\n    }\n    return null;\n}\n/**\n * Enhanced detectToken that includes custom pattern support\n */\nfunction detectTokenWithCustomPatterns(token, customPatterns) {\n    // First check custom patterns (they take precedence)\n    if (customPatterns && customPatterns.length > 0) {\n        const customResult = detectCustomPatterns(token, customPatterns);\n        if (customResult)\n            return customResult;\n    }\n    // Fall back to standard detection\n    return detectToken(token);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC9kZXRlY3RvcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxtQ0FBbUMsUUFBUTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNPO0FBQ1AsMkJBQTJCLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGFBQWEsRUFBRTtBQUNmO0FBQ0E7QUFDQSxrQkFBa0IsRUFBRTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLElBQUksNkJBQTZCLEVBQUUsS0FBSyxFQUFFO0FBQzNELHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxpQ0FBaUMsR0FBRztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsZ0NBQWdDLEVBQUUsU0FBUyxNQUFNO0FBQ2pEO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSw0QkFBNEIsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQzFDO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxJQUFJO0FBQzNDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsNkRBQTZELEdBQUc7QUFDaEU7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHNDQUFzQyxHQUFHO0FBQ3pDO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxxQ0FBcUMsR0FBRztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGFBQWE7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELFdBQVcsSUFBSSxNQUFNO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BjbGVhbnNoYXJlL3VpLy4uL2NvcmUtZGV0ZWN0L2Rpc3QvZGV0ZWN0b3JzL2luZGV4LmpzP2RhMzUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciBhIHN0cmluZyBvZiBkaWdpdHMgcmVwcmVzZW50cyBhIHZhbGlkIFBBTiBhY2NvcmRpbmdcbiAqIHRvIHRoZSBMdWhuIGNoZWNrc3VtIGFsZ29yaXRobS4gIE9ubHkgZGlnaXRzIGFyZSBjb25zaWRlcmVkOyBhbGxcbiAqIG5vbuKAkW51bWVyaWMgY2hhcmFjdGVycyBzaG91bGQgYmUgc3RyaXBwZWQgYmVmb3JlIGNhbGxpbmcgdGhpcyBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTHVoblZhbGlkKHZhbHVlKSB7XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgbGV0IHNob3VsZERvdWJsZSA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSB2YWx1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBjID0gdmFsdWUuY2hhckNvZGVBdChpKSAtIDQ4O1xuICAgICAgICBpZiAoYyA8IDAgfHwgYyA+IDkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlnaXQgPSBjO1xuICAgICAgICBpZiAoc2hvdWxkRG91YmxlKSB7XG4gICAgICAgICAgICBkaWdpdCAqPSAyO1xuICAgICAgICAgICAgaWYgKGRpZ2l0ID4gOSlcbiAgICAgICAgICAgICAgICBkaWdpdCAtPSA5O1xuICAgICAgICB9XG4gICAgICAgIHN1bSArPSBkaWdpdDtcbiAgICAgICAgc2hvdWxkRG91YmxlID0gIXNob3VsZERvdWJsZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bSAlIDEwID09PSAwO1xufVxuLyoqXG4gKiBWYWxpZGF0ZSBhbiBJbnRlcm5hdGlvbmFsIEJhbmsgQWNjb3VudCBOdW1iZXIgKElCQU4pIHVzaW5nIHRoZSBNT0TCoDk3XG4gKiBhbGdvcml0aG0gZGVmaW5lZCBpbiBJU0/CoDEzNjE2LiAgTGV0dGVycyBhcmUgbWFwcGVkIEE9MTAsIEI9MTEsIOKAplxuICogVGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHRoZSBJQkFOIGFwcGVhcnMgc3RydWN0dXJhbGx5IHZhbGlkLiAgSXRcbiAqIGRvZXMgbm90IHZlcmlmeSB0aGF0IHRoZSBhY2NvdW50IGV4aXN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRJQkFOKGliYW4pIHtcbiAgICBjb25zdCBjbGVhbmVkID0gaWJhbi5yZXBsYWNlKC9cXHMrL2csICcnKS50b1VwcGVyQ2FzZSgpO1xuICAgIC8vIEJhc2ljIGxlbmd0aCBjaGVjazogSUJBTnMgYXJlIGJldHdlZW4gMTUgYW5kIDM0IGNoYXJhY3RlcnMgbG9uZ1xuICAgIGlmIChjbGVhbmVkLmxlbmd0aCA8IDE1IHx8IGNsZWFuZWQubGVuZ3RoID4gMzQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBNb3ZlIHRoZSBmb3VyIGluaXRpYWwgY2hhcmFjdGVycyB0byB0aGUgZW5kIG9mIHRoZSBzdHJpbmdcbiAgICBjb25zdCByZWFycmFuZ2VkID0gY2xlYW5lZC5zbGljZSg0KSArIGNsZWFuZWQuc2xpY2UoMCwgNCk7XG4gICAgLy8gUmVwbGFjZSBsZXR0ZXJzIHdpdGggbnVtYmVyczogQT0xMCwgQj0xMSwg4oCmXG4gICAgbGV0IG51bWVyaWMgPSAnJztcbiAgICBmb3IgKGNvbnN0IGNoIG9mIHJlYXJyYW5nZWQpIHtcbiAgICAgICAgY29uc3QgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmIChjb2RlID49IDQ4ICYmIGNvZGUgPD0gNTcpIHtcbiAgICAgICAgICAgIG51bWVyaWMgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29kZSA+PSA2NSAmJiBjb2RlIDw9IDkwKSB7XG4gICAgICAgICAgICBudW1lcmljICs9IChjb2RlIC0gNTUpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ29tcHV0ZSB0aGUgcmVtYWluZGVyIHVzaW5nIG1vZCA5N1xuICAgIGxldCByZW1haW5kZXIgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtZXJpYy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZW1haW5kZXIgPSAocmVtYWluZGVyICogMTAgKyBOdW1iZXIobnVtZXJpY1tpXSkpICUgOTc7XG4gICAgfVxuICAgIHJldHVybiByZW1haW5kZXIgPT09IDE7XG59XG4vKipcbiAqIFZhbGlkYXRlIGEgVVMgU29jaWFsIFNlY3VyaXR5IE51bWJlciAoU1NOKS4gIFBlcmZvcm1zIGJhc2ljXG4gKiBzdHJ1Y3R1cmFsIGNoZWNrczogWFhYLVhYLVhYWFggd2hlcmUgdGhlIGFyZWEgbnVtYmVyIGlzIG5vdCAwMDAsXG4gKiA2NjYsIG9yIGJldHdlZW4gOTAw4oCTOTk5OyB0aGUgZ3JvdXAgbnVtYmVyIGlzIG5vdCAwMDsgYW5kIHRoZSBzZXJpYWxcbiAqIG51bWJlciBpcyBub3QgMDAwMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRTU04odmFsdWUpIHtcbiAgICBjb25zdCBzc25SZWdleCA9IC9eKFxcZHszfSktKFxcZHsyfSktKFxcZHs0fSkkLztcbiAgICBjb25zdCBtYXRjaCA9IHNzblJlZ2V4LmV4ZWModmFsdWUpO1xuICAgIGlmICghbWF0Y2gpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBhcmVhID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICBjb25zdCBncm91cCA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgY29uc3Qgc2VyaWFsID0gcGFyc2VJbnQobWF0Y2hbM10sIDEwKTtcbiAgICBpZiAoYXJlYSA9PT0gMCB8fCBncm91cCA9PT0gMCB8fCBzZXJpYWwgPT09IDApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoYXJlYSA9PT0gNjY2IHx8IGFyZWEgPj0gOTAwKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFZhbGlkYXRlIFVTIHBhc3Nwb3J0IG51bWJlciBmb3JtYXQuIFVTIHBhc3Nwb3J0cyBhcmUgdHlwaWNhbGx5IDkgZGlnaXRzXG4gKiBvciAxIGxldHRlciBmb2xsb3dlZCBieSA4IGRpZ2l0cyAobmV3ZXIgZm9ybWF0KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRVU1Bhc3Nwb3J0KHZhbHVlKSB7XG4gICAgY29uc3QgY2xlYW5lZCA9IHZhbHVlLnJlcGxhY2UoL1xccysvZywgJycpO1xuICAgIC8vIEZvcm1hdCAxOiA5IGRpZ2l0cyAob2xkZXIgZm9ybWF0KVxuICAgIGlmICgvXlxcZHs5fSQvLnRlc3QoY2xlYW5lZCkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIC8vIEZvcm1hdCAyOiAxIGxldHRlciArIDggZGlnaXRzIChuZXdlciBmb3JtYXQpIFxuICAgIGlmICgvXltBLVpdXFxkezh9JC8udGVzdChjbGVhbmVkKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBFbmhhbmNlZCBhZGRyZXNzIGRldGVjdGlvbiB3aXRoIGNvbW1vbiBhZGRyZXNzIGNvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQWRkcmVzc0NvbXBvbmVudCh2YWx1ZSkge1xuICAgIGNvbnN0IHRva2VuID0gdmFsdWUudHJpbSgpO1xuICAgIC8vIFN0cmVldCBzdWZmaXhlcyAoaGlnaCBjb25maWRlbmNlKVxuICAgIGNvbnN0IHN0cmVldFN1ZmZpeGVzID0gL14oU3RyZWV0fFN0XFwuP3xBdmVudWV8QXZlXFwuP3xSb2FkfFJkXFwuP3xMYW5lfExuXFwuP3xCb3VsZXZhcmR8Qmx2ZFxcLj98RHJpdmV8RHJcXC4/fENpcmNsZXxDaXJcXC4/fENvdXJ0fEN0XFwuP3xQbGFjZXxQbFxcLj98V2F5fFBhcmt3YXl8UGt3eVxcLj8pJC9pO1xuICAgIGlmIChzdHJlZXRTdWZmaXhlcy50ZXN0KHRva2VuKSkge1xuICAgICAgICByZXR1cm4geyBpc0FkZHJlc3M6IHRydWUsIGNvbmZpZGVuY2U6IDAuOTUsIHJlYXNvbjogJ1N0cmVldCB0eXBlIGluZGljYXRvcicgfTtcbiAgICB9XG4gICAgLy8gRGlyZWN0aW9uYWwgaW5kaWNhdG9ycyAobWVkaXVtIGNvbmZpZGVuY2UpXG4gICAgY29uc3QgZGlyZWN0aW9ucyA9IC9eKE5vcnRofE5cXC4/fFNvdXRofFNcXC4/fEVhc3R8RVxcLj98V2VzdHxXXFwuP3xOb3J0aGVhc3R8TkVcXC4/fE5vcnRod2VzdHxOV1xcLj98U291dGhlYXN0fFNFXFwuP3xTb3V0aHdlc3R8U1dcXC4/KSQvaTtcbiAgICBpZiAoZGlyZWN0aW9ucy50ZXN0KHRva2VuKSkge1xuICAgICAgICByZXR1cm4geyBpc0FkZHJlc3M6IHRydWUsIGNvbmZpZGVuY2U6IDAuNywgcmVhc29uOiAnRGlyZWN0aW9uYWwgaW5kaWNhdG9yJyB9O1xuICAgIH1cbiAgICAvLyBBZGRyZXNzIHdpdGggbnVtYmVycyAobWVkaXVtIGNvbmZpZGVuY2UpXG4gICAgaWYgKC9cXGQvLnRlc3QodG9rZW4pICYmIHRva2VuLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgIC8vIEhvdXNlIG51bWJlcnMsIGFwYXJ0bWVudCBudW1iZXJzLCBaSVAgY29kZXNcbiAgICAgICAgaWYgKC9eXFxkezEsNX1bQS1aXT8kLy50ZXN0KHRva2VuKSB8fCAvXlxcZHs1fSgtXFxkezR9KT8kLy50ZXN0KHRva2VuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgaXNBZGRyZXNzOiB0cnVlLCBjb25maWRlbmNlOiAwLjgsIHJlYXNvbjogJ0hvdXNlIG51bWJlciBvciBaSVAgY29kZSBwYXR0ZXJuJyB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICgvXiM/XFxkK1tBLVpdPyQvLnRlc3QodG9rZW4pIHx8IC9eKEFwdHxTdWl0ZXxVbml0fFN0ZXwjKVxccypcXGQrW0EtWl0/JC9pLnRlc3QodG9rZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4geyBpc0FkZHJlc3M6IHRydWUsIGNvbmZpZGVuY2U6IDAuODUsIHJlYXNvbjogJ0FwYXJ0bWVudC9zdWl0ZSBudW1iZXInIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2VuZXJpYyBudW1iZXIgaW4gYWRkcmVzcyBjb250ZXh0XG4gICAgICAgIHJldHVybiB7IGlzQWRkcmVzczogdHJ1ZSwgY29uZmlkZW5jZTogMC42LCByZWFzb246ICdDb250YWlucyBkaWdpdHMgYW5kIGNvdWxkIGJlIHBhcnQgb2YgYWRkcmVzcycgfTtcbiAgICB9XG4gICAgLy8gU3RhdGUgYWJicmV2aWF0aW9ucyAoaGlnaCBjb25maWRlbmNlKVxuICAgIGNvbnN0IHN0YXRlQWJicmV2ID0gL14oQUx8QUt8QVp8QVJ8Q0F8Q098Q1R8REV8Rkx8R0F8SEl8SUR8SUx8SU58SUF8S1N8S1l8TEF8TUV8TUR8TUF8TUl8TU58TVN8TU98TVR8TkV8TlZ8Tkh8Tkp8Tk18Tll8TkN8TkR8T0h8T0t8T1J8UEF8Ukl8U0N8U0R8VE58VFh8VVR8VlR8VkF8V0F8V1Z8V0l8V1l8REMpJC87XG4gICAgaWYgKHN0YXRlQWJicmV2LnRlc3QodG9rZW4udG9VcHBlckNhc2UoKSkpIHtcbiAgICAgICAgcmV0dXJuIHsgaXNBZGRyZXNzOiB0cnVlLCBjb25maWRlbmNlOiAwLjksIHJlYXNvbjogJ1VTIHN0YXRlIGFiYnJldmlhdGlvbicgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgaXNBZGRyZXNzOiBmYWxzZSwgY29uZmlkZW5jZTogMCwgcmVhc29uOiAnJyB9O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgY29uZmlkZW5jZSBzY29yZSBmb3IgZGV0ZWN0aW9uIGJhc2VkIG9uIHBhdHRlcm4gc3RyZW5ndGggYW5kIGNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUNvbmZpZGVuY2Uoa2luZCwgdG9rZW4sIG9jckNvbmZpZGVuY2UgPSAwLjkpIHtcbiAgICBjb25zdCBiYXNlID0gTWF0aC5taW4ob2NyQ29uZmlkZW5jZSwgMC45NSk7IC8vIENhcCBPQ1IgY29uZmlkZW5jZVxuICAgIHN3aXRjaCAoa2luZCkge1xuICAgICAgICBjYXNlICdFTUFJTCc6XG4gICAgICAgICAgICAvLyBIaWdoZXIgY29uZmlkZW5jZSBmb3Igd2VsbC1mb3JtZWQgZW1haWxzXG4gICAgICAgICAgICByZXR1cm4gdG9rZW4uaW5jbHVkZXMoJ0AnKSAmJiB0b2tlbi5pbmNsdWRlcygnLicpID8gTWF0aC5taW4oYmFzZSArIDAuMDUsIDEuMCkgOiBiYXNlICogMC44O1xuICAgICAgICBjYXNlICdQSE9ORSc6XG4gICAgICAgICAgICBjb25zdCBkaWdpdHMgPSB0b2tlbi5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgICAgICAgICAgLy8gSGlnaGVyIGNvbmZpZGVuY2UgZm9yIHN0YW5kYXJkIGZvcm1hdHNcbiAgICAgICAgICAgIGlmIChkaWdpdHMubGVuZ3RoID09PSAxMCB8fCBkaWdpdHMubGVuZ3RoID09PSAxMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oYmFzZSArIDAuMSwgMS4wKTtcbiAgICAgICAgICAgIGlmIChkaWdpdHMubGVuZ3RoID49IDcgJiYgZGlnaXRzLmxlbmd0aCA8PSAxNSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZSAqIDAuOTtcbiAgICAgICAgICAgIHJldHVybiBiYXNlICogMC43O1xuICAgICAgICBjYXNlICdQQU4nOlxuICAgICAgICAgICAgLy8gQ3JlZGl0IGNhcmRzIHdpdGggTHVobiB2YWxpZGF0aW9uIGdldCBoaWdoIGNvbmZpZGVuY2VcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihiYXNlICsgMC4xLCAxLjApO1xuICAgICAgICBjYXNlICdTU04nOlxuICAgICAgICAgICAgLy8gU1NOIHdpdGggcHJvcGVyIHZhbGlkYXRpb24gZ2V0cyBoaWdoIGNvbmZpZGVuY2VcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihiYXNlICsgMC4xNSwgMS4wKTtcbiAgICAgICAgY2FzZSAnUEFTU1BPUlQnOlxuICAgICAgICAgICAgLy8gUGFzc3BvcnQgbnVtYmVycyBnZXQgbWVkaXVtLWhpZ2ggY29uZmlkZW5jZVxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKGJhc2UgKyAwLjA1LCAxLjApO1xuICAgICAgICBjYXNlICdJQkFOJzpcbiAgICAgICAgICAgIC8vIElCQU4gd2l0aCBNT0QgOTcgdmFsaWRhdGlvbiBnZXRzIGhpZ2ggY29uZmlkZW5jZVxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKGJhc2UgKyAwLjEsIDEuMCk7XG4gICAgICAgIGNhc2UgJ0FERFJFU1MnOlxuICAgICAgICAgICAgLy8gQWRkcmVzcyBjb25maWRlbmNlIHZhcmllcyBieSBjb21wb25lbnQgdHlwZSAtIGhhbmRsZWQgaW4gaXNBZGRyZXNzQ29tcG9uZW50XG4gICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICAgICAgY2FzZSAnTkFNRSc6XG4gICAgICAgICAgICAvLyBOYW1lcyBhcmUgdHJpY2t5IC0gbG93ZXIgY29uZmlkZW5jZSB0byByZWR1Y2UgZmFsc2UgcG9zaXRpdmVzXG4gICAgICAgICAgICByZXR1cm4gYmFzZSAqIDAuNztcbiAgICAgICAgY2FzZSAnQkFSQ09ERSc6XG4gICAgICAgICAgICAvLyBRUiBjb2Rlcy9iYXJjb2RlcyBhcmUgdHlwaWNhbGx5IHZlcnkgcmVsaWFibGVcbiAgICAgICAgICAgIHJldHVybiAxLjA7XG4gICAgICAgIGNhc2UgJ0pXVCc6XG4gICAgICAgICAgICAvLyBKV1QgZm9ybWF0IGlzIGRpc3RpbmN0aXZlXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oYmFzZSArIDAuMDUsIDEuMCk7XG4gICAgICAgIGNhc2UgJ0FQSV9LRVknOlxuICAgICAgICAgICAgLy8gQVBJIGtleXMgaGF2ZSBkaXN0aW5jdGl2ZSBwYXR0ZXJuc1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKGJhc2UgKyAwLjEsIDEuMCk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gYmFzZTtcbiAgICB9XG59XG4vKiogRGV0ZWN0IHdoZXRoZXIgYSB0b2tlbiBpcyBmb3JtYXR0ZWQgbGlrZSBhIEpTT04gV2ViIFRva2VuIChKV1QpLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSldUKHZhbHVlKSB7XG4gICAgcmV0dXJuIC9eW0EtWmEtejAtOV8tXStcXC5bQS1aYS16MC05Xy1dK1xcLltBLVphLXowLTlfLV0rJC8udGVzdCh2YWx1ZS50cmltKCkpO1xufVxuLyoqIERldGVjdCB3aGV0aGVyIGEgdG9rZW4gbG9va3MgbGlrZSBhbiBBV1MgYWNjZXNzIGtleSBJRC4gIEFXUyBrZXlzXG4gKiB0eXBpY2FsbHkgc3RhcnQgd2l0aCBBS0lBIG9yIEFTSUEgZm9sbG93ZWQgYnkgMTYgdXBwZXJjYXNlIGxldHRlcnMgb3JcbiAqIGRpZ2l0cy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FXU0tleSh2YWx1ZSkge1xuICAgIHJldHVybiAvXihBKEtJQXxTSUEpW0EtWjAtOV17MTZ9KSQvLnRlc3QodmFsdWUudHJpbSgpKTtcbn1cbi8qKlxuICogUGVyZm9ybSBoaWdo4oCRbGV2ZWwgZGV0ZWN0aW9uIGZvciBhIHNpbmdsZSB0b2tlbi4gIElmIHRoZSB0b2tlbiBtYXRjaGVzXG4gKiBhIHNlbnNpdGl2ZSBwYXR0ZXJuLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYW4gb2JqZWN0IGRlc2NyaWJpbmcgdGhlXG4gKiBkZXRlY3Rpb247IG90aGVyd2lzZSBpdCByZXR1cm5zIG51bGwuICBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBkb2VzXG4gKiBub3QgY29tcHV0ZSBib3VuZGluZyBib3hlcyDigJMgaXQgb25seSBjbGFzc2lmaWVzIHRoZSB0b2tlbi4gIEJvdW5kaW5nXG4gKiBib3hlcyBhcmUgcHJvdmlkZWQgYnkgdGhlIE9DUiBlbmdpbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RUb2tlbih0b2tlbikge1xuICAgIGNvbnN0IHJhdyA9IHRva2VuLnRyaW0oKTtcbiAgICBpZiAoIXJhdylcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgLy8gUEFOIChjcmVkaXQgY2FyZCBudW1iZXIpIOKAkyAxM+KAkzE5IGRpZ2l0cyB3aXRoIEx1aG4gdmFsaWQgKGNoZWNrIGZpcnN0IHRvIGF2b2lkIHBob25lIGNvbmZsaWN0cylcbiAgICBjb25zdCBkaWdpdHNPbmx5ID0gcmF3LnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgaWYgKGRpZ2l0c09ubHkubGVuZ3RoID49IDEzICYmIGRpZ2l0c09ubHkubGVuZ3RoIDw9IDE5ICYmIGlzTHVoblZhbGlkKGRpZ2l0c09ubHkpKSB7XG4gICAgICAgIHJldHVybiB7IGtpbmQ6ICdQQU4nLCByZWFzb246ICdMdWhuIHZhbGlkIHByaW1hcnkgYWNjb3VudCBudW1iZXInLCBjb25maWRlbmNlOiAwLjk1IH07XG4gICAgfVxuICAgIC8vIElCQU4gKHN0YXJ0cyB3aXRoIHR3byBsZXR0ZXJzIGZvbGxvd2VkIGJ5IGRpZ2l0cyBhbmQgbGV0dGVycylcbiAgICBjb25zdCBpYmFuUGF0dGVybiA9IC9eW0EtWl17Mn1bMC05QS1aXXsxMywzMn0kL2k7XG4gICAgaWYgKGliYW5QYXR0ZXJuLnRlc3QocmF3KSAmJiBpc1ZhbGlkSUJBTihyYXcpKSB7XG4gICAgICAgIHJldHVybiB7IGtpbmQ6ICdJQkFOJywgcmVhc29uOiAnVmFsaWQgSUJBTiBjaGVja3N1bScsIGNvbmZpZGVuY2U6IDAuOTUgfTtcbiAgICB9XG4gICAgLy8gU1NOIChVUyBmb3JtYXQpIC0gY2hlY2sgYmVmb3JlIGdlbmVyYWwgcGhvbmUgcGF0dGVybnMsIGluY2x1ZGluZyBpbnZhbGlkIG9uZXNcbiAgICBjb25zdCBzc25QYXR0ZXJuID0gL15cXGR7M30tXFxkezJ9LVxcZHs0fSQvO1xuICAgIGlmIChzc25QYXR0ZXJuLnRlc3QocmF3KSkge1xuICAgICAgICBpZiAoaXNWYWxpZFNTTihyYXcpKSB7XG4gICAgICAgICAgICByZXR1cm4geyBraW5kOiAnU1NOJywgcmVhc29uOiAnVmFsaWQgVVMgU1NOIGZvcm1hdCcsIGNvbmZpZGVuY2U6IDAuOTUgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEb24ndCBkZXRlY3QgaW52YWxpZCBTU05zIGFzIG90aGVyIHR5cGVzXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBQYXNzcG9ydCBudW1iZXIgKFVTIGZvcm1hdClcbiAgICBjb25zdCBwYXNzcG9ydFBhdHRlcm4gPSAvXltBLVpdP1xcZHs4LDl9JC9pO1xuICAgIGlmIChwYXNzcG9ydFBhdHRlcm4udGVzdChyYXcpICYmIGlzVmFsaWRVU1Bhc3Nwb3J0KHJhdy50b1VwcGVyQ2FzZSgpKSkge1xuICAgICAgICByZXR1cm4geyBraW5kOiAnUEFTU1BPUlQnLCByZWFzb246ICdWYWxpZCBVUyBwYXNzcG9ydCBudW1iZXIgZm9ybWF0JywgY29uZmlkZW5jZTogMC45IH07XG4gICAgfVxuICAgIC8vIEpXVCAtIGNoZWNrIGVhcmx5IHRvIHByZXZlbnQgSldUIGJlaW5nIGRldGVjdGVkIGFzIGFkZHJlc3MgKGNvbnRhaW5zIG1hbnkgZGlnaXRzKVxuICAgIGlmIChpc0pXVChyYXcpICYmIHJhdy5sZW5ndGggPiA1MCkge1xuICAgICAgICByZXR1cm4geyBraW5kOiAnSldUJywgcmVhc29uOiAnTG9va3MgbGlrZSBhIEpXVCB0b2tlbicsIGNvbmZpZGVuY2U6IDAuOSB9O1xuICAgIH1cbiAgICAvLyBFbWFpbCAtIG1vcmUgc3RyaWN0IHBhdHRlcm4gdG8gcmVkdWNlIGZhbHNlIHBvc2l0aXZlc1xuICAgIGNvbnN0IGVtYWlsUGF0dGVybiA9IC9eW0EtWjAtOS5fJSstXStAW0EtWjAtOS4tXStcXC5bQS1aXXsyLH0kL2k7XG4gICAgaWYgKGVtYWlsUGF0dGVybi50ZXN0KHJhdykgJiYgcmF3LmluY2x1ZGVzKCdAJykgJiYgcmF3LmluY2x1ZGVzKCcuJykpIHtcbiAgICAgICAgcmV0dXJuIHsga2luZDogJ0VNQUlMJywgcmVhc29uOiAnTWF0Y2hlcyBlbWFpbCBwYXR0ZXJuJywgY29uZmlkZW5jZTogMC45IH07XG4gICAgfVxuICAgIC8vIFBob25lIG51bWJlciAtIGVuaGFuY2VkIGRldGVjdGlvbiB3aXRoIGZvcm1hdCB2YWxpZGF0aW9uXG4gICAgaWYgKGRpZ2l0c09ubHkubGVuZ3RoID49IDcgJiYgL1xcZHszLH0vLnRlc3QoZGlnaXRzT25seSkpIHtcbiAgICAgICAgLy8gTm9ydGggQW1lcmljYW4gZm9ybWF0ICgxMC0xMSBkaWdpdHMpXG4gICAgICAgIGlmIChkaWdpdHNPbmx5Lmxlbmd0aCA9PT0gMTAgfHwgKGRpZ2l0c09ubHkubGVuZ3RoID09PSAxMSAmJiBkaWdpdHNPbmx5WzBdID09PSAnMScpKSB7XG4gICAgICAgICAgICByZXR1cm4geyBraW5kOiAnUEhPTkUnLCByZWFzb246ICdOb3J0aCBBbWVyaWNhbiBwaG9uZSBmb3JtYXQnLCBjb25maWRlbmNlOiAwLjg1IH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW50ZXJuYXRpb25hbCBmb3JtYXQgKDctMTUgZGlnaXRzKVxuICAgICAgICBpZiAoZGlnaXRzT25seS5sZW5ndGggPj0gNyAmJiBkaWdpdHNPbmx5Lmxlbmd0aCA8PSAxNSkge1xuICAgICAgICAgICAgcmV0dXJuIHsga2luZDogJ1BIT05FJywgcmVhc29uOiAnSW50ZXJuYXRpb25hbCBwaG9uZSBmb3JtYXQnLCBjb25maWRlbmNlOiAwLjc1IH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gRW5oYW5jZWQgYWRkcmVzcyBkZXRlY3Rpb25cbiAgICBjb25zdCBhZGRyZXNzUmVzdWx0ID0gaXNBZGRyZXNzQ29tcG9uZW50KHJhdyk7XG4gICAgaWYgKGFkZHJlc3NSZXN1bHQuaXNBZGRyZXNzKSB7XG4gICAgICAgIHJldHVybiB7IGtpbmQ6ICdBRERSRVNTJywgcmVhc29uOiBhZGRyZXNzUmVzdWx0LnJlYXNvbiwgY29uZmlkZW5jZTogYWRkcmVzc1Jlc3VsdC5jb25maWRlbmNlIH07XG4gICAgfVxuICAgIC8vIEFXUyBhY2Nlc3Mga2V5IGlkXG4gICAgaWYgKGlzQVdTS2V5KHJhdykpIHtcbiAgICAgICAgcmV0dXJuIHsga2luZDogJ0FQSV9LRVknLCByZWFzb246ICdMb29rcyBsaWtlIGFuIEFXUyBhY2Nlc3Mga2V5JywgY29uZmlkZW5jZTogMC45NSB9O1xuICAgIH1cbiAgICAvLyBOYW1lcyAocHJvcGVyIG5vdW5zKSAtIGVuaGFuY2VkIHdpdGggZmFsc2UgcG9zaXRpdmUgcmVkdWN0aW9uXG4gICAgY29uc3QgbmFtZVBhdHRlcm4gPSAvXltBLVpdW2Etel17Mix9JC87XG4gICAgaWYgKG5hbWVQYXR0ZXJuLnRlc3QocmF3KSAmJiAhL1xcZC8udGVzdChyYXcpICYmIHJhdy50b1VwcGVyQ2FzZSgpICE9PSByYXcpIHtcbiAgICAgICAgLy8gRXhjbHVkZSBjb21tb24gd29yZHMgdGhhdCBhcmVuJ3QgbmFtZXNcbiAgICAgICAgY29uc3QgY29tbW9uV29yZHMgPSAvXihUaGV8QW5kfEJ1dHxGb3J8QXJlfFRoaXN8VGhhdHxXaXRofEhhdmV8V2lsbHxGcm9tfFRoZXl8S25vd3xXYW50fEJlZW58R29vZHxNdWNofFNvbWV8VGltZXxWZXJ5fFdoZW58Q29tZXxIZXJlfEp1c3R8TGlrZXxMb25nfE1ha2V8TWFueXxPdmVyfFN1Y2h8VGFrZXxUaGFufFRoZW18V2VsbHxXZXJlfFdoYXR8WW91cnxBZnRlcnxCZWZvcmV8Q291bGR8Rmlyc3R8Rm91bmR8R3JlYXR8T3RoZXJ8UmlnaHR8U2hvdWxkfFRoZXNlfFdoZXJlfFdoaWNofFdoaWxlfFdvdWxkfFllYXJzfFlvdW5nfEFib3V0fEFnYWlufFBsYWNlfFN0YXRlfFN0aWxsfFRoaW5rfFRocmVlfFRocm91Z2h8VW5kZXJ8V2F0ZXJ8V3JpdGUpJC9pO1xuICAgICAgICBpZiAoIWNvbW1vbldvcmRzLnRlc3QocmF3KSkge1xuICAgICAgICAgICAgcmV0dXJuIHsga2luZDogJ05BTUUnLCByZWFzb246ICdMaWtlbHkgcHJvcGVyIG5hbWUnLCBjb25maWRlbmNlOiAwLjYgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogQXBwbHkgY3VzdG9tIGRldGVjdGlvbiBwYXR0ZXJucyB0byBhIHRva2VuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RDdXN0b21QYXR0ZXJucyh0b2tlbiwgY3VzdG9tUGF0dGVybnMpIHtcbiAgICBpZiAoIWN1c3RvbVBhdHRlcm5zIHx8IGN1c3RvbVBhdHRlcm5zLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIGN1c3RvbVBhdHRlcm5zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBmbGFncyA9IHBhdHRlcm4uY2FzZVNlbnNpdGl2ZSA9PT0gZmFsc2UgPyAnaScgOiAnJztcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuLnBhdHRlcm4sIGZsYWdzKTtcbiAgICAgICAgICAgIGlmIChyZWdleC50ZXN0KHRva2VuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IHBhdHRlcm4ua2luZCxcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBgQ3VzdG9tIHBhdHRlcm46ICR7cGF0dGVybi5uYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IHBhdHRlcm4uY29uZmlkZW5jZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBTa2lwIGludmFsaWQgcmVnZXggcGF0dGVybnNcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBjdXN0b20gcGF0dGVybiAke3BhdHRlcm4uaWR9OiAke2Vycm9yfWApO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEVuaGFuY2VkIGRldGVjdFRva2VuIHRoYXQgaW5jbHVkZXMgY3VzdG9tIHBhdHRlcm4gc3VwcG9ydFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0VG9rZW5XaXRoQ3VzdG9tUGF0dGVybnModG9rZW4sIGN1c3RvbVBhdHRlcm5zKSB7XG4gICAgLy8gRmlyc3QgY2hlY2sgY3VzdG9tIHBhdHRlcm5zICh0aGV5IHRha2UgcHJlY2VkZW5jZSlcbiAgICBpZiAoY3VzdG9tUGF0dGVybnMgJiYgY3VzdG9tUGF0dGVybnMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBjdXN0b21SZXN1bHQgPSBkZXRlY3RDdXN0b21QYXR0ZXJucyh0b2tlbiwgY3VzdG9tUGF0dGVybnMpO1xuICAgICAgICBpZiAoY3VzdG9tUmVzdWx0KVxuICAgICAgICAgICAgcmV0dXJuIGN1c3RvbVJlc3VsdDtcbiAgICB9XG4gICAgLy8gRmFsbCBiYWNrIHRvIHN0YW5kYXJkIGRldGVjdGlvblxuICAgIHJldHVybiBkZXRlY3RUb2tlbih0b2tlbik7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../core-detect/dist/detectors/index.js\n");

/***/ }),

/***/ "../core-detect/dist/formats.js":
/*!**************************************!*\
  !*** ../core-detect/dist/formats.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SUPPORTED_FILE_TYPES: () => (/* binding */ SUPPORTED_FILE_TYPES),\n/* harmony export */   convertDocumentToPdf: () => (/* binding */ convertDocumentToPdf),\n/* harmony export */   convertHeicToJpeg: () => (/* binding */ convertHeicToJpeg),\n/* harmony export */   convertTiffToPng: () => (/* binding */ convertTiffToPng),\n/* harmony export */   convertWebPToStandard: () => (/* binding */ convertWebPToStandard),\n/* harmony export */   getFileType: () => (/* binding */ getFileType),\n/* harmony export */   getSupportedExtensions: () => (/* binding */ getSupportedExtensions),\n/* harmony export */   isSupportedFile: () => (/* binding */ isSupportedFile),\n/* harmony export */   processBulkFiles: () => (/* binding */ processBulkFiles)\n/* harmony export */ });\n/**\n * Supported file types and their extensions\n */\nconst SUPPORTED_FILE_TYPES = {\n    images: {\n        'image/jpeg': ['.jpg', '.jpeg'],\n        'image/png': ['.png'],\n        'image/webp': ['.webp'],\n        'image/tiff': ['.tiff', '.tif'],\n        'image/heic': ['.heic'],\n        'image/heif': ['.heif'],\n    },\n    pdf: {\n        'application/pdf': ['.pdf'],\n    },\n    documents: {\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['.xlsx'],\n        'application/vnd.ms-excel': ['.xls'],\n        'text/csv': ['.csv'],\n    },\n};\n/**\n * Get file type from MIME type or filename\n */\nfunction getFileType(file) {\n    const mimeType = typeof file === 'string' ? getMimeTypeFromFilename(file) : file.type;\n    const filename = typeof file === 'string' ? file : file.name;\n    // Check image formats\n    for (const [mime, extensions] of Object.entries(SUPPORTED_FILE_TYPES.images)) {\n        if (mimeType === mime || extensions.some(ext => filename.toLowerCase().endsWith(ext))) {\n            if (mime === 'image/heic' || mime === 'image/heif')\n                return 'heic';\n            if (mime === 'image/webp')\n                return 'webp';\n            if (mime === 'image/tiff')\n                return 'tiff';\n            return 'image';\n        }\n    }\n    // Check PDF\n    if (mimeType === 'application/pdf' || filename.toLowerCase().endsWith('.pdf')) {\n        return 'pdf';\n    }\n    // Check documents\n    for (const [mime, extensions] of Object.entries(SUPPORTED_FILE_TYPES.documents)) {\n        if (mimeType === mime || extensions.some(ext => filename.toLowerCase().endsWith(ext))) {\n            return 'document';\n        }\n    }\n    // Default to image for unknown types\n    return 'image';\n}\n/**\n * Get MIME type from filename extension\n */\nfunction getMimeTypeFromFilename(filename) {\n    const ext = filename.toLowerCase().split('.').pop();\n    const mimeMap = {\n        jpg: 'image/jpeg',\n        jpeg: 'image/jpeg',\n        png: 'image/png',\n        webp: 'image/webp',\n        tiff: 'image/tiff',\n        tif: 'image/tiff',\n        heic: 'image/heic',\n        heif: 'image/heif',\n        pdf: 'application/pdf',\n        docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n        xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n        xls: 'application/vnd.ms-excel',\n        csv: 'text/csv',\n    };\n    return mimeMap[ext || ''] || 'application/octet-stream';\n}\n/**\n * Check if a file type is supported\n */\nfunction isSupportedFile(file) {\n    const type = getFileType(file);\n    return ['image', 'pdf', 'heic', 'webp', 'tiff', 'document'].includes(type);\n}\n/**\n * Get supported file extensions as a string for file input accept attribute\n */\nfunction getSupportedExtensions() {\n    const allExtensions = [];\n    // Add image extensions\n    Object.values(SUPPORTED_FILE_TYPES.images).forEach(extensions => {\n        allExtensions.push(...extensions);\n    });\n    // Add PDF extensions\n    Object.values(SUPPORTED_FILE_TYPES.pdf).forEach(extensions => {\n        allExtensions.push(...extensions);\n    });\n    // Add document extensions\n    Object.values(SUPPORTED_FILE_TYPES.documents).forEach(extensions => {\n        allExtensions.push(...extensions);\n    });\n    return allExtensions.join(',');\n}\n/**\n * Convert HEIC/HEIF to JPEG for processing\n */\nasync function convertHeicToJpeg(file) {\n    // Note: This would require a HEIC decoder library like libheif-js or heic2any\n    // For now, return a placeholder implementation\n    console.warn('HEIC conversion not yet implemented - requires libheif-js or similar');\n    // Placeholder: return original file (will likely fail processing)\n    return new File([file], file.name.replace(/\\.(heic|heif)$/i, '.jpg'), {\n        type: 'image/jpeg'\n    });\n}\n/**\n * Convert WebP to PNG/JPEG for better compatibility\n */\nasync function convertWebPToStandard(file, targetFormat = 'png') {\n    return new Promise((resolve, reject) => {\n        const canvas = document.createElement('canvas');\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n        img.onload = () => {\n            canvas.width = img.width;\n            canvas.height = img.height;\n            if (!ctx) {\n                reject(new Error('Canvas context not available'));\n                return;\n            }\n            ctx.drawImage(img, 0, 0);\n            canvas.toBlob((blob) => {\n                if (!blob) {\n                    reject(new Error('Failed to convert WebP'));\n                    return;\n                }\n                const convertedFile = new File([blob], file.name.replace(/\\.webp$/i, `.${targetFormat}`), {\n                    type: `image/${targetFormat}`\n                });\n                resolve(convertedFile);\n            }, `image/${targetFormat}`, 0.9);\n        };\n        img.onerror = () => reject(new Error('Failed to load WebP image'));\n        img.src = URL.createObjectURL(file);\n    });\n}\n/**\n * Convert TIFF to PNG for processing\n */\nasync function convertTiffToPng(file) {\n    // Note: This would require a TIFF decoder library like tiff.js\n    console.warn('TIFF conversion not yet implemented - requires tiff.js or similar');\n    // Placeholder: return as PNG type but original data (will likely fail)\n    return new File([file], file.name.replace(/\\.tiff?$/i, '.png'), {\n        type: 'image/png'\n    });\n}\n/**\n * Process bulk files with progress tracking\n */\nasync function processBulkFiles(files, analyzeFn, applyFn, options = {}) {\n    const { maxConcurrency = 3, onProgress, onFileComplete, stopOnError = false } = options;\n    const startTime = Date.now();\n    const results = [];\n    const errors = [];\n    let successful = 0;\n    let failed = 0;\n    // Process files in batches to control concurrency\n    for (let i = 0; i < files.length; i += maxConcurrency) {\n        const batch = files.slice(i, i + maxConcurrency);\n        const batchPromises = batch.map(async (file, batchIndex) => {\n            const fileIndex = i + batchIndex;\n            try {\n                onProgress === null || onProgress === void 0 ? void 0 : onProgress(fileIndex, files.length, file.name || `file-${fileIndex}`);\n                // Analyze file\n                const analyzeResult = await analyzeFn(file);\n                // Apply redactions\n                const applyResult = await applyFn(file, analyzeResult);\n                results[fileIndex] = applyResult;\n                errors[fileIndex] = null;\n                successful++;\n                onFileComplete === null || onFileComplete === void 0 ? void 0 : onFileComplete(file, applyResult);\n                return applyResult;\n            }\n            catch (error) {\n                const err = error instanceof Error ? error : new Error(String(error));\n                results[fileIndex] = null;\n                errors[fileIndex] = err;\n                failed++;\n                onFileComplete === null || onFileComplete === void 0 ? void 0 : onFileComplete(file, null, err);\n                if (stopOnError) {\n                    throw err;\n                }\n                return null;\n            }\n        });\n        try {\n            await Promise.all(batchPromises);\n        }\n        catch (error) {\n            if (stopOnError) {\n                break;\n            }\n        }\n    }\n    const duration = Date.now() - startTime;\n    return {\n        successful,\n        failed,\n        total: files.length,\n        results,\n        errors,\n        duration\n    };\n}\n/**\n * Convert document to PDF for processing\n */\nasync function convertDocumentToPdf(file, options = { targetFormat: 'pdf' }) {\n    // Note: This would require document conversion libraries\n    // For DOCX: mammoth.js + html-to-pdf\n    // For XLSX: xlsx + html-to-pdf\n    console.warn(`Document conversion not yet implemented for ${file.type}`);\n    console.log('Would convert:', file.name, 'with options:', options);\n    // Placeholder: return original file\n    return file;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC9mb3JtYXRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5RixhQUFhO0FBQ3RHLG1DQUFtQyxhQUFhO0FBQ2hELGlCQUFpQjtBQUNqQjtBQUNBLGFBQWEsV0FBVyxhQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHVFQUF1RTtBQUM5RSxZQUFZLHNFQUFzRTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUlBQWlJLFVBQVU7QUFDM0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0RBQXNELHFCQUFxQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsVUFBVTtBQUMxRTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BjbGVhbnNoYXJlL3VpLy4uL2NvcmUtZGV0ZWN0L2Rpc3QvZm9ybWF0cy5qcz84OGUwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU3VwcG9ydGVkIGZpbGUgdHlwZXMgYW5kIHRoZWlyIGV4dGVuc2lvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IFNVUFBPUlRFRF9GSUxFX1RZUEVTID0ge1xuICAgIGltYWdlczoge1xuICAgICAgICAnaW1hZ2UvanBlZyc6IFsnLmpwZycsICcuanBlZyddLFxuICAgICAgICAnaW1hZ2UvcG5nJzogWycucG5nJ10sXG4gICAgICAgICdpbWFnZS93ZWJwJzogWycud2VicCddLFxuICAgICAgICAnaW1hZ2UvdGlmZic6IFsnLnRpZmYnLCAnLnRpZiddLFxuICAgICAgICAnaW1hZ2UvaGVpYyc6IFsnLmhlaWMnXSxcbiAgICAgICAgJ2ltYWdlL2hlaWYnOiBbJy5oZWlmJ10sXG4gICAgfSxcbiAgICBwZGY6IHtcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3BkZic6IFsnLnBkZiddLFxuICAgIH0sXG4gICAgZG9jdW1lbnRzOiB7XG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCc6IFsnLmRvY3gnXSxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JzogWycueGxzeCddLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJzogWycueGxzJ10sXG4gICAgICAgICd0ZXh0L2Nzdic6IFsnLmNzdiddLFxuICAgIH0sXG59O1xuLyoqXG4gKiBHZXQgZmlsZSB0eXBlIGZyb20gTUlNRSB0eXBlIG9yIGZpbGVuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlVHlwZShmaWxlKSB7XG4gICAgY29uc3QgbWltZVR5cGUgPSB0eXBlb2YgZmlsZSA9PT0gJ3N0cmluZycgPyBnZXRNaW1lVHlwZUZyb21GaWxlbmFtZShmaWxlKSA6IGZpbGUudHlwZTtcbiAgICBjb25zdCBmaWxlbmFtZSA9IHR5cGVvZiBmaWxlID09PSAnc3RyaW5nJyA/IGZpbGUgOiBmaWxlLm5hbWU7XG4gICAgLy8gQ2hlY2sgaW1hZ2UgZm9ybWF0c1xuICAgIGZvciAoY29uc3QgW21pbWUsIGV4dGVuc2lvbnNdIG9mIE9iamVjdC5lbnRyaWVzKFNVUFBPUlRFRF9GSUxFX1RZUEVTLmltYWdlcykpIHtcbiAgICAgICAgaWYgKG1pbWVUeXBlID09PSBtaW1lIHx8IGV4dGVuc2lvbnMuc29tZShleHQgPT4gZmlsZW5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aChleHQpKSkge1xuICAgICAgICAgICAgaWYgKG1pbWUgPT09ICdpbWFnZS9oZWljJyB8fCBtaW1lID09PSAnaW1hZ2UvaGVpZicpXG4gICAgICAgICAgICAgICAgcmV0dXJuICdoZWljJztcbiAgICAgICAgICAgIGlmIChtaW1lID09PSAnaW1hZ2Uvd2VicCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuICd3ZWJwJztcbiAgICAgICAgICAgIGlmIChtaW1lID09PSAnaW1hZ2UvdGlmZicpXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0aWZmJztcbiAgICAgICAgICAgIHJldHVybiAnaW1hZ2UnO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENoZWNrIFBERlxuICAgIGlmIChtaW1lVHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3BkZicgfHwgZmlsZW5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnLnBkZicpKSB7XG4gICAgICAgIHJldHVybiAncGRmJztcbiAgICB9XG4gICAgLy8gQ2hlY2sgZG9jdW1lbnRzXG4gICAgZm9yIChjb25zdCBbbWltZSwgZXh0ZW5zaW9uc10gb2YgT2JqZWN0LmVudHJpZXMoU1VQUE9SVEVEX0ZJTEVfVFlQRVMuZG9jdW1lbnRzKSkge1xuICAgICAgICBpZiAobWltZVR5cGUgPT09IG1pbWUgfHwgZXh0ZW5zaW9ucy5zb21lKGV4dCA9PiBmaWxlbmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKGV4dCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2RvY3VtZW50JztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBEZWZhdWx0IHRvIGltYWdlIGZvciB1bmtub3duIHR5cGVzXG4gICAgcmV0dXJuICdpbWFnZSc7XG59XG4vKipcbiAqIEdldCBNSU1FIHR5cGUgZnJvbSBmaWxlbmFtZSBleHRlbnNpb25cbiAqL1xuZnVuY3Rpb24gZ2V0TWltZVR5cGVGcm9tRmlsZW5hbWUoZmlsZW5hbWUpIHtcbiAgICBjb25zdCBleHQgPSBmaWxlbmFtZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcuJykucG9wKCk7XG4gICAgY29uc3QgbWltZU1hcCA9IHtcbiAgICAgICAganBnOiAnaW1hZ2UvanBlZycsXG4gICAgICAgIGpwZWc6ICdpbWFnZS9qcGVnJyxcbiAgICAgICAgcG5nOiAnaW1hZ2UvcG5nJyxcbiAgICAgICAgd2VicDogJ2ltYWdlL3dlYnAnLFxuICAgICAgICB0aWZmOiAnaW1hZ2UvdGlmZicsXG4gICAgICAgIHRpZjogJ2ltYWdlL3RpZmYnLFxuICAgICAgICBoZWljOiAnaW1hZ2UvaGVpYycsXG4gICAgICAgIGhlaWY6ICdpbWFnZS9oZWlmJyxcbiAgICAgICAgcGRmOiAnYXBwbGljYXRpb24vcGRmJyxcbiAgICAgICAgZG9jeDogJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50JyxcbiAgICAgICAgeGxzeDogJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JyxcbiAgICAgICAgeGxzOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJyxcbiAgICAgICAgY3N2OiAndGV4dC9jc3YnLFxuICAgIH07XG4gICAgcmV0dXJuIG1pbWVNYXBbZXh0IHx8ICcnXSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcbn1cbi8qKlxuICogQ2hlY2sgaWYgYSBmaWxlIHR5cGUgaXMgc3VwcG9ydGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N1cHBvcnRlZEZpbGUoZmlsZSkge1xuICAgIGNvbnN0IHR5cGUgPSBnZXRGaWxlVHlwZShmaWxlKTtcbiAgICByZXR1cm4gWydpbWFnZScsICdwZGYnLCAnaGVpYycsICd3ZWJwJywgJ3RpZmYnLCAnZG9jdW1lbnQnXS5pbmNsdWRlcyh0eXBlKTtcbn1cbi8qKlxuICogR2V0IHN1cHBvcnRlZCBmaWxlIGV4dGVuc2lvbnMgYXMgYSBzdHJpbmcgZm9yIGZpbGUgaW5wdXQgYWNjZXB0IGF0dHJpYnV0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpIHtcbiAgICBjb25zdCBhbGxFeHRlbnNpb25zID0gW107XG4gICAgLy8gQWRkIGltYWdlIGV4dGVuc2lvbnNcbiAgICBPYmplY3QudmFsdWVzKFNVUFBPUlRFRF9GSUxFX1RZUEVTLmltYWdlcykuZm9yRWFjaChleHRlbnNpb25zID0+IHtcbiAgICAgICAgYWxsRXh0ZW5zaW9ucy5wdXNoKC4uLmV4dGVuc2lvbnMpO1xuICAgIH0pO1xuICAgIC8vIEFkZCBQREYgZXh0ZW5zaW9uc1xuICAgIE9iamVjdC52YWx1ZXMoU1VQUE9SVEVEX0ZJTEVfVFlQRVMucGRmKS5mb3JFYWNoKGV4dGVuc2lvbnMgPT4ge1xuICAgICAgICBhbGxFeHRlbnNpb25zLnB1c2goLi4uZXh0ZW5zaW9ucyk7XG4gICAgfSk7XG4gICAgLy8gQWRkIGRvY3VtZW50IGV4dGVuc2lvbnNcbiAgICBPYmplY3QudmFsdWVzKFNVUFBPUlRFRF9GSUxFX1RZUEVTLmRvY3VtZW50cykuZm9yRWFjaChleHRlbnNpb25zID0+IHtcbiAgICAgICAgYWxsRXh0ZW5zaW9ucy5wdXNoKC4uLmV4dGVuc2lvbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiBhbGxFeHRlbnNpb25zLmpvaW4oJywnKTtcbn1cbi8qKlxuICogQ29udmVydCBIRUlDL0hFSUYgdG8gSlBFRyBmb3IgcHJvY2Vzc2luZ1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29udmVydEhlaWNUb0pwZWcoZmlsZSkge1xuICAgIC8vIE5vdGU6IFRoaXMgd291bGQgcmVxdWlyZSBhIEhFSUMgZGVjb2RlciBsaWJyYXJ5IGxpa2UgbGliaGVpZi1qcyBvciBoZWljMmFueVxuICAgIC8vIEZvciBub3csIHJldHVybiBhIHBsYWNlaG9sZGVyIGltcGxlbWVudGF0aW9uXG4gICAgY29uc29sZS53YXJuKCdIRUlDIGNvbnZlcnNpb24gbm90IHlldCBpbXBsZW1lbnRlZCAtIHJlcXVpcmVzIGxpYmhlaWYtanMgb3Igc2ltaWxhcicpO1xuICAgIC8vIFBsYWNlaG9sZGVyOiByZXR1cm4gb3JpZ2luYWwgZmlsZSAod2lsbCBsaWtlbHkgZmFpbCBwcm9jZXNzaW5nKVxuICAgIHJldHVybiBuZXcgRmlsZShbZmlsZV0sIGZpbGUubmFtZS5yZXBsYWNlKC9cXC4oaGVpY3xoZWlmKSQvaSwgJy5qcGcnKSwge1xuICAgICAgICB0eXBlOiAnaW1hZ2UvanBlZydcbiAgICB9KTtcbn1cbi8qKlxuICogQ29udmVydCBXZWJQIHRvIFBORy9KUEVHIGZvciBiZXR0ZXIgY29tcGF0aWJpbGl0eVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29udmVydFdlYlBUb1N0YW5kYXJkKGZpbGUsIHRhcmdldEZvcm1hdCA9ICdwbmcnKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDYW52YXMgY29udGV4dCBub3QgYXZhaWxhYmxlJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgICAgICAgIGNhbnZhcy50b0Jsb2IoKGJsb2IpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGNvbnZlcnQgV2ViUCcpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb252ZXJ0ZWRGaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCBmaWxlLm5hbWUucmVwbGFjZSgvXFwud2VicCQvaSwgYC4ke3RhcmdldEZvcm1hdH1gKSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBgaW1hZ2UvJHt0YXJnZXRGb3JtYXR9YFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoY29udmVydGVkRmlsZSk7XG4gICAgICAgICAgICB9LCBgaW1hZ2UvJHt0YXJnZXRGb3JtYXR9YCwgMC45KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBXZWJQIGltYWdlJykpO1xuICAgICAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICB9KTtcbn1cbi8qKlxuICogQ29udmVydCBUSUZGIHRvIFBORyBmb3IgcHJvY2Vzc2luZ1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29udmVydFRpZmZUb1BuZyhmaWxlKSB7XG4gICAgLy8gTm90ZTogVGhpcyB3b3VsZCByZXF1aXJlIGEgVElGRiBkZWNvZGVyIGxpYnJhcnkgbGlrZSB0aWZmLmpzXG4gICAgY29uc29sZS53YXJuKCdUSUZGIGNvbnZlcnNpb24gbm90IHlldCBpbXBsZW1lbnRlZCAtIHJlcXVpcmVzIHRpZmYuanMgb3Igc2ltaWxhcicpO1xuICAgIC8vIFBsYWNlaG9sZGVyOiByZXR1cm4gYXMgUE5HIHR5cGUgYnV0IG9yaWdpbmFsIGRhdGEgKHdpbGwgbGlrZWx5IGZhaWwpXG4gICAgcmV0dXJuIG5ldyBGaWxlKFtmaWxlXSwgZmlsZS5uYW1lLnJlcGxhY2UoL1xcLnRpZmY/JC9pLCAnLnBuZycpLCB7XG4gICAgICAgIHR5cGU6ICdpbWFnZS9wbmcnXG4gICAgfSk7XG59XG4vKipcbiAqIFByb2Nlc3MgYnVsayBmaWxlcyB3aXRoIHByb2dyZXNzIHRyYWNraW5nXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzQnVsa0ZpbGVzKGZpbGVzLCBhbmFseXplRm4sIGFwcGx5Rm4sIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgbWF4Q29uY3VycmVuY3kgPSAzLCBvblByb2dyZXNzLCBvbkZpbGVDb21wbGV0ZSwgc3RvcE9uRXJyb3IgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICBsZXQgc3VjY2Vzc2Z1bCA9IDA7XG4gICAgbGV0IGZhaWxlZCA9IDA7XG4gICAgLy8gUHJvY2VzcyBmaWxlcyBpbiBiYXRjaGVzIHRvIGNvbnRyb2wgY29uY3VycmVuY3lcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSArPSBtYXhDb25jdXJyZW5jeSkge1xuICAgICAgICBjb25zdCBiYXRjaCA9IGZpbGVzLnNsaWNlKGksIGkgKyBtYXhDb25jdXJyZW5jeSk7XG4gICAgICAgIGNvbnN0IGJhdGNoUHJvbWlzZXMgPSBiYXRjaC5tYXAoYXN5bmMgKGZpbGUsIGJhdGNoSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVJbmRleCA9IGkgKyBiYXRjaEluZGV4O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvblByb2dyZXNzID09PSBudWxsIHx8IG9uUHJvZ3Jlc3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uUHJvZ3Jlc3MoZmlsZUluZGV4LCBmaWxlcy5sZW5ndGgsIGZpbGUubmFtZSB8fCBgZmlsZS0ke2ZpbGVJbmRleH1gKTtcbiAgICAgICAgICAgICAgICAvLyBBbmFseXplIGZpbGVcbiAgICAgICAgICAgICAgICBjb25zdCBhbmFseXplUmVzdWx0ID0gYXdhaXQgYW5hbHl6ZUZuKGZpbGUpO1xuICAgICAgICAgICAgICAgIC8vIEFwcGx5IHJlZGFjdGlvbnNcbiAgICAgICAgICAgICAgICBjb25zdCBhcHBseVJlc3VsdCA9IGF3YWl0IGFwcGx5Rm4oZmlsZSwgYW5hbHl6ZVJlc3VsdCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0c1tmaWxlSW5kZXhdID0gYXBwbHlSZXN1bHQ7XG4gICAgICAgICAgICAgICAgZXJyb3JzW2ZpbGVJbmRleF0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3NmdWwrKztcbiAgICAgICAgICAgICAgICBvbkZpbGVDb21wbGV0ZSA9PT0gbnVsbCB8fCBvbkZpbGVDb21wbGV0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25GaWxlQ29tcGxldGUoZmlsZSwgYXBwbHlSZXN1bHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHBseVJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IpKTtcbiAgICAgICAgICAgICAgICByZXN1bHRzW2ZpbGVJbmRleF0gPSBudWxsO1xuICAgICAgICAgICAgICAgIGVycm9yc1tmaWxlSW5kZXhdID0gZXJyO1xuICAgICAgICAgICAgICAgIGZhaWxlZCsrO1xuICAgICAgICAgICAgICAgIG9uRmlsZUNvbXBsZXRlID09PSBudWxsIHx8IG9uRmlsZUNvbXBsZXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvbkZpbGVDb21wbGV0ZShmaWxlLCBudWxsLCBlcnIpO1xuICAgICAgICAgICAgICAgIGlmIChzdG9wT25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGJhdGNoUHJvbWlzZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKHN0b3BPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3NmdWwsXG4gICAgICAgIGZhaWxlZCxcbiAgICAgICAgdG90YWw6IGZpbGVzLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0cyxcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICBkdXJhdGlvblxuICAgIH07XG59XG4vKipcbiAqIENvbnZlcnQgZG9jdW1lbnQgdG8gUERGIGZvciBwcm9jZXNzaW5nXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb252ZXJ0RG9jdW1lbnRUb1BkZihmaWxlLCBvcHRpb25zID0geyB0YXJnZXRGb3JtYXQ6ICdwZGYnIH0pIHtcbiAgICAvLyBOb3RlOiBUaGlzIHdvdWxkIHJlcXVpcmUgZG9jdW1lbnQgY29udmVyc2lvbiBsaWJyYXJpZXNcbiAgICAvLyBGb3IgRE9DWDogbWFtbW90aC5qcyArIGh0bWwtdG8tcGRmXG4gICAgLy8gRm9yIFhMU1g6IHhsc3ggKyBodG1sLXRvLXBkZlxuICAgIGNvbnNvbGUud2FybihgRG9jdW1lbnQgY29udmVyc2lvbiBub3QgeWV0IGltcGxlbWVudGVkIGZvciAke2ZpbGUudHlwZX1gKTtcbiAgICBjb25zb2xlLmxvZygnV291bGQgY29udmVydDonLCBmaWxlLm5hbWUsICd3aXRoIG9wdGlvbnM6Jywgb3B0aW9ucyk7XG4gICAgLy8gUGxhY2Vob2xkZXI6IHJldHVybiBvcmlnaW5hbCBmaWxlXG4gICAgcmV0dXJuIGZpbGU7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../core-detect/dist/formats.js\n");

/***/ }),

/***/ "../core-detect/dist/history.js":
/*!**************************************!*\
  !*** ../core-detect/dist/history.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearHistory: () => (/* binding */ clearHistory),\n/* harmony export */   endSession: () => (/* binding */ endSession),\n/* harmony export */   exportHistory: () => (/* binding */ exportHistory),\n/* harmony export */   getAllRecords: () => (/* binding */ getAllRecords),\n/* harmony export */   getCurrentSession: () => (/* binding */ getCurrentSession),\n/* harmony export */   getProcessingStats: () => (/* binding */ getProcessingStats),\n/* harmony export */   getSession: () => (/* binding */ getSession),\n/* harmony export */   getSessionRecords: () => (/* binding */ getSessionRecords),\n/* harmony export */   getSessions: () => (/* binding */ getSessions),\n/* harmony export */   recordAnalysisResults: () => (/* binding */ recordAnalysisResults),\n/* harmony export */   recordRedactionResults: () => (/* binding */ recordRedactionResults),\n/* harmony export */   startFileProcessing: () => (/* binding */ startFileProcessing),\n/* harmony export */   startSession: () => (/* binding */ startSession)\n/* harmony export */ });\n// Local storage keys\nconst SESSIONS_KEY = 'cleanshare_processing_sessions';\nconst RECORDS_KEY = 'cleanshare_file_records';\n// In-memory storage for current session\nlet sessions = [];\nlet records = [];\nlet currentSession = null;\n// Load data from localStorage on startup\ntry {\n    if (typeof localStorage !== 'undefined') {\n        const storedSessions = localStorage.getItem(SESSIONS_KEY);\n        const storedRecords = localStorage.getItem(RECORDS_KEY);\n        if (storedSessions) {\n            sessions = JSON.parse(storedSessions);\n        }\n        if (storedRecords) {\n            records = JSON.parse(storedRecords);\n        }\n    }\n}\ncatch (error) {\n    console.warn('Failed to load processing history from localStorage:', error);\n}\n// Save to localStorage\nfunction saveToStorage() {\n    try {\n        if (typeof localStorage !== 'undefined') {\n            localStorage.setItem(SESSIONS_KEY, JSON.stringify(sessions));\n            localStorage.setItem(RECORDS_KEY, JSON.stringify(records));\n        }\n    }\n    catch (error) {\n        console.warn('Failed to save processing history to localStorage:', error);\n    }\n}\n// Generate unique ID\nfunction generateId() {\n    return `${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n}\n// Calculate statistics from detections\nfunction calculateDetectionStats(detections) {\n    const counts = {};\n    let totalConfidence = 0;\n    const confidenceDistribution = { low: 0, medium: 0, high: 0 };\n    detections.forEach(detection => {\n        counts[detection.kind] = (counts[detection.kind] || 0) + 1;\n        totalConfidence += detection.confidence;\n        if (detection.confidence < 0.5) {\n            confidenceDistribution.low++;\n        }\n        else if (detection.confidence < 0.8) {\n            confidenceDistribution.medium++;\n        }\n        else {\n            confidenceDistribution.high++;\n        }\n    });\n    return {\n        counts,\n        total: detections.length,\n        averageConfidence: detections.length > 0 ? totalConfidence / detections.length : 0,\n        confidenceDistribution\n    };\n}\n// Calculate redaction statistics\nfunction calculateRedactionStats(actions) {\n    const byType = {};\n    const byStyle = {};\n    actions.forEach(action => {\n        byStyle[action.style] = (byStyle[action.style] || 0) + 1;\n    });\n    return {\n        total: actions.length,\n        byType, // Will be populated when we have detection kind mapping\n        byStyle\n    };\n}\n/** Start a new processing session */\nfunction startSession(options) {\n    const sessionId = generateId();\n    currentSession = {\n        id: sessionId,\n        startTime: new Date().toISOString(),\n        status: 'running',\n        totalFiles: options.totalFiles,\n        processedFiles: 0,\n        failedFiles: 0,\n        presetId: options.presetId,\n        presetName: options.presetName,\n        options: {\n            analyze: options.analyzeOptions,\n            apply: options.applyOptions\n        }\n    };\n    sessions.push(currentSession);\n    saveToStorage();\n    return sessionId;\n}\n/** End the current processing session */\nfunction endSession(sessionId, status = 'completed') {\n    const session = sessions.find(s => s.id === sessionId);\n    if (session) {\n        session.endTime = new Date().toISOString();\n        session.status = status;\n        if ((currentSession === null || currentSession === void 0 ? void 0 : currentSession.id) === sessionId) {\n            currentSession = null;\n        }\n        saveToStorage();\n    }\n}\n/** Record the start of file processing */\nfunction startFileProcessing(options) {\n    const recordId = generateId();\n    const record = {\n        id: recordId,\n        sessionId: options.sessionId,\n        fileName: options.fileName,\n        fileSize: options.fileSize,\n        fileType: options.fileType,\n        timestamp: new Date().toISOString(),\n        processingTime: 0,\n        status: 'analyzing',\n        detectionCounts: {},\n        totalDetections: 0,\n        averageConfidence: 0,\n        redactionStats: {\n            total: 0,\n            byType: {},\n            byStyle: {}\n        },\n        confidenceDistribution: { low: 0, medium: 0, high: 0 }\n    };\n    records.push(record);\n    saveToStorage();\n    return recordId;\n}\n/** Update file processing record with analysis results */\nfunction recordAnalysisResults(recordId, options) {\n    const record = records.find(r => r.id === recordId);\n    if (!record)\n        return;\n    if (options.error) {\n        record.status = 'failed';\n        record.error = options.error;\n        // Update session failed count\n        const session = sessions.find(s => s.id === record.sessionId);\n        if (session) {\n            session.failedFiles++;\n        }\n    }\n    else {\n        record.status = 'applying';\n        record.detections = options.detections;\n        const stats = calculateDetectionStats(options.detections);\n        record.detectionCounts = stats.counts;\n        record.totalDetections = stats.total;\n        record.averageConfidence = stats.averageConfidence;\n        record.confidenceDistribution = stats.confidenceDistribution;\n        record.ocrTime = options.ocrTime;\n        record.detectionTime = options.detectionTime;\n    }\n    saveToStorage();\n}\n/** Update file processing record with redaction results */\nfunction recordRedactionResults(recordId, options) {\n    const record = records.find(r => r.id === recordId);\n    if (!record)\n        return;\n    const startTime = new Date(record.timestamp).getTime();\n    record.processingTime = Date.now() - startTime;\n    if (options.error) {\n        record.status = 'failed';\n        record.error = options.error;\n        // Update session failed count\n        const session = sessions.find(s => s.id === record.sessionId);\n        if (session) {\n            session.failedFiles++;\n        }\n    }\n    else {\n        record.status = 'completed';\n        record.appliedRedactions = options.appliedRedactions;\n        record.redactionStats = calculateRedactionStats(options.appliedRedactions);\n        record.redactionTime = options.redactionTime;\n        record.outputSize = options.outputSize;\n        // Update session processed count\n        const session = sessions.find(s => s.id === record.sessionId);\n        if (session) {\n            session.processedFiles++;\n        }\n    }\n    saveToStorage();\n}\n/** Get all processing sessions */\nfunction getSessions() {\n    return sessions.slice().reverse(); // Most recent first\n}\n/** Get session by ID */\nfunction getSession(sessionId) {\n    return sessions.find(s => s.id === sessionId);\n}\n/** Get file records for a session */\nfunction getSessionRecords(sessionId) {\n    return records.filter(r => r.sessionId === sessionId);\n}\n/** Get all file records */\nfunction getAllRecords() {\n    return records.slice().reverse(); // Most recent first\n}\n/** Get processing statistics */\nfunction getProcessingStats(dateRange) {\n    let filteredRecords = records;\n    if (dateRange) {\n        filteredRecords = records.filter(r => {\n            const timestamp = new Date(r.timestamp);\n            return timestamp >= new Date(dateRange.start) && timestamp <= new Date(dateRange.end);\n        });\n    }\n    const completedRecords = filteredRecords.filter(r => r.status === 'completed');\n    const totalDetections = completedRecords.reduce((sum, r) => sum + r.totalDetections, 0);\n    const totalProcessingTime = completedRecords.reduce((sum, r) => sum + r.processingTime, 0);\n    // Calculate detection statistics\n    const detectionsByType = {};\n    const detectionsByConfidence = { low: 0, medium: 0, high: 0 };\n    const redactionsByStyle = {};\n    const presetUsage = {};\n    completedRecords.forEach(record => {\n        // Detection counts by type\n        Object.entries(record.detectionCounts).forEach(([type, count]) => {\n            detectionsByType[type] = (detectionsByType[type] || 0) + count;\n        });\n        // Confidence distribution\n        detectionsByConfidence.low += record.confidenceDistribution.low;\n        detectionsByConfidence.medium += record.confidenceDistribution.medium;\n        detectionsByConfidence.high += record.confidenceDistribution.high;\n        // Redaction styles\n        Object.entries(record.redactionStats.byStyle).forEach(([style, count]) => {\n            redactionsByStyle[style] = (redactionsByStyle[style] || 0) + count;\n        });\n        // Preset usage\n        const session = sessions.find(s => s.id === record.sessionId);\n        if (session === null || session === void 0 ? void 0 : session.presetName) {\n            presetUsage[session.presetName] = (presetUsage[session.presetName] || 0) + 1;\n        }\n    });\n    // Processing times by date\n    const timesByDate = new Map();\n    completedRecords.forEach(record => {\n        const date = new Date(record.timestamp).toISOString().split('T')[0];\n        const existing = timesByDate.get(date) || { total: 0, count: 0 };\n        timesByDate.set(date, {\n            total: existing.total + record.processingTime,\n            count: existing.count + 1\n        });\n    });\n    const processingTimesByDate = Array.from(timesByDate.entries()).map(([date, { total, count }]) => ({\n        date,\n        averageTime: total / count,\n        fileCount: count\n    })).sort((a, b) => a.date.localeCompare(b.date));\n    return {\n        totalSessions: sessions.length,\n        totalFiles: filteredRecords.length,\n        totalDetections,\n        averageProcessingTime: completedRecords.length > 0 ? totalProcessingTime / completedRecords.length : 0,\n        successRate: filteredRecords.length > 0 ? completedRecords.length / filteredRecords.length : 0,\n        detectionsByType,\n        detectionsByConfidence,\n        redactionsByStyle,\n        processingTimesByDate,\n        presetUsage\n    };\n}\n/** Clear processing history */\nfunction clearHistory() {\n    sessions = [];\n    records = [];\n    currentSession = null;\n    saveToStorage();\n}\n/** Export processing history */\nfunction exportHistory(options = { format: 'json' }) {\n    var _a;\n    let data;\n    if (options.format === 'json') {\n        data = {\n            sessions: getSessions(),\n            records: getAllRecords(),\n            stats: getProcessingStats(options.dateRange),\n            exportedAt: new Date().toISOString()\n        };\n        if (!options.includeFileDetails) {\n            delete data.records;\n        }\n        if (!options.includeDetectionDetails) {\n            (_a = data.records) === null || _a === void 0 ? void 0 : _a.forEach((record) => {\n                delete record.detections;\n                delete record.appliedRedactions;\n            });\n        }\n        return JSON.stringify(data, null, 2);\n    }\n    else {\n        // CSV format - flatten records for easy analysis\n        const headers = [\n            'Session ID',\n            'File Name',\n            'File Size',\n            'File Type',\n            'Timestamp',\n            'Processing Time (ms)',\n            'Status',\n            'Total Detections',\n            'Average Confidence',\n            'High Confidence Count',\n            'Medium Confidence Count',\n            'Low Confidence Count',\n            'Total Redactions',\n            'Preset Name',\n            'Error'\n        ];\n        const rows = getAllRecords().map(record => {\n            const session = sessions.find(s => s.id === record.sessionId);\n            return [\n                record.sessionId,\n                record.fileName,\n                record.fileSize,\n                record.fileType,\n                record.timestamp,\n                record.processingTime,\n                record.status,\n                record.totalDetections,\n                record.averageConfidence.toFixed(3),\n                record.confidenceDistribution.high,\n                record.confidenceDistribution.medium,\n                record.confidenceDistribution.low,\n                record.redactionStats.total,\n                (session === null || session === void 0 ? void 0 : session.presetName) || '',\n                record.error || ''\n            ];\n        });\n        return [headers, ...rows].map(row => row.map(cell => `\"${String(cell).replace(/\"/g, '\"\"')}\"`).join(',')).join('\\n');\n    }\n}\n/** Get current active session */\nfunction getCurrentSession() {\n    return currentSession;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGlFQUFpRSxpQ0FBaUM7QUFDbEc7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNsZWFuc2hhcmUvdWkvLi4vY29yZS1kZXRlY3QvZGlzdC9oaXN0b3J5LmpzPzA1NjUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTG9jYWwgc3RvcmFnZSBrZXlzXG5jb25zdCBTRVNTSU9OU19LRVkgPSAnY2xlYW5zaGFyZV9wcm9jZXNzaW5nX3Nlc3Npb25zJztcbmNvbnN0IFJFQ09SRFNfS0VZID0gJ2NsZWFuc2hhcmVfZmlsZV9yZWNvcmRzJztcbi8vIEluLW1lbW9yeSBzdG9yYWdlIGZvciBjdXJyZW50IHNlc3Npb25cbmxldCBzZXNzaW9ucyA9IFtdO1xubGV0IHJlY29yZHMgPSBbXTtcbmxldCBjdXJyZW50U2Vzc2lvbiA9IG51bGw7XG4vLyBMb2FkIGRhdGEgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gc3RhcnR1cFxudHJ5IHtcbiAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkU2Vzc2lvbnMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OU19LRVkpO1xuICAgICAgICBjb25zdCBzdG9yZWRSZWNvcmRzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oUkVDT1JEU19LRVkpO1xuICAgICAgICBpZiAoc3RvcmVkU2Vzc2lvbnMpIHtcbiAgICAgICAgICAgIHNlc3Npb25zID0gSlNPTi5wYXJzZShzdG9yZWRTZXNzaW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0b3JlZFJlY29yZHMpIHtcbiAgICAgICAgICAgIHJlY29yZHMgPSBKU09OLnBhcnNlKHN0b3JlZFJlY29yZHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gbG9hZCBwcm9jZXNzaW5nIGhpc3RvcnkgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xufVxuLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2VcbmZ1bmN0aW9uIHNhdmVUb1N0b3JhZ2UoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRVNTSU9OU19LRVksIEpTT04uc3RyaW5naWZ5KHNlc3Npb25zKSk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShSRUNPUkRTX0tFWSwgSlNPTi5zdHJpbmdpZnkocmVjb3JkcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIHByb2Nlc3NpbmcgaGlzdG9yeSB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgIH1cbn1cbi8vIEdlbmVyYXRlIHVuaXF1ZSBJRFxuZnVuY3Rpb24gZ2VuZXJhdGVJZCgpIHtcbiAgICByZXR1cm4gYCR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbn1cbi8vIENhbGN1bGF0ZSBzdGF0aXN0aWNzIGZyb20gZGV0ZWN0aW9uc1xuZnVuY3Rpb24gY2FsY3VsYXRlRGV0ZWN0aW9uU3RhdHMoZGV0ZWN0aW9ucykge1xuICAgIGNvbnN0IGNvdW50cyA9IHt9O1xuICAgIGxldCB0b3RhbENvbmZpZGVuY2UgPSAwO1xuICAgIGNvbnN0IGNvbmZpZGVuY2VEaXN0cmlidXRpb24gPSB7IGxvdzogMCwgbWVkaXVtOiAwLCBoaWdoOiAwIH07XG4gICAgZGV0ZWN0aW9ucy5mb3JFYWNoKGRldGVjdGlvbiA9PiB7XG4gICAgICAgIGNvdW50c1tkZXRlY3Rpb24ua2luZF0gPSAoY291bnRzW2RldGVjdGlvbi5raW5kXSB8fCAwKSArIDE7XG4gICAgICAgIHRvdGFsQ29uZmlkZW5jZSArPSBkZXRlY3Rpb24uY29uZmlkZW5jZTtcbiAgICAgICAgaWYgKGRldGVjdGlvbi5jb25maWRlbmNlIDwgMC41KSB7XG4gICAgICAgICAgICBjb25maWRlbmNlRGlzdHJpYnV0aW9uLmxvdysrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRldGVjdGlvbi5jb25maWRlbmNlIDwgMC44KSB7XG4gICAgICAgICAgICBjb25maWRlbmNlRGlzdHJpYnV0aW9uLm1lZGl1bSsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uZmlkZW5jZURpc3RyaWJ1dGlvbi5oaWdoKys7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb3VudHMsXG4gICAgICAgIHRvdGFsOiBkZXRlY3Rpb25zLmxlbmd0aCxcbiAgICAgICAgYXZlcmFnZUNvbmZpZGVuY2U6IGRldGVjdGlvbnMubGVuZ3RoID4gMCA/IHRvdGFsQ29uZmlkZW5jZSAvIGRldGVjdGlvbnMubGVuZ3RoIDogMCxcbiAgICAgICAgY29uZmlkZW5jZURpc3RyaWJ1dGlvblxuICAgIH07XG59XG4vLyBDYWxjdWxhdGUgcmVkYWN0aW9uIHN0YXRpc3RpY3NcbmZ1bmN0aW9uIGNhbGN1bGF0ZVJlZGFjdGlvblN0YXRzKGFjdGlvbnMpIHtcbiAgICBjb25zdCBieVR5cGUgPSB7fTtcbiAgICBjb25zdCBieVN0eWxlID0ge307XG4gICAgYWN0aW9ucy5mb3JFYWNoKGFjdGlvbiA9PiB7XG4gICAgICAgIGJ5U3R5bGVbYWN0aW9uLnN0eWxlXSA9IChieVN0eWxlW2FjdGlvbi5zdHlsZV0gfHwgMCkgKyAxO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsOiBhY3Rpb25zLmxlbmd0aCxcbiAgICAgICAgYnlUeXBlLCAvLyBXaWxsIGJlIHBvcHVsYXRlZCB3aGVuIHdlIGhhdmUgZGV0ZWN0aW9uIGtpbmQgbWFwcGluZ1xuICAgICAgICBieVN0eWxlXG4gICAgfTtcbn1cbi8qKiBTdGFydCBhIG5ldyBwcm9jZXNzaW5nIHNlc3Npb24gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFNlc3Npb24ob3B0aW9ucykge1xuICAgIGNvbnN0IHNlc3Npb25JZCA9IGdlbmVyYXRlSWQoKTtcbiAgICBjdXJyZW50U2Vzc2lvbiA9IHtcbiAgICAgICAgaWQ6IHNlc3Npb25JZCxcbiAgICAgICAgc3RhcnRUaW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHN0YXR1czogJ3J1bm5pbmcnLFxuICAgICAgICB0b3RhbEZpbGVzOiBvcHRpb25zLnRvdGFsRmlsZXMsXG4gICAgICAgIHByb2Nlc3NlZEZpbGVzOiAwLFxuICAgICAgICBmYWlsZWRGaWxlczogMCxcbiAgICAgICAgcHJlc2V0SWQ6IG9wdGlvbnMucHJlc2V0SWQsXG4gICAgICAgIHByZXNldE5hbWU6IG9wdGlvbnMucHJlc2V0TmFtZSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgYW5hbHl6ZTogb3B0aW9ucy5hbmFseXplT3B0aW9ucyxcbiAgICAgICAgICAgIGFwcGx5OiBvcHRpb25zLmFwcGx5T3B0aW9uc1xuICAgICAgICB9XG4gICAgfTtcbiAgICBzZXNzaW9ucy5wdXNoKGN1cnJlbnRTZXNzaW9uKTtcbiAgICBzYXZlVG9TdG9yYWdlKCk7XG4gICAgcmV0dXJuIHNlc3Npb25JZDtcbn1cbi8qKiBFbmQgdGhlIGN1cnJlbnQgcHJvY2Vzc2luZyBzZXNzaW9uICovXG5leHBvcnQgZnVuY3Rpb24gZW5kU2Vzc2lvbihzZXNzaW9uSWQsIHN0YXR1cyA9ICdjb21wbGV0ZWQnKSB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IHNlc3Npb25zLmZpbmQocyA9PiBzLmlkID09PSBzZXNzaW9uSWQpO1xuICAgIGlmIChzZXNzaW9uKSB7XG4gICAgICAgIHNlc3Npb24uZW5kVGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgc2Vzc2lvbi5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIGlmICgoY3VycmVudFNlc3Npb24gPT09IG51bGwgfHwgY3VycmVudFNlc3Npb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnRTZXNzaW9uLmlkKSA9PT0gc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICBjdXJyZW50U2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc2F2ZVRvU3RvcmFnZSgpO1xuICAgIH1cbn1cbi8qKiBSZWNvcmQgdGhlIHN0YXJ0IG9mIGZpbGUgcHJvY2Vzc2luZyAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0RmlsZVByb2Nlc3Npbmcob3B0aW9ucykge1xuICAgIGNvbnN0IHJlY29yZElkID0gZ2VuZXJhdGVJZCgpO1xuICAgIGNvbnN0IHJlY29yZCA9IHtcbiAgICAgICAgaWQ6IHJlY29yZElkLFxuICAgICAgICBzZXNzaW9uSWQ6IG9wdGlvbnMuc2Vzc2lvbklkLFxuICAgICAgICBmaWxlTmFtZTogb3B0aW9ucy5maWxlTmFtZSxcbiAgICAgICAgZmlsZVNpemU6IG9wdGlvbnMuZmlsZVNpemUsXG4gICAgICAgIGZpbGVUeXBlOiBvcHRpb25zLmZpbGVUeXBlLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWU6IDAsXG4gICAgICAgIHN0YXR1czogJ2FuYWx5emluZycsXG4gICAgICAgIGRldGVjdGlvbkNvdW50czoge30sXG4gICAgICAgIHRvdGFsRGV0ZWN0aW9uczogMCxcbiAgICAgICAgYXZlcmFnZUNvbmZpZGVuY2U6IDAsXG4gICAgICAgIHJlZGFjdGlvblN0YXRzOiB7XG4gICAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICAgIGJ5VHlwZToge30sXG4gICAgICAgICAgICBieVN0eWxlOiB7fVxuICAgICAgICB9LFxuICAgICAgICBjb25maWRlbmNlRGlzdHJpYnV0aW9uOiB7IGxvdzogMCwgbWVkaXVtOiAwLCBoaWdoOiAwIH1cbiAgICB9O1xuICAgIHJlY29yZHMucHVzaChyZWNvcmQpO1xuICAgIHNhdmVUb1N0b3JhZ2UoKTtcbiAgICByZXR1cm4gcmVjb3JkSWQ7XG59XG4vKiogVXBkYXRlIGZpbGUgcHJvY2Vzc2luZyByZWNvcmQgd2l0aCBhbmFseXNpcyByZXN1bHRzICovXG5leHBvcnQgZnVuY3Rpb24gcmVjb3JkQW5hbHlzaXNSZXN1bHRzKHJlY29yZElkLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcmVjb3JkID0gcmVjb3Jkcy5maW5kKHIgPT4gci5pZCA9PT0gcmVjb3JkSWQpO1xuICAgIGlmICghcmVjb3JkKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKG9wdGlvbnMuZXJyb3IpIHtcbiAgICAgICAgcmVjb3JkLnN0YXR1cyA9ICdmYWlsZWQnO1xuICAgICAgICByZWNvcmQuZXJyb3IgPSBvcHRpb25zLmVycm9yO1xuICAgICAgICAvLyBVcGRhdGUgc2Vzc2lvbiBmYWlsZWQgY291bnRcbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHNlc3Npb25zLmZpbmQocyA9PiBzLmlkID09PSByZWNvcmQuc2Vzc2lvbklkKTtcbiAgICAgICAgaWYgKHNlc3Npb24pIHtcbiAgICAgICAgICAgIHNlc3Npb24uZmFpbGVkRmlsZXMrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVjb3JkLnN0YXR1cyA9ICdhcHBseWluZyc7XG4gICAgICAgIHJlY29yZC5kZXRlY3Rpb25zID0gb3B0aW9ucy5kZXRlY3Rpb25zO1xuICAgICAgICBjb25zdCBzdGF0cyA9IGNhbGN1bGF0ZURldGVjdGlvblN0YXRzKG9wdGlvbnMuZGV0ZWN0aW9ucyk7XG4gICAgICAgIHJlY29yZC5kZXRlY3Rpb25Db3VudHMgPSBzdGF0cy5jb3VudHM7XG4gICAgICAgIHJlY29yZC50b3RhbERldGVjdGlvbnMgPSBzdGF0cy50b3RhbDtcbiAgICAgICAgcmVjb3JkLmF2ZXJhZ2VDb25maWRlbmNlID0gc3RhdHMuYXZlcmFnZUNvbmZpZGVuY2U7XG4gICAgICAgIHJlY29yZC5jb25maWRlbmNlRGlzdHJpYnV0aW9uID0gc3RhdHMuY29uZmlkZW5jZURpc3RyaWJ1dGlvbjtcbiAgICAgICAgcmVjb3JkLm9jclRpbWUgPSBvcHRpb25zLm9jclRpbWU7XG4gICAgICAgIHJlY29yZC5kZXRlY3Rpb25UaW1lID0gb3B0aW9ucy5kZXRlY3Rpb25UaW1lO1xuICAgIH1cbiAgICBzYXZlVG9TdG9yYWdlKCk7XG59XG4vKiogVXBkYXRlIGZpbGUgcHJvY2Vzc2luZyByZWNvcmQgd2l0aCByZWRhY3Rpb24gcmVzdWx0cyAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZFJlZGFjdGlvblJlc3VsdHMocmVjb3JkSWQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCByZWNvcmQgPSByZWNvcmRzLmZpbmQociA9PiByLmlkID09PSByZWNvcmRJZCk7XG4gICAgaWYgKCFyZWNvcmQpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBuZXcgRGF0ZShyZWNvcmQudGltZXN0YW1wKS5nZXRUaW1lKCk7XG4gICAgcmVjb3JkLnByb2Nlc3NpbmdUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICByZWNvcmQuc3RhdHVzID0gJ2ZhaWxlZCc7XG4gICAgICAgIHJlY29yZC5lcnJvciA9IG9wdGlvbnMuZXJyb3I7XG4gICAgICAgIC8vIFVwZGF0ZSBzZXNzaW9uIGZhaWxlZCBjb3VudFxuICAgICAgICBjb25zdCBzZXNzaW9uID0gc2Vzc2lvbnMuZmluZChzID0+IHMuaWQgPT09IHJlY29yZC5zZXNzaW9uSWQpO1xuICAgICAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICAgICAgc2Vzc2lvbi5mYWlsZWRGaWxlcysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZWNvcmQuc3RhdHVzID0gJ2NvbXBsZXRlZCc7XG4gICAgICAgIHJlY29yZC5hcHBsaWVkUmVkYWN0aW9ucyA9IG9wdGlvbnMuYXBwbGllZFJlZGFjdGlvbnM7XG4gICAgICAgIHJlY29yZC5yZWRhY3Rpb25TdGF0cyA9IGNhbGN1bGF0ZVJlZGFjdGlvblN0YXRzKG9wdGlvbnMuYXBwbGllZFJlZGFjdGlvbnMpO1xuICAgICAgICByZWNvcmQucmVkYWN0aW9uVGltZSA9IG9wdGlvbnMucmVkYWN0aW9uVGltZTtcbiAgICAgICAgcmVjb3JkLm91dHB1dFNpemUgPSBvcHRpb25zLm91dHB1dFNpemU7XG4gICAgICAgIC8vIFVwZGF0ZSBzZXNzaW9uIHByb2Nlc3NlZCBjb3VudFxuICAgICAgICBjb25zdCBzZXNzaW9uID0gc2Vzc2lvbnMuZmluZChzID0+IHMuaWQgPT09IHJlY29yZC5zZXNzaW9uSWQpO1xuICAgICAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICAgICAgc2Vzc2lvbi5wcm9jZXNzZWRGaWxlcysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNhdmVUb1N0b3JhZ2UoKTtcbn1cbi8qKiBHZXQgYWxsIHByb2Nlc3Npbmcgc2Vzc2lvbnMgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXNzaW9ucygpIHtcbiAgICByZXR1cm4gc2Vzc2lvbnMuc2xpY2UoKS5yZXZlcnNlKCk7IC8vIE1vc3QgcmVjZW50IGZpcnN0XG59XG4vKiogR2V0IHNlc3Npb24gYnkgSUQgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXNzaW9uKHNlc3Npb25JZCkge1xuICAgIHJldHVybiBzZXNzaW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2Vzc2lvbklkKTtcbn1cbi8qKiBHZXQgZmlsZSByZWNvcmRzIGZvciBhIHNlc3Npb24gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXNzaW9uUmVjb3JkcyhzZXNzaW9uSWQpIHtcbiAgICByZXR1cm4gcmVjb3Jkcy5maWx0ZXIociA9PiByLnNlc3Npb25JZCA9PT0gc2Vzc2lvbklkKTtcbn1cbi8qKiBHZXQgYWxsIGZpbGUgcmVjb3JkcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbFJlY29yZHMoKSB7XG4gICAgcmV0dXJuIHJlY29yZHMuc2xpY2UoKS5yZXZlcnNlKCk7IC8vIE1vc3QgcmVjZW50IGZpcnN0XG59XG4vKiogR2V0IHByb2Nlc3Npbmcgc3RhdGlzdGljcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFByb2Nlc3NpbmdTdGF0cyhkYXRlUmFuZ2UpIHtcbiAgICBsZXQgZmlsdGVyZWRSZWNvcmRzID0gcmVjb3JkcztcbiAgICBpZiAoZGF0ZVJhbmdlKSB7XG4gICAgICAgIGZpbHRlcmVkUmVjb3JkcyA9IHJlY29yZHMuZmlsdGVyKHIgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoci50aW1lc3RhbXApO1xuICAgICAgICAgICAgcmV0dXJuIHRpbWVzdGFtcCA+PSBuZXcgRGF0ZShkYXRlUmFuZ2Uuc3RhcnQpICYmIHRpbWVzdGFtcCA8PSBuZXcgRGF0ZShkYXRlUmFuZ2UuZW5kKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBsZXRlZFJlY29yZHMgPSBmaWx0ZXJlZFJlY29yZHMuZmlsdGVyKHIgPT4gci5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKTtcbiAgICBjb25zdCB0b3RhbERldGVjdGlvbnMgPSBjb21wbGV0ZWRSZWNvcmRzLnJlZHVjZSgoc3VtLCByKSA9PiBzdW0gKyByLnRvdGFsRGV0ZWN0aW9ucywgMCk7XG4gICAgY29uc3QgdG90YWxQcm9jZXNzaW5nVGltZSA9IGNvbXBsZXRlZFJlY29yZHMucmVkdWNlKChzdW0sIHIpID0+IHN1bSArIHIucHJvY2Vzc2luZ1RpbWUsIDApO1xuICAgIC8vIENhbGN1bGF0ZSBkZXRlY3Rpb24gc3RhdGlzdGljc1xuICAgIGNvbnN0IGRldGVjdGlvbnNCeVR5cGUgPSB7fTtcbiAgICBjb25zdCBkZXRlY3Rpb25zQnlDb25maWRlbmNlID0geyBsb3c6IDAsIG1lZGl1bTogMCwgaGlnaDogMCB9O1xuICAgIGNvbnN0IHJlZGFjdGlvbnNCeVN0eWxlID0ge307XG4gICAgY29uc3QgcHJlc2V0VXNhZ2UgPSB7fTtcbiAgICBjb21wbGV0ZWRSZWNvcmRzLmZvckVhY2gocmVjb3JkID0+IHtcbiAgICAgICAgLy8gRGV0ZWN0aW9uIGNvdW50cyBieSB0eXBlXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHJlY29yZC5kZXRlY3Rpb25Db3VudHMpLmZvckVhY2goKFt0eXBlLCBjb3VudF0pID0+IHtcbiAgICAgICAgICAgIGRldGVjdGlvbnNCeVR5cGVbdHlwZV0gPSAoZGV0ZWN0aW9uc0J5VHlwZVt0eXBlXSB8fCAwKSArIGNvdW50O1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ29uZmlkZW5jZSBkaXN0cmlidXRpb25cbiAgICAgICAgZGV0ZWN0aW9uc0J5Q29uZmlkZW5jZS5sb3cgKz0gcmVjb3JkLmNvbmZpZGVuY2VEaXN0cmlidXRpb24ubG93O1xuICAgICAgICBkZXRlY3Rpb25zQnlDb25maWRlbmNlLm1lZGl1bSArPSByZWNvcmQuY29uZmlkZW5jZURpc3RyaWJ1dGlvbi5tZWRpdW07XG4gICAgICAgIGRldGVjdGlvbnNCeUNvbmZpZGVuY2UuaGlnaCArPSByZWNvcmQuY29uZmlkZW5jZURpc3RyaWJ1dGlvbi5oaWdoO1xuICAgICAgICAvLyBSZWRhY3Rpb24gc3R5bGVzXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHJlY29yZC5yZWRhY3Rpb25TdGF0cy5ieVN0eWxlKS5mb3JFYWNoKChbc3R5bGUsIGNvdW50XSkgPT4ge1xuICAgICAgICAgICAgcmVkYWN0aW9uc0J5U3R5bGVbc3R5bGVdID0gKHJlZGFjdGlvbnNCeVN0eWxlW3N0eWxlXSB8fCAwKSArIGNvdW50O1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gUHJlc2V0IHVzYWdlXG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBzZXNzaW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gcmVjb3JkLnNlc3Npb25JZCk7XG4gICAgICAgIGlmIChzZXNzaW9uID09PSBudWxsIHx8IHNlc3Npb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlc3Npb24ucHJlc2V0TmFtZSkge1xuICAgICAgICAgICAgcHJlc2V0VXNhZ2Vbc2Vzc2lvbi5wcmVzZXROYW1lXSA9IChwcmVzZXRVc2FnZVtzZXNzaW9uLnByZXNldE5hbWVdIHx8IDApICsgMTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFByb2Nlc3NpbmcgdGltZXMgYnkgZGF0ZVxuICAgIGNvbnN0IHRpbWVzQnlEYXRlID0gbmV3IE1hcCgpO1xuICAgIGNvbXBsZXRlZFJlY29yZHMuZm9yRWFjaChyZWNvcmQgPT4ge1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUocmVjb3JkLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xuICAgICAgICBjb25zdCBleGlzdGluZyA9IHRpbWVzQnlEYXRlLmdldChkYXRlKSB8fCB7IHRvdGFsOiAwLCBjb3VudDogMCB9O1xuICAgICAgICB0aW1lc0J5RGF0ZS5zZXQoZGF0ZSwge1xuICAgICAgICAgICAgdG90YWw6IGV4aXN0aW5nLnRvdGFsICsgcmVjb3JkLnByb2Nlc3NpbmdUaW1lLFxuICAgICAgICAgICAgY291bnQ6IGV4aXN0aW5nLmNvdW50ICsgMVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBjb25zdCBwcm9jZXNzaW5nVGltZXNCeURhdGUgPSBBcnJheS5mcm9tKHRpbWVzQnlEYXRlLmVudHJpZXMoKSkubWFwKChbZGF0ZSwgeyB0b3RhbCwgY291bnQgfV0pID0+ICh7XG4gICAgICAgIGRhdGUsXG4gICAgICAgIGF2ZXJhZ2VUaW1lOiB0b3RhbCAvIGNvdW50LFxuICAgICAgICBmaWxlQ291bnQ6IGNvdW50XG4gICAgfSkpLnNvcnQoKGEsIGIpID0+IGEuZGF0ZS5sb2NhbGVDb21wYXJlKGIuZGF0ZSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsU2Vzc2lvbnM6IHNlc3Npb25zLmxlbmd0aCxcbiAgICAgICAgdG90YWxGaWxlczogZmlsdGVyZWRSZWNvcmRzLmxlbmd0aCxcbiAgICAgICAgdG90YWxEZXRlY3Rpb25zLFxuICAgICAgICBhdmVyYWdlUHJvY2Vzc2luZ1RpbWU6IGNvbXBsZXRlZFJlY29yZHMubGVuZ3RoID4gMCA/IHRvdGFsUHJvY2Vzc2luZ1RpbWUgLyBjb21wbGV0ZWRSZWNvcmRzLmxlbmd0aCA6IDAsXG4gICAgICAgIHN1Y2Nlc3NSYXRlOiBmaWx0ZXJlZFJlY29yZHMubGVuZ3RoID4gMCA/IGNvbXBsZXRlZFJlY29yZHMubGVuZ3RoIC8gZmlsdGVyZWRSZWNvcmRzLmxlbmd0aCA6IDAsXG4gICAgICAgIGRldGVjdGlvbnNCeVR5cGUsXG4gICAgICAgIGRldGVjdGlvbnNCeUNvbmZpZGVuY2UsXG4gICAgICAgIHJlZGFjdGlvbnNCeVN0eWxlLFxuICAgICAgICBwcm9jZXNzaW5nVGltZXNCeURhdGUsXG4gICAgICAgIHByZXNldFVzYWdlXG4gICAgfTtcbn1cbi8qKiBDbGVhciBwcm9jZXNzaW5nIGhpc3RvcnkgKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckhpc3RvcnkoKSB7XG4gICAgc2Vzc2lvbnMgPSBbXTtcbiAgICByZWNvcmRzID0gW107XG4gICAgY3VycmVudFNlc3Npb24gPSBudWxsO1xuICAgIHNhdmVUb1N0b3JhZ2UoKTtcbn1cbi8qKiBFeHBvcnQgcHJvY2Vzc2luZyBoaXN0b3J5ICovXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0SGlzdG9yeShvcHRpb25zID0geyBmb3JtYXQ6ICdqc29uJyB9KSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBkYXRhO1xuICAgIGlmIChvcHRpb25zLmZvcm1hdCA9PT0gJ2pzb24nKSB7XG4gICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgICBzZXNzaW9uczogZ2V0U2Vzc2lvbnMoKSxcbiAgICAgICAgICAgIHJlY29yZHM6IGdldEFsbFJlY29yZHMoKSxcbiAgICAgICAgICAgIHN0YXRzOiBnZXRQcm9jZXNzaW5nU3RhdHMob3B0aW9ucy5kYXRlUmFuZ2UpLFxuICAgICAgICAgICAgZXhwb3J0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH07XG4gICAgICAgIGlmICghb3B0aW9ucy5pbmNsdWRlRmlsZURldGFpbHMpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhLnJlY29yZHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLmluY2x1ZGVEZXRlY3Rpb25EZXRhaWxzKSB7XG4gICAgICAgICAgICAoX2EgPSBkYXRhLnJlY29yZHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKChyZWNvcmQpID0+IHtcbiAgICAgICAgICAgICAgICBkZWxldGUgcmVjb3JkLmRldGVjdGlvbnM7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlY29yZC5hcHBsaWVkUmVkYWN0aW9ucztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIENTViBmb3JtYXQgLSBmbGF0dGVuIHJlY29yZHMgZm9yIGVhc3kgYW5hbHlzaXNcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IFtcbiAgICAgICAgICAgICdTZXNzaW9uIElEJyxcbiAgICAgICAgICAgICdGaWxlIE5hbWUnLFxuICAgICAgICAgICAgJ0ZpbGUgU2l6ZScsXG4gICAgICAgICAgICAnRmlsZSBUeXBlJyxcbiAgICAgICAgICAgICdUaW1lc3RhbXAnLFxuICAgICAgICAgICAgJ1Byb2Nlc3NpbmcgVGltZSAobXMpJyxcbiAgICAgICAgICAgICdTdGF0dXMnLFxuICAgICAgICAgICAgJ1RvdGFsIERldGVjdGlvbnMnLFxuICAgICAgICAgICAgJ0F2ZXJhZ2UgQ29uZmlkZW5jZScsXG4gICAgICAgICAgICAnSGlnaCBDb25maWRlbmNlIENvdW50JyxcbiAgICAgICAgICAgICdNZWRpdW0gQ29uZmlkZW5jZSBDb3VudCcsXG4gICAgICAgICAgICAnTG93IENvbmZpZGVuY2UgQ291bnQnLFxuICAgICAgICAgICAgJ1RvdGFsIFJlZGFjdGlvbnMnLFxuICAgICAgICAgICAgJ1ByZXNldCBOYW1lJyxcbiAgICAgICAgICAgICdFcnJvcidcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3Qgcm93cyA9IGdldEFsbFJlY29yZHMoKS5tYXAocmVjb3JkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBzZXNzaW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gcmVjb3JkLnNlc3Npb25JZCk7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHJlY29yZC5zZXNzaW9uSWQsXG4gICAgICAgICAgICAgICAgcmVjb3JkLmZpbGVOYW1lLFxuICAgICAgICAgICAgICAgIHJlY29yZC5maWxlU2l6ZSxcbiAgICAgICAgICAgICAgICByZWNvcmQuZmlsZVR5cGUsXG4gICAgICAgICAgICAgICAgcmVjb3JkLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICByZWNvcmQucHJvY2Vzc2luZ1RpbWUsXG4gICAgICAgICAgICAgICAgcmVjb3JkLnN0YXR1cyxcbiAgICAgICAgICAgICAgICByZWNvcmQudG90YWxEZXRlY3Rpb25zLFxuICAgICAgICAgICAgICAgIHJlY29yZC5hdmVyYWdlQ29uZmlkZW5jZS50b0ZpeGVkKDMpLFxuICAgICAgICAgICAgICAgIHJlY29yZC5jb25maWRlbmNlRGlzdHJpYnV0aW9uLmhpZ2gsXG4gICAgICAgICAgICAgICAgcmVjb3JkLmNvbmZpZGVuY2VEaXN0cmlidXRpb24ubWVkaXVtLFxuICAgICAgICAgICAgICAgIHJlY29yZC5jb25maWRlbmNlRGlzdHJpYnV0aW9uLmxvdyxcbiAgICAgICAgICAgICAgICByZWNvcmQucmVkYWN0aW9uU3RhdHMudG90YWwsXG4gICAgICAgICAgICAgICAgKHNlc3Npb24gPT09IG51bGwgfHwgc2Vzc2lvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2Vzc2lvbi5wcmVzZXROYW1lKSB8fCAnJyxcbiAgICAgICAgICAgICAgICByZWNvcmQuZXJyb3IgfHwgJydcbiAgICAgICAgICAgIF07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gW2hlYWRlcnMsIC4uLnJvd3NdLm1hcChyb3cgPT4gcm93Lm1hcChjZWxsID0+IGBcIiR7U3RyaW5nKGNlbGwpLnJlcGxhY2UoL1wiL2csICdcIlwiJyl9XCJgKS5qb2luKCcsJykpLmpvaW4oJ1xcbicpO1xuICAgIH1cbn1cbi8qKiBHZXQgY3VycmVudCBhY3RpdmUgc2Vzc2lvbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRTZXNzaW9uKCkge1xuICAgIHJldHVybiBjdXJyZW50U2Vzc2lvbjtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../core-detect/dist/history.js\n");

/***/ }),

/***/ "../core-detect/dist/index.js":
/*!************************************!*\
  !*** ../core-detect/dist/index.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeDocument: () => (/* reexport safe */ _pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__.analyzeDocument),\n/* harmony export */   applyRedactions: () => (/* reexport safe */ _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__.applyRedactions)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"../core-detect/dist/types.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_0__) if([\"default\",\"analyzeDocument\",\"applyRedactions\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _types__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pipeline/analyze */ \"../core-detect/dist/pipeline/analyze.js\");\n/* harmony import */ var _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pipeline/apply */ \"../core-detect/dist/pipeline/apply.js\");\n/* harmony import */ var _presets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./presets */ \"../core-detect/dist/presets.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _presets__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"analyzeDocument\",\"applyRedactions\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _presets__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _formats__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./formats */ \"../core-detect/dist/formats.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _formats__WEBPACK_IMPORTED_MODULE_4__) if([\"default\",\"analyzeDocument\",\"applyRedactions\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _formats__WEBPACK_IMPORTED_MODULE_4__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _history__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./history */ \"../core-detect/dist/history.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _history__WEBPACK_IMPORTED_MODULE_5__) if([\"default\",\"analyzeDocument\",\"applyRedactions\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _history__WEBPACK_IMPORTED_MODULE_5__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__, _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__]);\n([_pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__, _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QjtBQUM2QjtBQUNGO0FBQ3pCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BjbGVhbnNoYXJlL3VpLy4uL2NvcmUtZGV0ZWN0L2Rpc3QvaW5kZXguanM/NWVjZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL3R5cGVzJztcbmV4cG9ydCB7IGFuYWx5emVEb2N1bWVudCB9IGZyb20gJy4vcGlwZWxpbmUvYW5hbHl6ZSc7XG5leHBvcnQgeyBhcHBseVJlZGFjdGlvbnMgfSBmcm9tICcuL3BpcGVsaW5lL2FwcGx5JztcbmV4cG9ydCAqIGZyb20gJy4vcHJlc2V0cyc7XG5leHBvcnQgKiBmcm9tICcuL2Zvcm1hdHMnO1xuZXhwb3J0ICogZnJvbSAnLi9oaXN0b3J5JztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../core-detect/dist/index.js\n");

/***/ }),

/***/ "../core-detect/dist/pipeline/analyze.js":
/*!***********************************************!*\
  !*** ../core-detect/dist/pipeline/analyze.js ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeDocument: () => (/* binding */ analyzeDocument)\n/* harmony export */ });\n/* harmony import */ var _detectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../detectors */ \"../core-detect/dist/detectors/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tesseract.js */ \"../../node_modules/.pnpm/tesseract.js@4.1.4/node_modules/tesseract.js/src/index.js\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tesseract_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pdfjs-dist */ \"pdfjs-dist\");\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jsqr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsqr */ \"jsqr\");\n/* harmony import */ var jsqr__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsqr__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _presets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../presets */ \"../core-detect/dist/presets.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([uuid__WEBPACK_IMPORTED_MODULE_0__]);\nuuid__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// Barcode detection library.  jsQR is a small library that can scan QR codes\n// and linear barcodes from image pixel data.  It returns the location of the\n// detected code if one is found.  See https://github.com/cozmo/jsQR for details.\n\n// Import preset utilities to allow filtering detections based on enabled kinds\n\n/*\n * The analyse pipeline orchestrates OCR and token detection for both images\n * and PDFs.  It uses native OCR when available (via Capacitor plugins) and\n * falls back to Tesseract.js running in the browser or a web worker.  PDF\n * pages are rendered to canvases via pdfjs-dist, then treated like images.\n */\n/** Convert a File/Blob to a Data URI. */\nasync function fileToDataURL(file) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = () => reject(reader.error);\n        reader.readAsDataURL(file);\n    });\n}\n/** Perform OCR on a data URL and return detections. */\nasync function analyzeImageDataURL(dataURL, pageIndex = 0, opts = {}) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    // Optionally perform a simple document auto‑crop before running OCR.  Many\n    // scanned documents contain large white margins.  Cropping to the\n    // bounding rectangle of non‑white pixels improves OCR accuracy and\n    // reduces processing time.  We detect the smallest rectangle that\n    // contains all pixels whose brightness is below a threshold.  If the\n    // resulting crop covers almost the entire image (>95%), we skip the\n    // crop to avoid losing content.  This heuristic is cheap to compute\n    // and does not require external dependencies.  See docs/ROADMAP.md.\n    async function autoCrop(dataUrl) {\n        return new Promise(resolve => {\n            const img = new Image();\n            img.onload = () => {\n                const canvas = document.createElement('canvas');\n                canvas.width = img.width;\n                canvas.height = img.height;\n                const ctx = canvas.getContext('2d');\n                if (!ctx) {\n                    resolve(dataUrl);\n                    return;\n                }\n                ctx.drawImage(img, 0, 0);\n                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n                const data = imageData.data;\n                let minX = canvas.width;\n                let maxX = 0;\n                let minY = canvas.height;\n                let maxY = 0;\n                // Threshold to consider a pixel as background (very light)\n                const isBg = (r, g, b) => r > 230 && g > 230 && b > 230;\n                for (let y = 0; y < canvas.height; y++) {\n                    for (let x = 0; x < canvas.width; x++) {\n                        const idx = (y * canvas.width + x) * 4;\n                        const r = data[idx];\n                        const g = data[idx + 1];\n                        const b = data[idx + 2];\n                        if (!isBg(r, g, b)) {\n                            if (x < minX)\n                                minX = x;\n                            if (x > maxX)\n                                maxX = x;\n                            if (y < minY)\n                                minY = y;\n                            if (y > maxY)\n                                maxY = y;\n                        }\n                    }\n                }\n                // If no foreground found, return original\n                if (minX > maxX || minY > maxY) {\n                    resolve(dataUrl);\n                    return;\n                }\n                // Compute bounds width/height\n                const bw = maxX - minX;\n                const bh = maxY - minY;\n                // If crop covers almost entire image, skip cropping\n                if (bw / canvas.width > 0.95 && bh / canvas.height > 0.95) {\n                    resolve(dataUrl);\n                    return;\n                }\n                // Expand crop by 5% margins to avoid cutting content\n                const marginX = Math.floor(bw * 0.05);\n                const marginY = Math.floor(bh * 0.05);\n                const cropX = Math.max(0, minX - marginX);\n                const cropY = Math.max(0, minY - marginY);\n                const cropW = Math.min(canvas.width - cropX, bw + marginX * 2);\n                const cropH = Math.min(canvas.height - cropY, bh + marginY * 2);\n                const croppedCanvas = document.createElement('canvas');\n                croppedCanvas.width = cropW;\n                croppedCanvas.height = cropH;\n                const cctx = croppedCanvas.getContext('2d');\n                if (!cctx) {\n                    resolve(dataUrl);\n                    return;\n                }\n                cctx.drawImage(canvas, cropX, cropY, cropW, cropH, 0, 0, cropW, cropH);\n                resolve(croppedCanvas.toDataURL());\n            };\n            img.onerror = () => resolve(dataUrl);\n            img.src = dataUrl;\n        });\n    }\n    // Run Tesseract on the original Data URL.  Cropping is disabled by\n    // default because adjusting bounding boxes back to the original\n    // coordinates is non‑trivial.  To experiment with auto‑crop, call\n    // autoCrop() on dataURL and adjust bounding boxes accordingly.\n    const result = await tesseract_js__WEBPACK_IMPORTED_MODULE_1___default().recognize(dataURL, 'eng', { logger: () => { } });\n    const { words } = result.data;\n    const detections = [];\n    // Determine image dimensions\n    const img = new Image();\n    await new Promise(resolve => {\n        img.onload = resolve;\n        img.src = dataURL;\n    });\n    const width = img.width;\n    const height = img.height;\n    for (const word of words) {\n        const text = (word.text || '').trim();\n        if (!text)\n            continue;\n        const match = (0,_detectors__WEBPACK_IMPORTED_MODULE_4__.detectTokenWithCustomPatterns)(text, opts.customPatterns);\n        if (match) {\n            const { kind, reason, confidence: detectionConfidence } = match;\n            const bbox = word.bbox;\n            const x0 = (_b = (_a = bbox.x0) !== null && _a !== void 0 ? _a : bbox.left) !== null && _b !== void 0 ? _b : 0;\n            const y0 = (_d = (_c = bbox.y0) !== null && _c !== void 0 ? _c : bbox.top) !== null && _d !== void 0 ? _d : 0;\n            const x1 = (_f = (_e = bbox.x1) !== null && _e !== void 0 ? _e : bbox.right) !== null && _f !== void 0 ? _f : 0;\n            const y1 = (_h = (_g = bbox.y1) !== null && _g !== void 0 ? _g : bbox.bottom) !== null && _h !== void 0 ? _h : 0;\n            const box = {\n                x: x0 / width,\n                y: y0 / height,\n                w: (x1 - x0) / width,\n                h: (y1 - y0) / height,\n                page: pageIndex\n            };\n            // Use enhanced confidence scoring - prefer detection confidence if provided\n            const ocrConfidence = (_j = word.confidence) !== null && _j !== void 0 ? _j : 0.9;\n            const finalConfidence = detectionConfidence !== null && detectionConfidence !== void 0 ? detectionConfidence : (0,_detectors__WEBPACK_IMPORTED_MODULE_4__.calculateConfidence)(kind, text, ocrConfidence);\n            // Apply confidence threshold filter\n            if (opts.confidenceThreshold && finalConfidence < opts.confidenceThreshold) {\n                continue;\n            }\n            detections.push({\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)(),\n                kind: kind,\n                box,\n                confidence: finalConfidence,\n                reason,\n                preview: text\n            });\n        }\n    }\n    // Barcode detection using jsQR.  Draw the image onto a temporary canvas\n    // and scan its pixels.  jsQR returns null if no code is found.\n    try {\n        const canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        const ctx = canvas.getContext('2d');\n        if (ctx) {\n            ctx.drawImage(img, 0, 0, width, height);\n            const imageData = ctx.getImageData(0, 0, width, height);\n            const code = jsqr__WEBPACK_IMPORTED_MODULE_3___default()(imageData.data, imageData.width, imageData.height);\n            if (code && code.location) {\n                // Compute bounding box from corner points\n                const { topLeftCorner, topRightCorner, bottomRightCorner, bottomLeftCorner } = code.location;\n                const xs = [topLeftCorner.x, topRightCorner.x, bottomRightCorner.x, bottomLeftCorner.x];\n                const ys = [topLeftCorner.y, topRightCorner.y, bottomRightCorner.y, bottomLeftCorner.y];\n                const minX = Math.min(...xs);\n                const maxX = Math.max(...xs);\n                const minY = Math.min(...ys);\n                const maxY = Math.max(...ys);\n                const bbox = {\n                    x: minX / width,\n                    y: minY / height,\n                    w: (maxX - minX) / width,\n                    h: (maxY - minY) / height,\n                    page: pageIndex\n                };\n                detections.push({\n                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)(),\n                    kind: 'BARCODE',\n                    box: bbox,\n                    confidence: 1,\n                    reason: 'Detected barcode/QR code',\n                    preview: (_k = code.data) === null || _k === void 0 ? void 0 : _k.slice(0, 64) // show truncated payload\n                });\n            }\n        }\n    }\n    catch (err) {\n        // eslint-disable-next-line no-console\n        console.warn('Barcode detection failed:', err);\n    }\n    return detections;\n}\n/** Analyse a single file (image or PDF) and return detections across all pages. */\n// Import preset utilities at the top level\nasync function analyzeDocument(file, opts = {}) {\n    // Determine the MIME type from the file object if possible\n    const type = file.type || '';\n    const detections = [];\n    let pages = 1;\n    if (type === 'application/pdf') {\n        // Read the PDF into an ArrayBuffer\n        const buffer = await file.arrayBuffer();\n        // Configure worker for pdfjs if running in a browser\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        if (pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.GlobalWorkerOptions && pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.workerSrc === undefined) {\n            // Provide a default worker if none was set.  This requires that\n            // `pdfjs-dist/build/pdf.worker.js` is available in the bundle.\n            try {\n                // eslint-disable-next-line @typescript-eslint/no-var-requires\n                const workerSrc = __webpack_require__(/*! pdfjs-dist/build/pdf.worker.js */ \"pdfjs-dist/build/pdf.worker.js\");\n                pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.GlobalWorkerOptions.workerSrc = workerSrc;\n            }\n            catch (e) {\n                // ignore if require fails – pdfjs will attempt to fallback\n            }\n        }\n        const loadingTask = pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.getDocument({ data: buffer });\n        const pdf = await loadingTask.promise;\n        pages = pdf.numPages;\n        for (let i = 1; i <= pages; i++) {\n            const page = await pdf.getPage(i);\n            const viewport = page.getViewport({ scale: 1.0 });\n            const canvas = document.createElement('canvas');\n            canvas.width = viewport.width;\n            canvas.height = viewport.height;\n            const context = canvas.getContext('2d');\n            if (!context)\n                continue;\n            const renderContext = { canvasContext: context, viewport };\n            await page.render(renderContext).promise;\n            const dataURL = canvas.toDataURL();\n            const pageDetections = await analyzeImageDataURL(dataURL, i - 1, opts);\n            detections.push(...pageDetections);\n        }\n    }\n    else {\n        // Assume image\n        const dataURL = await fileToDataURL(file);\n        const imgDetections = await analyzeImageDataURL(dataURL, 0, opts);\n        detections.push(...imgDetections);\n    }\n    // Filter detections by preset if provided\n    if (opts.presetId) {\n        const preset = (0,_presets__WEBPACK_IMPORTED_MODULE_5__.getPreset)(opts.presetId);\n        if (preset && preset.enabledKinds && preset.enabledKinds.length > 0) {\n            // Remove detections whose kind is not enabled\n            for (let i = detections.length - 1; i >= 0; i--) {\n                if (!preset.enabledKinds.includes(detections[i].kind)) {\n                    detections.splice(i, 1);\n                }\n            }\n        }\n    }\n    return { detections, pages };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQSxhQUFhO0FBQ2IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uLi9jb3JlLWRldGVjdC9kaXN0L3BpcGVsaW5lL2FuYWx5emUuanM/ZDc2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjYWxjdWxhdGVDb25maWRlbmNlLCBkZXRlY3RUb2tlbldpdGhDdXN0b21QYXR0ZXJucyB9IGZyb20gJy4uL2RldGVjdG9ycyc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBUZXNzZXJhY3QgZnJvbSAndGVzc2VyYWN0LmpzJztcbmltcG9ydCAqIGFzIHBkZmpzTGliIGZyb20gJ3BkZmpzLWRpc3QnO1xuLy8gQmFyY29kZSBkZXRlY3Rpb24gbGlicmFyeS4gIGpzUVIgaXMgYSBzbWFsbCBsaWJyYXJ5IHRoYXQgY2FuIHNjYW4gUVIgY29kZXNcbi8vIGFuZCBsaW5lYXIgYmFyY29kZXMgZnJvbSBpbWFnZSBwaXhlbCBkYXRhLiAgSXQgcmV0dXJucyB0aGUgbG9jYXRpb24gb2YgdGhlXG4vLyBkZXRlY3RlZCBjb2RlIGlmIG9uZSBpcyBmb3VuZC4gIFNlZSBodHRwczovL2dpdGh1Yi5jb20vY296bW8vanNRUiBmb3IgZGV0YWlscy5cbmltcG9ydCBqc1FSIGZyb20gJ2pzcXInO1xuLy8gSW1wb3J0IHByZXNldCB1dGlsaXRpZXMgdG8gYWxsb3cgZmlsdGVyaW5nIGRldGVjdGlvbnMgYmFzZWQgb24gZW5hYmxlZCBraW5kc1xuaW1wb3J0IHsgZ2V0UHJlc2V0IH0gZnJvbSAnLi4vcHJlc2V0cyc7XG4vKlxuICogVGhlIGFuYWx5c2UgcGlwZWxpbmUgb3JjaGVzdHJhdGVzIE9DUiBhbmQgdG9rZW4gZGV0ZWN0aW9uIGZvciBib3RoIGltYWdlc1xuICogYW5kIFBERnMuICBJdCB1c2VzIG5hdGl2ZSBPQ1Igd2hlbiBhdmFpbGFibGUgKHZpYSBDYXBhY2l0b3IgcGx1Z2lucykgYW5kXG4gKiBmYWxscyBiYWNrIHRvIFRlc3NlcmFjdC5qcyBydW5uaW5nIGluIHRoZSBicm93c2VyIG9yIGEgd2ViIHdvcmtlci4gIFBERlxuICogcGFnZXMgYXJlIHJlbmRlcmVkIHRvIGNhbnZhc2VzIHZpYSBwZGZqcy1kaXN0LCB0aGVuIHRyZWF0ZWQgbGlrZSBpbWFnZXMuXG4gKi9cbi8qKiBDb252ZXJ0IGEgRmlsZS9CbG9iIHRvIGEgRGF0YSBVUkkuICovXG5hc3luYyBmdW5jdGlvbiBmaWxlVG9EYXRhVVJMKGZpbGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVhZGVyLmVycm9yKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgfSk7XG59XG4vKiogUGVyZm9ybSBPQ1Igb24gYSBkYXRhIFVSTCBhbmQgcmV0dXJuIGRldGVjdGlvbnMuICovXG5hc3luYyBmdW5jdGlvbiBhbmFseXplSW1hZ2VEYXRhVVJMKGRhdGFVUkwsIHBhZ2VJbmRleCA9IDAsIG9wdHMgPSB7fSkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaztcbiAgICAvLyBPcHRpb25hbGx5IHBlcmZvcm0gYSBzaW1wbGUgZG9jdW1lbnQgYXV0b+KAkWNyb3AgYmVmb3JlIHJ1bm5pbmcgT0NSLiAgTWFueVxuICAgIC8vIHNjYW5uZWQgZG9jdW1lbnRzIGNvbnRhaW4gbGFyZ2Ugd2hpdGUgbWFyZ2lucy4gIENyb3BwaW5nIHRvIHRoZVxuICAgIC8vIGJvdW5kaW5nIHJlY3RhbmdsZSBvZiBub27igJF3aGl0ZSBwaXhlbHMgaW1wcm92ZXMgT0NSIGFjY3VyYWN5IGFuZFxuICAgIC8vIHJlZHVjZXMgcHJvY2Vzc2luZyB0aW1lLiAgV2UgZGV0ZWN0IHRoZSBzbWFsbGVzdCByZWN0YW5nbGUgdGhhdFxuICAgIC8vIGNvbnRhaW5zIGFsbCBwaXhlbHMgd2hvc2UgYnJpZ2h0bmVzcyBpcyBiZWxvdyBhIHRocmVzaG9sZC4gIElmIHRoZVxuICAgIC8vIHJlc3VsdGluZyBjcm9wIGNvdmVycyBhbG1vc3QgdGhlIGVudGlyZSBpbWFnZSAoPjk1JSksIHdlIHNraXAgdGhlXG4gICAgLy8gY3JvcCB0byBhdm9pZCBsb3NpbmcgY29udGVudC4gIFRoaXMgaGV1cmlzdGljIGlzIGNoZWFwIHRvIGNvbXB1dGVcbiAgICAvLyBhbmQgZG9lcyBub3QgcmVxdWlyZSBleHRlcm5hbCBkZXBlbmRlbmNpZXMuICBTZWUgZG9jcy9ST0FETUFQLm1kLlxuICAgIGFzeW5jIGZ1bmN0aW9uIGF1dG9Dcm9wKGRhdGFVcmwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBpZiAoIWN0eCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGFVcmwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGltYWdlRGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgIGxldCBtaW5YID0gY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgICAgIGxldCBtYXhYID0gMDtcbiAgICAgICAgICAgICAgICBsZXQgbWluWSA9IGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgbGV0IG1heFkgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFRocmVzaG9sZCB0byBjb25zaWRlciBhIHBpeGVsIGFzIGJhY2tncm91bmQgKHZlcnkgbGlnaHQpXG4gICAgICAgICAgICAgICAgY29uc3QgaXNCZyA9IChyLCBnLCBiKSA9PiByID4gMjMwICYmIGcgPiAyMzAgJiYgYiA+IDIzMDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGNhbnZhcy5oZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGNhbnZhcy53aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHggPSAoeSAqIGNhbnZhcy53aWR0aCArIHgpICogNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBkYXRhW2lkeF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnID0gZGF0YVtpZHggKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGIgPSBkYXRhW2lkeCArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0JnKHIsIGcsIGIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHggPCBtaW5YKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5YID0geDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeCA+IG1heFgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFggPSB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5IDwgbWluWSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluWSA9IHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHkgPiBtYXhZKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhZID0geTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBubyBmb3JlZ3JvdW5kIGZvdW5kLCByZXR1cm4gb3JpZ2luYWxcbiAgICAgICAgICAgICAgICBpZiAobWluWCA+IG1heFggfHwgbWluWSA+IG1heFkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIGJvdW5kcyB3aWR0aC9oZWlnaHRcbiAgICAgICAgICAgICAgICBjb25zdCBidyA9IG1heFggLSBtaW5YO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJoID0gbWF4WSAtIG1pblk7XG4gICAgICAgICAgICAgICAgLy8gSWYgY3JvcCBjb3ZlcnMgYWxtb3N0IGVudGlyZSBpbWFnZSwgc2tpcCBjcm9wcGluZ1xuICAgICAgICAgICAgICAgIGlmIChidyAvIGNhbnZhcy53aWR0aCA+IDAuOTUgJiYgYmggLyBjYW52YXMuaGVpZ2h0ID4gMC45NSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGFVcmwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEV4cGFuZCBjcm9wIGJ5IDUlIG1hcmdpbnMgdG8gYXZvaWQgY3V0dGluZyBjb250ZW50XG4gICAgICAgICAgICAgICAgY29uc3QgbWFyZ2luWCA9IE1hdGguZmxvb3IoYncgKiAwLjA1KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXJnaW5ZID0gTWF0aC5mbG9vcihiaCAqIDAuMDUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNyb3BYID0gTWF0aC5tYXgoMCwgbWluWCAtIG1hcmdpblgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNyb3BZID0gTWF0aC5tYXgoMCwgbWluWSAtIG1hcmdpblkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNyb3BXID0gTWF0aC5taW4oY2FudmFzLndpZHRoIC0gY3JvcFgsIGJ3ICsgbWFyZ2luWCAqIDIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNyb3BIID0gTWF0aC5taW4oY2FudmFzLmhlaWdodCAtIGNyb3BZLCBiaCArIG1hcmdpblkgKiAyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjcm9wcGVkQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgY3JvcHBlZENhbnZhcy53aWR0aCA9IGNyb3BXO1xuICAgICAgICAgICAgICAgIGNyb3BwZWRDYW52YXMuaGVpZ2h0ID0gY3JvcEg7XG4gICAgICAgICAgICAgICAgY29uc3QgY2N0eCA9IGNyb3BwZWRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNjdHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjY3R4LmRyYXdJbWFnZShjYW52YXMsIGNyb3BYLCBjcm9wWSwgY3JvcFcsIGNyb3BILCAwLCAwLCBjcm9wVywgY3JvcEgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoY3JvcHBlZENhbnZhcy50b0RhdGFVUkwoKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiByZXNvbHZlKGRhdGFVcmwpO1xuICAgICAgICAgICAgaW1nLnNyYyA9IGRhdGFVcmw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBSdW4gVGVzc2VyYWN0IG9uIHRoZSBvcmlnaW5hbCBEYXRhIFVSTC4gIENyb3BwaW5nIGlzIGRpc2FibGVkIGJ5XG4gICAgLy8gZGVmYXVsdCBiZWNhdXNlIGFkanVzdGluZyBib3VuZGluZyBib3hlcyBiYWNrIHRvIHRoZSBvcmlnaW5hbFxuICAgIC8vIGNvb3JkaW5hdGVzIGlzIG5vbuKAkXRyaXZpYWwuICBUbyBleHBlcmltZW50IHdpdGggYXV0b+KAkWNyb3AsIGNhbGxcbiAgICAvLyBhdXRvQ3JvcCgpIG9uIGRhdGFVUkwgYW5kIGFkanVzdCBib3VuZGluZyBib3hlcyBhY2NvcmRpbmdseS5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBUZXNzZXJhY3QucmVjb2duaXplKGRhdGFVUkwsICdlbmcnLCB7IGxvZ2dlcjogKCkgPT4geyB9IH0pO1xuICAgIGNvbnN0IHsgd29yZHMgfSA9IHJlc3VsdC5kYXRhO1xuICAgIGNvbnN0IGRldGVjdGlvbnMgPSBbXTtcbiAgICAvLyBEZXRlcm1pbmUgaW1hZ2UgZGltZW5zaW9uc1xuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICBpbWcub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgICAgaW1nLnNyYyA9IGRhdGFVUkw7XG4gICAgfSk7XG4gICAgY29uc3Qgd2lkdGggPSBpbWcud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICBmb3IgKGNvbnN0IHdvcmQgb2Ygd29yZHMpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9ICh3b3JkLnRleHQgfHwgJycpLnRyaW0oKTtcbiAgICAgICAgaWYgKCF0ZXh0KVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gZGV0ZWN0VG9rZW5XaXRoQ3VzdG9tUGF0dGVybnModGV4dCwgb3B0cy5jdXN0b21QYXR0ZXJucyk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgY29uc3QgeyBraW5kLCByZWFzb24sIGNvbmZpZGVuY2U6IGRldGVjdGlvbkNvbmZpZGVuY2UgfSA9IG1hdGNoO1xuICAgICAgICAgICAgY29uc3QgYmJveCA9IHdvcmQuYmJveDtcbiAgICAgICAgICAgIGNvbnN0IHgwID0gKF9iID0gKF9hID0gYmJveC54MCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogYmJveC5sZWZ0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgICAgICAgICAgY29uc3QgeTAgPSAoX2QgPSAoX2MgPSBiYm94LnkwKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBiYm94LnRvcCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogMDtcbiAgICAgICAgICAgIGNvbnN0IHgxID0gKF9mID0gKF9lID0gYmJveC54MSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogYmJveC5yaWdodCkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogMDtcbiAgICAgICAgICAgIGNvbnN0IHkxID0gKF9oID0gKF9nID0gYmJveC55MSkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogYmJveC5ib3R0b20pICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IDA7XG4gICAgICAgICAgICBjb25zdCBib3ggPSB7XG4gICAgICAgICAgICAgICAgeDogeDAgLyB3aWR0aCxcbiAgICAgICAgICAgICAgICB5OiB5MCAvIGhlaWdodCxcbiAgICAgICAgICAgICAgICB3OiAoeDEgLSB4MCkgLyB3aWR0aCxcbiAgICAgICAgICAgICAgICBoOiAoeTEgLSB5MCkgLyBoZWlnaHQsXG4gICAgICAgICAgICAgICAgcGFnZTogcGFnZUluZGV4XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gVXNlIGVuaGFuY2VkIGNvbmZpZGVuY2Ugc2NvcmluZyAtIHByZWZlciBkZXRlY3Rpb24gY29uZmlkZW5jZSBpZiBwcm92aWRlZFxuICAgICAgICAgICAgY29uc3Qgb2NyQ29uZmlkZW5jZSA9IChfaiA9IHdvcmQuY29uZmlkZW5jZSkgIT09IG51bGwgJiYgX2ogIT09IHZvaWQgMCA/IF9qIDogMC45O1xuICAgICAgICAgICAgY29uc3QgZmluYWxDb25maWRlbmNlID0gZGV0ZWN0aW9uQ29uZmlkZW5jZSAhPT0gbnVsbCAmJiBkZXRlY3Rpb25Db25maWRlbmNlICE9PSB2b2lkIDAgPyBkZXRlY3Rpb25Db25maWRlbmNlIDogY2FsY3VsYXRlQ29uZmlkZW5jZShraW5kLCB0ZXh0LCBvY3JDb25maWRlbmNlKTtcbiAgICAgICAgICAgIC8vIEFwcGx5IGNvbmZpZGVuY2UgdGhyZXNob2xkIGZpbHRlclxuICAgICAgICAgICAgaWYgKG9wdHMuY29uZmlkZW5jZVRocmVzaG9sZCAmJiBmaW5hbENvbmZpZGVuY2UgPCBvcHRzLmNvbmZpZGVuY2VUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRldGVjdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgICAgICAgIGtpbmQ6IGtpbmQsXG4gICAgICAgICAgICAgICAgYm94LFxuICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IGZpbmFsQ29uZmlkZW5jZSxcbiAgICAgICAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgICAgICAgcHJldmlldzogdGV4dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQmFyY29kZSBkZXRlY3Rpb24gdXNpbmcganNRUi4gIERyYXcgdGhlIGltYWdlIG9udG8gYSB0ZW1wb3JhcnkgY2FudmFzXG4gICAgLy8gYW5kIHNjYW4gaXRzIHBpeGVscy4gIGpzUVIgcmV0dXJucyBudWxsIGlmIG5vIGNvZGUgaXMgZm91bmQuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKGN0eCkge1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBqc1FSKGltYWdlRGF0YS5kYXRhLCBpbWFnZURhdGEud2lkdGgsIGltYWdlRGF0YS5oZWlnaHQpO1xuICAgICAgICAgICAgaWYgKGNvZGUgJiYgY29kZS5sb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgYm91bmRpbmcgYm94IGZyb20gY29ybmVyIHBvaW50c1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdG9wTGVmdENvcm5lciwgdG9wUmlnaHRDb3JuZXIsIGJvdHRvbVJpZ2h0Q29ybmVyLCBib3R0b21MZWZ0Q29ybmVyIH0gPSBjb2RlLmxvY2F0aW9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IHhzID0gW3RvcExlZnRDb3JuZXIueCwgdG9wUmlnaHRDb3JuZXIueCwgYm90dG9tUmlnaHRDb3JuZXIueCwgYm90dG9tTGVmdENvcm5lci54XTtcbiAgICAgICAgICAgICAgICBjb25zdCB5cyA9IFt0b3BMZWZ0Q29ybmVyLnksIHRvcFJpZ2h0Q29ybmVyLnksIGJvdHRvbVJpZ2h0Q29ybmVyLnksIGJvdHRvbUxlZnRDb3JuZXIueV07XG4gICAgICAgICAgICAgICAgY29uc3QgbWluWCA9IE1hdGgubWluKC4uLnhzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgoLi4ueHMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pblkgPSBNYXRoLm1pbiguLi55cyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4WSA9IE1hdGgubWF4KC4uLnlzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYm94ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBtaW5YIC8gd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHk6IG1pblkgLyBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHc6IChtYXhYIC0gbWluWCkgLyB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaDogKG1heFkgLSBtaW5ZKSAvIGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZUluZGV4XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkZXRlY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdCQVJDT0RFJyxcbiAgICAgICAgICAgICAgICAgICAgYm94OiBiYm94LFxuICAgICAgICAgICAgICAgICAgICBjb25maWRlbmNlOiAxLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdEZXRlY3RlZCBiYXJjb2RlL1FSIGNvZGUnLFxuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3OiAoX2sgPSBjb2RlLmRhdGEpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay5zbGljZSgwLCA2NCkgLy8gc2hvdyB0cnVuY2F0ZWQgcGF5bG9hZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKCdCYXJjb2RlIGRldGVjdGlvbiBmYWlsZWQ6JywgZXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIGRldGVjdGlvbnM7XG59XG4vKiogQW5hbHlzZSBhIHNpbmdsZSBmaWxlIChpbWFnZSBvciBQREYpIGFuZCByZXR1cm4gZGV0ZWN0aW9ucyBhY3Jvc3MgYWxsIHBhZ2VzLiAqL1xuLy8gSW1wb3J0IHByZXNldCB1dGlsaXRpZXMgYXQgdGhlIHRvcCBsZXZlbFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFuYWx5emVEb2N1bWVudChmaWxlLCBvcHRzID0ge30pIHtcbiAgICAvLyBEZXRlcm1pbmUgdGhlIE1JTUUgdHlwZSBmcm9tIHRoZSBmaWxlIG9iamVjdCBpZiBwb3NzaWJsZVxuICAgIGNvbnN0IHR5cGUgPSBmaWxlLnR5cGUgfHwgJyc7XG4gICAgY29uc3QgZGV0ZWN0aW9ucyA9IFtdO1xuICAgIGxldCBwYWdlcyA9IDE7XG4gICAgaWYgKHR5cGUgPT09ICdhcHBsaWNhdGlvbi9wZGYnKSB7XG4gICAgICAgIC8vIFJlYWQgdGhlIFBERiBpbnRvIGFuIEFycmF5QnVmZmVyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgLy8gQ29uZmlndXJlIHdvcmtlciBmb3IgcGRmanMgaWYgcnVubmluZyBpbiBhIGJyb3dzZXJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChwZGZqc0xpYi5HbG9iYWxXb3JrZXJPcHRpb25zICYmIHBkZmpzTGliLndvcmtlclNyYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBQcm92aWRlIGEgZGVmYXVsdCB3b3JrZXIgaWYgbm9uZSB3YXMgc2V0LiAgVGhpcyByZXF1aXJlcyB0aGF0XG4gICAgICAgICAgICAvLyBgcGRmanMtZGlzdC9idWlsZC9wZGYud29ya2VyLmpzYCBpcyBhdmFpbGFibGUgaW4gdGhlIGJ1bmRsZS5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JrZXJTcmMgPSByZXF1aXJlKCdwZGZqcy1kaXN0L2J1aWxkL3BkZi53b3JrZXIuanMnKTtcbiAgICAgICAgICAgICAgICBwZGZqc0xpYi5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IHdvcmtlclNyYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIGlmIHJlcXVpcmUgZmFpbHMg4oCTIHBkZmpzIHdpbGwgYXR0ZW1wdCB0byBmYWxsYmFja1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvYWRpbmdUYXNrID0gcGRmanNMaWIuZ2V0RG9jdW1lbnQoeyBkYXRhOiBidWZmZXIgfSk7XG4gICAgICAgIGNvbnN0IHBkZiA9IGF3YWl0IGxvYWRpbmdUYXNrLnByb21pc2U7XG4gICAgICAgIHBhZ2VzID0gcGRmLm51bVBhZ2VzO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBwYWdlczsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYWdlID0gYXdhaXQgcGRmLmdldFBhZ2UoaSk7XG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHBhZ2UuZ2V0Vmlld3BvcnQoeyBzY2FsZTogMS4wIH0pO1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB2aWV3cG9ydC53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICBpZiAoIWNvbnRleHQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJDb250ZXh0ID0geyBjYW52YXNDb250ZXh0OiBjb250ZXh0LCB2aWV3cG9ydCB9O1xuICAgICAgICAgICAgYXdhaXQgcGFnZS5yZW5kZXIocmVuZGVyQ29udGV4dCkucHJvbWlzZTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKCk7XG4gICAgICAgICAgICBjb25zdCBwYWdlRGV0ZWN0aW9ucyA9IGF3YWl0IGFuYWx5emVJbWFnZURhdGFVUkwoZGF0YVVSTCwgaSAtIDEsIG9wdHMpO1xuICAgICAgICAgICAgZGV0ZWN0aW9ucy5wdXNoKC4uLnBhZ2VEZXRlY3Rpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQXNzdW1lIGltYWdlXG4gICAgICAgIGNvbnN0IGRhdGFVUkwgPSBhd2FpdCBmaWxlVG9EYXRhVVJMKGZpbGUpO1xuICAgICAgICBjb25zdCBpbWdEZXRlY3Rpb25zID0gYXdhaXQgYW5hbHl6ZUltYWdlRGF0YVVSTChkYXRhVVJMLCAwLCBvcHRzKTtcbiAgICAgICAgZGV0ZWN0aW9ucy5wdXNoKC4uLmltZ0RldGVjdGlvbnMpO1xuICAgIH1cbiAgICAvLyBGaWx0ZXIgZGV0ZWN0aW9ucyBieSBwcmVzZXQgaWYgcHJvdmlkZWRcbiAgICBpZiAob3B0cy5wcmVzZXRJZCkge1xuICAgICAgICBjb25zdCBwcmVzZXQgPSBnZXRQcmVzZXQob3B0cy5wcmVzZXRJZCk7XG4gICAgICAgIGlmIChwcmVzZXQgJiYgcHJlc2V0LmVuYWJsZWRLaW5kcyAmJiBwcmVzZXQuZW5hYmxlZEtpbmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBkZXRlY3Rpb25zIHdob3NlIGtpbmQgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBkZXRlY3Rpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcmVzZXQuZW5hYmxlZEtpbmRzLmluY2x1ZGVzKGRldGVjdGlvbnNbaV0ua2luZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0ZWN0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGRldGVjdGlvbnMsIHBhZ2VzIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../core-detect/dist/pipeline/analyze.js\n");

/***/ }),

/***/ "../core-detect/dist/pipeline/apply.js":
/*!*********************************************!*\
  !*** ../core-detect/dist/pipeline/apply.js ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeDocument: () => (/* binding */ analyzeDocument),\n/* harmony export */   applyRedactions: () => (/* binding */ applyRedactions)\n/* harmony export */ });\n/* harmony import */ var _analyze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./analyze */ \"../core-detect/dist/pipeline/analyze.js\");\n/* harmony import */ var pdf_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pdf-lib */ \"../../node_modules/.pnpm/pdf-lib@1.17.1/node_modules/pdf-lib/cjs/index.js\");\n/* harmony import */ var pdf_lib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pdf_lib__WEBPACK_IMPORTED_MODULE_0__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_analyze__WEBPACK_IMPORTED_MODULE_1__]);\n_analyze__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// A module‑scoped variable to store the last analysis result.  applyRedactions()\n// uses this map to resolve detection IDs to bounding boxes.  In a real\n// application you should pass the detections directly to avoid shared\n// mutable state.  This simplified implementation is sufficient for the\n// demonstration.\nlet lastResult = null;\n/** Override the exported analyse function to capture the last result. */\nasync function analyzeDocument(file, opts = {}) {\n    const result = await (0,_analyze__WEBPACK_IMPORTED_MODULE_1__.analyzeDocument)(file, opts);\n    lastResult = result;\n    return result;\n}\n/** Internal helper: convert a canvas to a data URI. */\nfunction canvasToDataURL(canvas, mimeType = 'image/png', quality = 0.92) {\n    return canvas.toDataURL(mimeType, quality);\n}\n/** Internal helper: convert a File/Blob into a HTMLImageElement. */\nasync function fileToImage(file) {\n    const dataURL = await new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = () => reject(reader.error);\n        reader.readAsDataURL(file);\n    });\n    const img = new Image();\n    await new Promise(resolve => {\n        img.onload = () => resolve();\n        img.src = dataURL;\n    });\n    return img;\n}\n/** Apply redactions to an image.  Returns a Data URI. */\nasync function applyRedactionsToImage(file, actions, quality = 0.92, detectionResult) {\n    const img = await fileToImage(file);\n    const canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n    const ctx = canvas.getContext('2d');\n    if (!ctx)\n        throw new Error('Cannot obtain 2D context');\n    // Draw original image\n    ctx.drawImage(img, 0, 0);\n    // Build detection map\n    const map = new Map();\n    const detectionsToUse = detectionResult || lastResult;\n    if (detectionsToUse) {\n        for (const det of detectionsToUse.detections) {\n            map.set(det.id, det);\n        }\n    }\n    // Utility helpers for drawing various redaction styles on images\n    function drawBox(x, y, w, h, config = {}) {\n        var _a;\n        const color = config.color || 'black';\n        const opacity = (_a = config.opacity) !== null && _a !== void 0 ? _a : 1.0;\n        const cornerRadius = config.cornerRadius || 0;\n        ctx.save();\n        ctx.globalAlpha = opacity;\n        ctx.fillStyle = color;\n        if (cornerRadius > 0) {\n            // Draw rounded rectangle\n            ctx.beginPath();\n            ctx.roundRect(x, y, w, h, cornerRadius);\n            ctx.fill();\n        }\n        else {\n            ctx.fillRect(x, y, w, h);\n        }\n        // Add border if specified\n        if (config.borderWidth && config.borderColor) {\n            ctx.lineWidth = config.borderWidth;\n            ctx.strokeStyle = config.borderColor;\n            if (cornerRadius > 0) {\n                ctx.beginPath();\n                ctx.roundRect(x, y, w, h, cornerRadius);\n                ctx.stroke();\n            }\n            else {\n                ctx.strokeRect(x, y, w, h);\n            }\n        }\n        ctx.restore();\n    }\n    // Enhanced solid color redaction with configuration support\n    function drawSolidColor(x, y, w, h, config = {}) {\n        drawBox(x, y, w, h, config);\n    }\n    // Gradient redaction\n    function drawGradient(x, y, w, h, config = {}) {\n        var _a;\n        const color1 = config.color || 'black';\n        const color2 = config.secondaryColor || 'gray';\n        const opacity = (_a = config.opacity) !== null && _a !== void 0 ? _a : 1.0;\n        ctx.save();\n        ctx.globalAlpha = opacity;\n        const gradient = ctx.createLinearGradient(x, y, x + w, y + h);\n        gradient.addColorStop(0, color1);\n        gradient.addColorStop(1, color2);\n        ctx.fillStyle = gradient;\n        if (config.cornerRadius && config.cornerRadius > 0) {\n            ctx.beginPath();\n            ctx.roundRect(x, y, w, h, config.cornerRadius);\n            ctx.fill();\n        }\n        else {\n            ctx.fillRect(x, y, w, h);\n        }\n        ctx.restore();\n    }\n    // Pattern redaction\n    function drawPattern(x, y, w, h, config = {}) {\n        var _a;\n        const color = config.color || 'black';\n        const opacity = (_a = config.opacity) !== null && _a !== void 0 ? _a : 1.0;\n        const patternType = config.patternType || 'diagonal';\n        ctx.save();\n        ctx.globalAlpha = opacity;\n        // Fill background first\n        ctx.fillStyle = config.secondaryColor || '#f0f0f0';\n        ctx.fillRect(x, y, w, h);\n        // Draw pattern\n        ctx.strokeStyle = color;\n        ctx.lineWidth = 2;\n        switch (patternType) {\n            case 'diagonal':\n                for (let i = -h; i < w + h; i += 8) {\n                    ctx.beginPath();\n                    ctx.moveTo(x + i, y);\n                    ctx.lineTo(x + i + h, y + h);\n                    ctx.stroke();\n                }\n                break;\n            case 'dots':\n                const dotSize = 3;\n                const spacing = 8;\n                ctx.fillStyle = color;\n                for (let dx = 0; dx < w; dx += spacing) {\n                    for (let dy = 0; dy < h; dy += spacing) {\n                        ctx.beginPath();\n                        ctx.arc(x + dx + spacing / 2, y + dy + spacing / 2, dotSize / 2, 0, Math.PI * 2);\n                        ctx.fill();\n                    }\n                }\n                break;\n            case 'cross-hatch':\n                // Diagonal lines one way\n                for (let i = -h; i < w + h; i += 6) {\n                    ctx.beginPath();\n                    ctx.moveTo(x + i, y);\n                    ctx.lineTo(x + i + h, y + h);\n                    ctx.stroke();\n                }\n                // Diagonal lines the other way\n                for (let i = 0; i < w + h; i += 6) {\n                    ctx.beginPath();\n                    ctx.moveTo(x + i, y + h);\n                    ctx.lineTo(x + i - h, y);\n                    ctx.stroke();\n                }\n                break;\n            case 'waves':\n                ctx.beginPath();\n                for (let i = 0; i < w; i += 2) {\n                    const wave = Math.sin((i / w) * Math.PI * 4) * (h * 0.2);\n                    if (i === 0) {\n                        ctx.moveTo(x + i, y + h / 2 + wave);\n                    }\n                    else {\n                        ctx.lineTo(x + i, y + h / 2 + wave);\n                    }\n                }\n                ctx.stroke();\n                break;\n            case 'noise':\n                ctx.fillStyle = color;\n                for (let i = 0; i < w * h / 20; i++) {\n                    const nx = x + Math.random() * w;\n                    const ny = y + Math.random() * h;\n                    ctx.beginPath();\n                    ctx.arc(nx, ny, 1, 0, Math.PI * 2);\n                    ctx.fill();\n                }\n                break;\n        }\n        ctx.restore();\n    }\n    // Apply a CSS blur filter to a region by drawing the original image with\n    // the filter enabled only for that region.  Canvas 2D `filter` is\n    // supported in modern browsers.  We temporarily clip the context to\n    // restrict the blur effect to the redaction box.\n    function drawBlur(x, y, w, h) {\n        ctx.save();\n        ctx.filter = 'blur(8px)';\n        ctx.beginPath();\n        ctx.rect(x, y, w, h);\n        ctx.clip();\n        ctx.drawImage(img, 0, 0);\n        ctx.restore();\n    }\n    // Pixelate by drawing the region scaled down and back up.  Choose a\n    // pixel size relative to region size to maintain some obfuscation but\n    // not degrade performance too much.\n    function drawPixelate(x, y, w, h) {\n        const pixelSize = Math.max(4, Math.floor(Math.min(w, h) / 10));\n        // Create a temporary canvas to hold the region scaled down\n        const tempCanvas = document.createElement('canvas');\n        tempCanvas.width = Math.max(1, Math.floor(w / pixelSize));\n        tempCanvas.height = Math.max(1, Math.floor(h / pixelSize));\n        const tctx = tempCanvas.getContext('2d');\n        if (!tctx) {\n            drawBox(x, y, w, h);\n            return;\n        }\n        // Draw the region scaled down onto the temp canvas\n        tctx.drawImage(img, x, y, w, h, 0, 0, tempCanvas.width, tempCanvas.height);\n        // Now draw the scaled up version onto the main canvas to pixelate\n        ctx.imageSmoothingEnabled = false;\n        ctx.drawImage(tempCanvas, 0, 0, tempCanvas.width, tempCanvas.height, x, y, w, h);\n        ctx.imageSmoothingEnabled = true;\n    }\n    // Enhanced label drawing with configuration support\n    function drawLabel(x, y, w, h, text, config = {}) {\n        var _a;\n        ctx.save();\n        const bgColor = config.color || 'black';\n        const textColor = config.secondaryColor || 'white';\n        const opacity = (_a = config.opacity) !== null && _a !== void 0 ? _a : 1.0;\n        const fontSize = config.fontSize || Math.max(10, Math.floor(h * 0.6));\n        const fontFamily = config.fontFamily || 'sans-serif';\n        const cornerRadius = config.cornerRadius || 0;\n        ctx.globalAlpha = opacity;\n        // Draw background with optional rounded corners\n        ctx.fillStyle = bgColor;\n        if (cornerRadius > 0) {\n            ctx.beginPath();\n            ctx.roundRect(x, y, w, h, cornerRadius);\n            ctx.fill();\n        }\n        else {\n            ctx.fillRect(x, y, w, h);\n        }\n        // Add shadow if specified\n        if (config.shadow) {\n            ctx.shadowOffsetX = config.shadow.offsetX;\n            ctx.shadowOffsetY = config.shadow.offsetY;\n            ctx.shadowBlur = config.shadow.blur;\n            ctx.shadowColor = config.shadow.color;\n        }\n        // Draw text\n        ctx.fillStyle = textColor;\n        ctx.font = `${fontSize}px ${fontFamily}`;\n        ctx.textBaseline = 'middle';\n        ctx.textAlign = 'center';\n        // Truncate text if it won't fit\n        let label = text;\n        const maxWidth = w - 8; // More padding for better appearance\n        while (ctx.measureText(label).width > maxWidth && label.length > 1) {\n            label = label.slice(0, -1);\n        }\n        if (label !== text && label.length > 0) {\n            label = label.slice(0, -1) + '…';\n        }\n        ctx.fillText(label, x + w / 2, y + h / 2);\n        ctx.restore();\n    }\n    // Draw a mask that obscures all but the last four characters of the\n    // provided preview text.  The mask uses asterisks for the hidden\n    // portion.  Non‑digit characters are preserved in their positions.\n    function drawMaskLast4(x, y, w, h, preview) {\n        const text = preview || '';\n        // Keep only last 4 alphanumeric characters; replace preceding\n        // characters (letters or digits) with asterisks but preserve spaces and other symbols.\n        let masked = '';\n        let remaining = 4;\n        for (let i = text.length - 1; i >= 0; i--) {\n            const ch = text[i];\n            if (/\\w/.test(ch) && remaining > 0) {\n                masked = ch + masked;\n                remaining--;\n            }\n            else if (/\\w/.test(ch)) {\n                masked = '*' + masked;\n            }\n            else {\n                masked = ch + masked;\n            }\n        }\n        drawLabel(x, y, w, h, masked);\n    }\n    // Draw redactions using the selected style for each action.  If the\n    // style is not recognised, fallback to a solid box.\n    actions.forEach(action => {\n        const det = map.get(action.detectionId);\n        if (!det)\n            return;\n        const { box } = det;\n        const x = box.x * canvas.width;\n        const y = box.y * canvas.height;\n        const w = box.w * canvas.width;\n        const h = box.h * canvas.height;\n        const config = action.config || {};\n        switch (action.style) {\n            case 'BLUR':\n                drawBlur(x, y, w, h);\n                break;\n            case 'PIXELATE':\n                drawPixelate(x, y, w, h);\n                break;\n            case 'LABEL':\n                const labelText = config.labelText || action.labelText || det.kind;\n                drawLabel(x, y, w, h, labelText, config);\n                break;\n            case 'MASK_LAST4':\n                drawMaskLast4(x, y, w, h, det.preview);\n                break;\n            case 'PATTERN':\n                drawPattern(x, y, w, h, config);\n                break;\n            case 'GRADIENT':\n                drawGradient(x, y, w, h, config);\n                break;\n            case 'SOLID_COLOR':\n                drawSolidColor(x, y, w, h, config);\n                break;\n            case 'VECTOR_OVERLAY':\n                // Vector overlay for images - for now, fall back to enhanced box\n                drawBox(x, y, w, h, config);\n                break;\n            case 'REMOVE_METADATA':\n                // Metadata removal is handled by re‑encoding the image; no\n                // drawing needed for this redaction.\n                break;\n            case 'BOX':\n            default:\n                drawBox(x, y, w, h, config);\n        }\n    });\n    // Apply image sanitization options\n    let outputFormat = 'image/jpeg';\n    let outputQuality = quality;\n    // Always re-encode to strip EXIF/metadata by default\n    // The canvas.toDataURL() method automatically strips metadata\n    return canvas.toDataURL(outputFormat, outputQuality);\n}\n/** Enhanced vector-based PDF redaction with advanced styling support */\nasync function applyRedactionsToPdf(file, actions, detectionResult, options = {}) {\n    var _a, _b;\n    const origBytes = await file.arrayBuffer();\n    const origPdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.load(origBytes);\n    const newPdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.create();\n    const detectionMap = new Map();\n    const detectionsToUse = detectionResult || lastResult;\n    if (detectionsToUse) {\n        for (const det of detectionsToUse.detections) {\n            detectionMap.set(det.id, det);\n        }\n    }\n    // Helper function to parse hex color to RGB values for pdf-lib\n    function parseColorToRGB(hexColor) {\n        const hex = hexColor.replace('#', '');\n        const r = parseInt(hex.substring(0, 2), 16) / 255;\n        const g = parseInt(hex.substring(2, 4), 16) / 255;\n        const b = parseInt(hex.substring(4, 6), 16) / 255;\n        return [r, g, b];\n    }\n    // Apply document sanitization if requested\n    if (options.sanitization) {\n        if (options.sanitization.removeMetadata) {\n            // Remove PDF metadata\n            newPdf.setTitle('');\n            newPdf.setAuthor('');\n            newPdf.setSubject('');\n            newPdf.setKeywords([]);\n            newPdf.setProducer('');\n            newPdf.setCreator('');\n            try {\n                newPdf.setCreationDate(new Date(0));\n                newPdf.setModificationDate(new Date(0));\n            }\n            catch (e) {\n                // Some PDF operations might fail, continue with redaction\n                console.warn('Could not set PDF dates:', e);\n            }\n        }\n    }\n    const total = origPdf.getPageCount();\n    for (let i = 0; i < total; i++) {\n        const [copiedPage] = await newPdf.copyPages(origPdf, [i]);\n        const page = newPdf.addPage(copiedPage);\n        const { width, height } = page.getSize();\n        // Remove annotations if requested\n        if ((_a = options.sanitization) === null || _a === void 0 ? void 0 : _a.removeAnnotations) {\n            // Note: pdf-lib doesn't have direct annotation removal API\n            // This would need custom implementation or different library\n        }\n        // Filter actions for this page\n        const pageActions = actions.filter(act => {\n            var _a;\n            const det = detectionMap.get(act.detectionId);\n            return det && ((_a = det.box.page) !== null && _a !== void 0 ? _a : 0) === i;\n        });\n        // Apply vector-based redactions\n        for (const action of pageActions) {\n            const det = detectionMap.get(action.detectionId);\n            if (!det)\n                continue;\n            const { box } = det;\n            const config = action.config || {};\n            const x = box.x * width;\n            // Convert from top-left origin to PDF bottom-left origin\n            const y = (1 - box.y - box.h) * height;\n            const w = box.w * width;\n            const h = box.h * height;\n            // Parse colors\n            const primaryRGB = config.color ? parseColorToRGB(config.color) : [0, 0, 0];\n            const secondaryRGB = config.secondaryColor ? parseColorToRGB(config.secondaryColor) : [1, 1, 1];\n            const opacity = (_b = config.opacity) !== null && _b !== void 0 ? _b : 1.0;\n            switch (action.style) {\n                case 'BOX':\n                case 'SOLID_COLOR':\n                    page.drawRectangle({\n                        x, y, width: w, height: h,\n                        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(primaryRGB[0], primaryRGB[1], primaryRGB[2]),\n                        opacity,\n                        borderColor: config.borderColor ? (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(...parseColorToRGB(config.borderColor)) : undefined,\n                        borderWidth: config.borderWidth || 0\n                    });\n                    break;\n                case 'GRADIENT':\n                    // PDF gradients are complex - use solid color for now\n                    page.drawRectangle({\n                        x, y, width: w, height: h,\n                        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(primaryRGB[0], primaryRGB[1], primaryRGB[2]),\n                        opacity\n                    });\n                    break;\n                case 'PATTERN':\n                    // Draw background\n                    page.drawRectangle({\n                        x, y, width: w, height: h,\n                        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(secondaryRGB[0], secondaryRGB[1], secondaryRGB[2]),\n                        opacity\n                    });\n                    // Add pattern overlay\n                    const patternType = config.patternType || 'diagonal';\n                    const lineColor = (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(primaryRGB[0], primaryRGB[1], primaryRGB[2]);\n                    if (patternType === 'diagonal') {\n                        for (let offset = -h; offset < w + h; offset += 8) {\n                            page.drawLine({\n                                start: { x: x + offset, y: y },\n                                end: { x: x + offset + h, y: y + h },\n                                color: lineColor,\n                                thickness: 2,\n                                opacity\n                            });\n                        }\n                    }\n                    break;\n                case 'VECTOR_OVERLAY':\n                    // Enhanced vector redaction with proper PDF vector operations\n                    page.drawRectangle({\n                        x, y, width: w, height: h,\n                        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(primaryRGB[0], primaryRGB[1], primaryRGB[2]),\n                        opacity,\n                        borderColor: config.borderColor ? (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(...parseColorToRGB(config.borderColor)) : undefined,\n                        borderWidth: config.borderWidth || 0\n                    });\n                    break;\n                case 'LABEL':\n                    // Draw background\n                    page.drawRectangle({\n                        x, y, width: w, height: h,\n                        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(primaryRGB[0], primaryRGB[1], primaryRGB[2]),\n                        opacity\n                    });\n                    // Draw text\n                    const labelText = config.labelText || action.labelText || det.kind;\n                    const fontSize = config.fontSize || Math.max(8, h * 0.6);\n                    const maxChars = Math.floor((w - 8) / (fontSize * 0.6));\n                    let label = labelText;\n                    if (label.length > maxChars) {\n                        label = label.slice(0, maxChars > 3 ? maxChars - 1 : 0) + '…';\n                    }\n                    const estTextWidth = label.length * fontSize * 0.6;\n                    const xOffset = (w - estTextWidth) / 2;\n                    page.drawText(label, {\n                        x: x + Math.max(0, xOffset),\n                        y: y + h / 2 - fontSize / 2,\n                        size: fontSize,\n                        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(secondaryRGB[0], secondaryRGB[1], secondaryRGB[2]),\n                        opacity\n                    });\n                    break;\n                case 'MASK_LAST4':\n                    // Draw background\n                    page.drawRectangle({\n                        x, y, width: w, height: h,\n                        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(primaryRGB[0], primaryRGB[1], primaryRGB[2]),\n                        opacity\n                    });\n                    // Create masked text\n                    const preview = det.preview || '';\n                    let masked = '';\n                    let remaining = 4;\n                    for (let i = preview.length - 1; i >= 0; i--) {\n                        const ch = preview[i];\n                        if (/\\w/.test(ch) && remaining > 0) {\n                            masked = ch + masked;\n                            remaining--;\n                        }\n                        else if (/\\w/.test(ch)) {\n                            masked = '*' + masked;\n                        }\n                        else {\n                            masked = ch + masked;\n                        }\n                    }\n                    const maskFontSize = Math.max(8, h * 0.6);\n                    const maskTextWidth = masked.length * maskFontSize * 0.6;\n                    const maskXOffset = (w - maskTextWidth) / 2;\n                    page.drawText(masked, {\n                        x: x + Math.max(0, maskXOffset),\n                        y: y + h / 2 - maskFontSize / 2,\n                        size: maskFontSize,\n                        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(secondaryRGB[0], secondaryRGB[1], secondaryRGB[2]),\n                        opacity\n                    });\n                    break;\n                default:\n                    // Default to solid rectangle\n                    page.drawRectangle({\n                        x, y, width: w, height: h,\n                        color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(primaryRGB[0], primaryRGB[1], primaryRGB[2]),\n                        opacity: opacity\n                    });\n            }\n        }\n    }\n    const pdfBytes = await newPdf.save();\n    const base64 = typeof Buffer !== 'undefined' ? Buffer.from(pdfBytes).toString('base64') : btoa(String.fromCharCode(...new Uint8Array(pdfBytes)));\n    return `data:application/pdf;base64,${base64}`;\n}\n/**\n * Apply redactions to a file using the previously analysed detections.\n *\n * Note: This implementation relies on `lastResult` set by analyzeDocument().\n * In a real application you should pass the detections explicitly to avoid\n * hidden state.\n */\nasync function applyRedactions(file, actions, opts, detections) {\n    var _a;\n    // If detections are provided directly, create a temporary result object\n    let result = lastResult;\n    if (detections && detections.length > 0) {\n        result = {\n            detections: detections,\n            pages: Math.max(...detections.map(d => { var _a; return (_a = d.box.page) !== null && _a !== void 0 ? _a : 0; })) + 1 || 1\n        };\n    }\n    if (!result) {\n        throw new Error('No analysis result available.  Call analyzeDocument() first.');\n    }\n    const mime = file.type || '';\n    let fileUri;\n    if (mime === 'application/pdf' || opts.output === 'pdf') {\n        fileUri = await applyRedactionsToPdf(file, actions, result, opts);\n    }\n    else {\n        const quality = (_a = opts.quality) !== null && _a !== void 0 ? _a : 0.92;\n        fileUri = await applyRedactionsToImage(file, actions, quality, result);\n    }\n    // Build a simple report summarising redactions\n    const report = {};\n    if (result) {\n        report.totalDetections = result.detections.length;\n        report.redactedCount = actions.length;\n        const counts = {};\n        for (const action of actions) {\n            const det = result.detections.find(d => d.id === action.detectionId);\n            if (det) {\n                counts[det.kind] = (counts[det.kind] || 0) + 1;\n            }\n        }\n        report.byKind = counts;\n    }\n    return { fileUri, report };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYiIsInNvdXJjZXMiOlsid2VicGFjazovL0BjbGVhbnNoYXJlL3VpLy4uL2NvcmUtZGV0ZWN0L2Rpc3QvcGlwZWxpbmUvYXBwbHkuanM/MTM3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhbmFseXplRG9jdW1lbnQgYXMgYW5hbHl6ZSB9IGZyb20gJy4vYW5hbHl6ZSc7XG5pbXBvcnQgeyBQREZEb2N1bWVudCwgcmdiIH0gZnJvbSAncGRmLWxpYic7XG4vLyBBIG1vZHVsZeKAkXNjb3BlZCB2YXJpYWJsZSB0byBzdG9yZSB0aGUgbGFzdCBhbmFseXNpcyByZXN1bHQuICBhcHBseVJlZGFjdGlvbnMoKVxuLy8gdXNlcyB0aGlzIG1hcCB0byByZXNvbHZlIGRldGVjdGlvbiBJRHMgdG8gYm91bmRpbmcgYm94ZXMuICBJbiBhIHJlYWxcbi8vIGFwcGxpY2F0aW9uIHlvdSBzaG91bGQgcGFzcyB0aGUgZGV0ZWN0aW9ucyBkaXJlY3RseSB0byBhdm9pZCBzaGFyZWRcbi8vIG11dGFibGUgc3RhdGUuICBUaGlzIHNpbXBsaWZpZWQgaW1wbGVtZW50YXRpb24gaXMgc3VmZmljaWVudCBmb3IgdGhlXG4vLyBkZW1vbnN0cmF0aW9uLlxubGV0IGxhc3RSZXN1bHQgPSBudWxsO1xuLyoqIE92ZXJyaWRlIHRoZSBleHBvcnRlZCBhbmFseXNlIGZ1bmN0aW9uIHRvIGNhcHR1cmUgdGhlIGxhc3QgcmVzdWx0LiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFuYWx5emVEb2N1bWVudChmaWxlLCBvcHRzID0ge30pIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhbmFseXplKGZpbGUsIG9wdHMpO1xuICAgIGxhc3RSZXN1bHQgPSByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKiBJbnRlcm5hbCBoZWxwZXI6IGNvbnZlcnQgYSBjYW52YXMgdG8gYSBkYXRhIFVSSS4gKi9cbmZ1bmN0aW9uIGNhbnZhc1RvRGF0YVVSTChjYW52YXMsIG1pbWVUeXBlID0gJ2ltYWdlL3BuZycsIHF1YWxpdHkgPSAwLjkyKSB7XG4gICAgcmV0dXJuIGNhbnZhcy50b0RhdGFVUkwobWltZVR5cGUsIHF1YWxpdHkpO1xufVxuLyoqIEludGVybmFsIGhlbHBlcjogY29udmVydCBhIEZpbGUvQmxvYiBpbnRvIGEgSFRNTEltYWdlRWxlbWVudC4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZpbGVUb0ltYWdlKGZpbGUpIHtcbiAgICBjb25zdCBkYXRhVVJMID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVhZGVyLmVycm9yKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgfSk7XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgICAgIGltZy5zcmMgPSBkYXRhVVJMO1xuICAgIH0pO1xuICAgIHJldHVybiBpbWc7XG59XG4vKiogQXBwbHkgcmVkYWN0aW9ucyB0byBhbiBpbWFnZS4gIFJldHVybnMgYSBEYXRhIFVSSS4gKi9cbmFzeW5jIGZ1bmN0aW9uIGFwcGx5UmVkYWN0aW9uc1RvSW1hZ2UoZmlsZSwgYWN0aW9ucywgcXVhbGl0eSA9IDAuOTIsIGRldGVjdGlvblJlc3VsdCkge1xuICAgIGNvbnN0IGltZyA9IGF3YWl0IGZpbGVUb0ltYWdlKGZpbGUpO1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWN0eClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgb2J0YWluIDJEIGNvbnRleHQnKTtcbiAgICAvLyBEcmF3IG9yaWdpbmFsIGltYWdlXG4gICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgIC8vIEJ1aWxkIGRldGVjdGlvbiBtYXBcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgZGV0ZWN0aW9uc1RvVXNlID0gZGV0ZWN0aW9uUmVzdWx0IHx8IGxhc3RSZXN1bHQ7XG4gICAgaWYgKGRldGVjdGlvbnNUb1VzZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGRldCBvZiBkZXRlY3Rpb25zVG9Vc2UuZGV0ZWN0aW9ucykge1xuICAgICAgICAgICAgbWFwLnNldChkZXQuaWQsIGRldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVXRpbGl0eSBoZWxwZXJzIGZvciBkcmF3aW5nIHZhcmlvdXMgcmVkYWN0aW9uIHN0eWxlcyBvbiBpbWFnZXNcbiAgICBmdW5jdGlvbiBkcmF3Qm94KHgsIHksIHcsIGgsIGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBjb25maWcuY29sb3IgfHwgJ2JsYWNrJztcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9IChfYSA9IGNvbmZpZy5vcGFjaXR5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxLjA7XG4gICAgICAgIGNvbnN0IGNvcm5lclJhZGl1cyA9IGNvbmZpZy5jb3JuZXJSYWRpdXMgfHwgMDtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgICBpZiAoY29ybmVyUmFkaXVzID4gMCkge1xuICAgICAgICAgICAgLy8gRHJhdyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LnJvdW5kUmVjdCh4LCB5LCB3LCBoLCBjb3JuZXJSYWRpdXMpO1xuICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh4LCB5LCB3LCBoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgYm9yZGVyIGlmIHNwZWNpZmllZFxuICAgICAgICBpZiAoY29uZmlnLmJvcmRlcldpZHRoICYmIGNvbmZpZy5ib3JkZXJDb2xvcikge1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGNvbmZpZy5ib3JkZXJXaWR0aDtcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbmZpZy5ib3JkZXJDb2xvcjtcbiAgICAgICAgICAgIGlmIChjb3JuZXJSYWRpdXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGN0eC5yb3VuZFJlY3QoeCwgeSwgdywgaCwgY29ybmVyUmFkaXVzKTtcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlUmVjdCh4LCB5LCB3LCBoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgICAvLyBFbmhhbmNlZCBzb2xpZCBjb2xvciByZWRhY3Rpb24gd2l0aCBjb25maWd1cmF0aW9uIHN1cHBvcnRcbiAgICBmdW5jdGlvbiBkcmF3U29saWRDb2xvcih4LCB5LCB3LCBoLCBjb25maWcgPSB7fSkge1xuICAgICAgICBkcmF3Qm94KHgsIHksIHcsIGgsIGNvbmZpZyk7XG4gICAgfVxuICAgIC8vIEdyYWRpZW50IHJlZGFjdGlvblxuICAgIGZ1bmN0aW9uIGRyYXdHcmFkaWVudCh4LCB5LCB3LCBoLCBjb25maWcgPSB7fSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGNvbG9yMSA9IGNvbmZpZy5jb2xvciB8fCAnYmxhY2snO1xuICAgICAgICBjb25zdCBjb2xvcjIgPSBjb25maWcuc2Vjb25kYXJ5Q29sb3IgfHwgJ2dyYXknO1xuICAgICAgICBjb25zdCBvcGFjaXR5ID0gKF9hID0gY29uZmlnLm9wYWNpdHkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEuMDtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgY29uc3QgZ3JhZGllbnQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoeCwgeSwgeCArIHcsIHkgKyBoKTtcbiAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsIGNvbG9yMSk7XG4gICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCBjb2xvcjIpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnQ7XG4gICAgICAgIGlmIChjb25maWcuY29ybmVyUmFkaXVzICYmIGNvbmZpZy5jb3JuZXJSYWRpdXMgPiAwKSB7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgucm91bmRSZWN0KHgsIHksIHcsIGgsIGNvbmZpZy5jb3JuZXJSYWRpdXMpO1xuICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh4LCB5LCB3LCBoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgICAvLyBQYXR0ZXJuIHJlZGFjdGlvblxuICAgIGZ1bmN0aW9uIGRyYXdQYXR0ZXJuKHgsIHksIHcsIGgsIGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY29sb3IgPSBjb25maWcuY29sb3IgfHwgJ2JsYWNrJztcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9IChfYSA9IGNvbmZpZy5vcGFjaXR5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxLjA7XG4gICAgICAgIGNvbnN0IHBhdHRlcm5UeXBlID0gY29uZmlnLnBhdHRlcm5UeXBlIHx8ICdkaWFnb25hbCc7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IG9wYWNpdHk7XG4gICAgICAgIC8vIEZpbGwgYmFja2dyb3VuZCBmaXJzdFxuICAgICAgICBjdHguZmlsbFN0eWxlID0gY29uZmlnLnNlY29uZGFyeUNvbG9yIHx8ICcjZjBmMGYwJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHcsIGgpO1xuICAgICAgICAvLyBEcmF3IHBhdHRlcm5cbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgICBzd2l0Y2ggKHBhdHRlcm5UeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdkaWFnb25hbCc6XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IC1oOyBpIDwgdyArIGg7IGkgKz0gOCkge1xuICAgICAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCArIGksIHkpO1xuICAgICAgICAgICAgICAgICAgICBjdHgubGluZVRvKHggKyBpICsgaCwgeSArIGgpO1xuICAgICAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZG90cyc6XG4gICAgICAgICAgICAgICAgY29uc3QgZG90U2l6ZSA9IDM7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BhY2luZyA9IDg7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGR4ID0gMDsgZHggPCB3OyBkeCArPSBzcGFjaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGR5ID0gMDsgZHkgPCBoOyBkeSArPSBzcGFjaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYXJjKHggKyBkeCArIHNwYWNpbmcgLyAyLCB5ICsgZHkgKyBzcGFjaW5nIC8gMiwgZG90U2l6ZSAvIDIsIDAsIE1hdGguUEkgKiAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjcm9zcy1oYXRjaCc6XG4gICAgICAgICAgICAgICAgLy8gRGlhZ29uYWwgbGluZXMgb25lIHdheVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAtaDsgaSA8IHcgKyBoOyBpICs9IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICBjdHgubW92ZVRvKHggKyBpLCB5KTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmxpbmVUbyh4ICsgaSArIGgsIHkgKyBoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBEaWFnb25hbCBsaW5lcyB0aGUgb3RoZXIgd2F5XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ICsgaDsgaSArPSA2KSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4Lm1vdmVUbyh4ICsgaSwgeSArIGgpO1xuICAgICAgICAgICAgICAgICAgICBjdHgubGluZVRvKHggKyBpIC0gaCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd3YXZlcyc6XG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdzsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdhdmUgPSBNYXRoLnNpbigoaSAvIHcpICogTWF0aC5QSSAqIDQpICogKGggKiAwLjIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4Lm1vdmVUbyh4ICsgaSwgeSArIGggLyAyICsgd2F2ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgubGluZVRvKHggKyBpLCB5ICsgaCAvIDIgKyB3YXZlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdub2lzZSc6XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdyAqIGggLyAyMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG54ID0geCArIE1hdGgucmFuZG9tKCkgKiB3O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBueSA9IHkgKyBNYXRoLnJhbmRvbSgpICogaDtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICBjdHguYXJjKG54LCBueSwgMSwgMCwgTWF0aC5QSSAqIDIpO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgICAvLyBBcHBseSBhIENTUyBibHVyIGZpbHRlciB0byBhIHJlZ2lvbiBieSBkcmF3aW5nIHRoZSBvcmlnaW5hbCBpbWFnZSB3aXRoXG4gICAgLy8gdGhlIGZpbHRlciBlbmFibGVkIG9ubHkgZm9yIHRoYXQgcmVnaW9uLiAgQ2FudmFzIDJEIGBmaWx0ZXJgIGlzXG4gICAgLy8gc3VwcG9ydGVkIGluIG1vZGVybiBicm93c2Vycy4gIFdlIHRlbXBvcmFyaWx5IGNsaXAgdGhlIGNvbnRleHQgdG9cbiAgICAvLyByZXN0cmljdCB0aGUgYmx1ciBlZmZlY3QgdG8gdGhlIHJlZGFjdGlvbiBib3guXG4gICAgZnVuY3Rpb24gZHJhd0JsdXIoeCwgeSwgdywgaCkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguZmlsdGVyID0gJ2JsdXIoOHB4KSc7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnJlY3QoeCwgeSwgdywgaCk7XG4gICAgICAgIGN0eC5jbGlwKCk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgLy8gUGl4ZWxhdGUgYnkgZHJhd2luZyB0aGUgcmVnaW9uIHNjYWxlZCBkb3duIGFuZCBiYWNrIHVwLiAgQ2hvb3NlIGFcbiAgICAvLyBwaXhlbCBzaXplIHJlbGF0aXZlIHRvIHJlZ2lvbiBzaXplIHRvIG1haW50YWluIHNvbWUgb2JmdXNjYXRpb24gYnV0XG4gICAgLy8gbm90IGRlZ3JhZGUgcGVyZm9ybWFuY2UgdG9vIG11Y2guXG4gICAgZnVuY3Rpb24gZHJhd1BpeGVsYXRlKHgsIHksIHcsIGgpIHtcbiAgICAgICAgY29uc3QgcGl4ZWxTaXplID0gTWF0aC5tYXgoNCwgTWF0aC5mbG9vcihNYXRoLm1pbih3LCBoKSAvIDEwKSk7XG4gICAgICAgIC8vIENyZWF0ZSBhIHRlbXBvcmFyeSBjYW52YXMgdG8gaG9sZCB0aGUgcmVnaW9uIHNjYWxlZCBkb3duXG4gICAgICAgIGNvbnN0IHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IodyAvIHBpeGVsU2l6ZSkpO1xuICAgICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IoaCAvIHBpeGVsU2l6ZSkpO1xuICAgICAgICBjb25zdCB0Y3R4ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoIXRjdHgpIHtcbiAgICAgICAgICAgIGRyYXdCb3goeCwgeSwgdywgaCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRHJhdyB0aGUgcmVnaW9uIHNjYWxlZCBkb3duIG9udG8gdGhlIHRlbXAgY2FudmFzXG4gICAgICAgIHRjdHguZHJhd0ltYWdlKGltZywgeCwgeSwgdywgaCwgMCwgMCwgdGVtcENhbnZhcy53aWR0aCwgdGVtcENhbnZhcy5oZWlnaHQpO1xuICAgICAgICAvLyBOb3cgZHJhdyB0aGUgc2NhbGVkIHVwIHZlcnNpb24gb250byB0aGUgbWFpbiBjYW52YXMgdG8gcGl4ZWxhdGVcbiAgICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBjdHguZHJhd0ltYWdlKHRlbXBDYW52YXMsIDAsIDAsIHRlbXBDYW52YXMud2lkdGgsIHRlbXBDYW52YXMuaGVpZ2h0LCB4LCB5LCB3LCBoKTtcbiAgICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIC8vIEVuaGFuY2VkIGxhYmVsIGRyYXdpbmcgd2l0aCBjb25maWd1cmF0aW9uIHN1cHBvcnRcbiAgICBmdW5jdGlvbiBkcmF3TGFiZWwoeCwgeSwgdywgaCwgdGV4dCwgY29uZmlnID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjb25zdCBiZ0NvbG9yID0gY29uZmlnLmNvbG9yIHx8ICdibGFjayc7XG4gICAgICAgIGNvbnN0IHRleHRDb2xvciA9IGNvbmZpZy5zZWNvbmRhcnlDb2xvciB8fCAnd2hpdGUnO1xuICAgICAgICBjb25zdCBvcGFjaXR5ID0gKF9hID0gY29uZmlnLm9wYWNpdHkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDEuMDtcbiAgICAgICAgY29uc3QgZm9udFNpemUgPSBjb25maWcuZm9udFNpemUgfHwgTWF0aC5tYXgoMTAsIE1hdGguZmxvb3IoaCAqIDAuNikpO1xuICAgICAgICBjb25zdCBmb250RmFtaWx5ID0gY29uZmlnLmZvbnRGYW1pbHkgfHwgJ3NhbnMtc2VyaWYnO1xuICAgICAgICBjb25zdCBjb3JuZXJSYWRpdXMgPSBjb25maWcuY29ybmVyUmFkaXVzIHx8IDA7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IG9wYWNpdHk7XG4gICAgICAgIC8vIERyYXcgYmFja2dyb3VuZCB3aXRoIG9wdGlvbmFsIHJvdW5kZWQgY29ybmVyc1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gYmdDb2xvcjtcbiAgICAgICAgaWYgKGNvcm5lclJhZGl1cyA+IDApIHtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5yb3VuZFJlY3QoeCwgeSwgdywgaCwgY29ybmVyUmFkaXVzKTtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoeCwgeSwgdywgaCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHNoYWRvdyBpZiBzcGVjaWZpZWRcbiAgICAgICAgaWYgKGNvbmZpZy5zaGFkb3cpIHtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gY29uZmlnLnNoYWRvdy5vZmZzZXRYO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSBjb25maWcuc2hhZG93Lm9mZnNldFk7XG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IGNvbmZpZy5zaGFkb3cuYmx1cjtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IGNvbmZpZy5zaGFkb3cuY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRHJhdyB0ZXh0XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0ZXh0Q29sb3I7XG4gICAgICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemV9cHggJHtmb250RmFtaWx5fWA7XG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAvLyBUcnVuY2F0ZSB0ZXh0IGlmIGl0IHdvbid0IGZpdFxuICAgICAgICBsZXQgbGFiZWwgPSB0ZXh0O1xuICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHcgLSA4OyAvLyBNb3JlIHBhZGRpbmcgZm9yIGJldHRlciBhcHBlYXJhbmNlXG4gICAgICAgIHdoaWxlIChjdHgubWVhc3VyZVRleHQobGFiZWwpLndpZHRoID4gbWF4V2lkdGggJiYgbGFiZWwubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgbGFiZWwgPSBsYWJlbC5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhYmVsICE9PSB0ZXh0ICYmIGxhYmVsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxhYmVsID0gbGFiZWwuc2xpY2UoMCwgLTEpICsgJ+KApic7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGxUZXh0KGxhYmVsLCB4ICsgdyAvIDIsIHkgKyBoIC8gMik7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuICAgIC8vIERyYXcgYSBtYXNrIHRoYXQgb2JzY3VyZXMgYWxsIGJ1dCB0aGUgbGFzdCBmb3VyIGNoYXJhY3RlcnMgb2YgdGhlXG4gICAgLy8gcHJvdmlkZWQgcHJldmlldyB0ZXh0LiAgVGhlIG1hc2sgdXNlcyBhc3Rlcmlza3MgZm9yIHRoZSBoaWRkZW5cbiAgICAvLyBwb3J0aW9uLiAgTm9u4oCRZGlnaXQgY2hhcmFjdGVycyBhcmUgcHJlc2VydmVkIGluIHRoZWlyIHBvc2l0aW9ucy5cbiAgICBmdW5jdGlvbiBkcmF3TWFza0xhc3Q0KHgsIHksIHcsIGgsIHByZXZpZXcpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IHByZXZpZXcgfHwgJyc7XG4gICAgICAgIC8vIEtlZXAgb25seSBsYXN0IDQgYWxwaGFudW1lcmljIGNoYXJhY3RlcnM7IHJlcGxhY2UgcHJlY2VkaW5nXG4gICAgICAgIC8vIGNoYXJhY3RlcnMgKGxldHRlcnMgb3IgZGlnaXRzKSB3aXRoIGFzdGVyaXNrcyBidXQgcHJlc2VydmUgc3BhY2VzIGFuZCBvdGhlciBzeW1ib2xzLlxuICAgICAgICBsZXQgbWFza2VkID0gJyc7XG4gICAgICAgIGxldCByZW1haW5pbmcgPSA0O1xuICAgICAgICBmb3IgKGxldCBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgY2ggPSB0ZXh0W2ldO1xuICAgICAgICAgICAgaWYgKC9cXHcvLnRlc3QoY2gpICYmIHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICAgICAgICBtYXNrZWQgPSBjaCArIG1hc2tlZDtcbiAgICAgICAgICAgICAgICByZW1haW5pbmctLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKC9cXHcvLnRlc3QoY2gpKSB7XG4gICAgICAgICAgICAgICAgbWFza2VkID0gJyonICsgbWFza2VkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWFza2VkID0gY2ggKyBtYXNrZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZHJhd0xhYmVsKHgsIHksIHcsIGgsIG1hc2tlZCk7XG4gICAgfVxuICAgIC8vIERyYXcgcmVkYWN0aW9ucyB1c2luZyB0aGUgc2VsZWN0ZWQgc3R5bGUgZm9yIGVhY2ggYWN0aW9uLiAgSWYgdGhlXG4gICAgLy8gc3R5bGUgaXMgbm90IHJlY29nbmlzZWQsIGZhbGxiYWNrIHRvIGEgc29saWQgYm94LlxuICAgIGFjdGlvbnMuZm9yRWFjaChhY3Rpb24gPT4ge1xuICAgICAgICBjb25zdCBkZXQgPSBtYXAuZ2V0KGFjdGlvbi5kZXRlY3Rpb25JZCk7XG4gICAgICAgIGlmICghZGV0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IGJveCB9ID0gZGV0O1xuICAgICAgICBjb25zdCB4ID0gYm94LnggKiBjYW52YXMud2lkdGg7XG4gICAgICAgIGNvbnN0IHkgPSBib3gueSAqIGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHcgPSBib3gudyAqIGNhbnZhcy53aWR0aDtcbiAgICAgICAgY29uc3QgaCA9IGJveC5oICogY2FudmFzLmhlaWdodDtcbiAgICAgICAgY29uc3QgY29uZmlnID0gYWN0aW9uLmNvbmZpZyB8fCB7fTtcbiAgICAgICAgc3dpdGNoIChhY3Rpb24uc3R5bGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ0JMVVInOlxuICAgICAgICAgICAgICAgIGRyYXdCbHVyKHgsIHksIHcsIGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUElYRUxBVEUnOlxuICAgICAgICAgICAgICAgIGRyYXdQaXhlbGF0ZSh4LCB5LCB3LCBoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0xBQkVMJzpcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbFRleHQgPSBjb25maWcubGFiZWxUZXh0IHx8IGFjdGlvbi5sYWJlbFRleHQgfHwgZGV0LmtpbmQ7XG4gICAgICAgICAgICAgICAgZHJhd0xhYmVsKHgsIHksIHcsIGgsIGxhYmVsVGV4dCwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ01BU0tfTEFTVDQnOlxuICAgICAgICAgICAgICAgIGRyYXdNYXNrTGFzdDQoeCwgeSwgdywgaCwgZGV0LnByZXZpZXcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUEFUVEVSTic6XG4gICAgICAgICAgICAgICAgZHJhd1BhdHRlcm4oeCwgeSwgdywgaCwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0dSQURJRU5UJzpcbiAgICAgICAgICAgICAgICBkcmF3R3JhZGllbnQoeCwgeSwgdywgaCwgY29uZmlnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1NPTElEX0NPTE9SJzpcbiAgICAgICAgICAgICAgICBkcmF3U29saWRDb2xvcih4LCB5LCB3LCBoLCBjb25maWcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVkVDVE9SX09WRVJMQVknOlxuICAgICAgICAgICAgICAgIC8vIFZlY3RvciBvdmVybGF5IGZvciBpbWFnZXMgLSBmb3Igbm93LCBmYWxsIGJhY2sgdG8gZW5oYW5jZWQgYm94XG4gICAgICAgICAgICAgICAgZHJhd0JveCh4LCB5LCB3LCBoLCBjb25maWcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUkVNT1ZFX01FVEFEQVRBJzpcbiAgICAgICAgICAgICAgICAvLyBNZXRhZGF0YSByZW1vdmFsIGlzIGhhbmRsZWQgYnkgcmXigJFlbmNvZGluZyB0aGUgaW1hZ2U7IG5vXG4gICAgICAgICAgICAgICAgLy8gZHJhd2luZyBuZWVkZWQgZm9yIHRoaXMgcmVkYWN0aW9uLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQk9YJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZHJhd0JveCh4LCB5LCB3LCBoLCBjb25maWcpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gQXBwbHkgaW1hZ2Ugc2FuaXRpemF0aW9uIG9wdGlvbnNcbiAgICBsZXQgb3V0cHV0Rm9ybWF0ID0gJ2ltYWdlL2pwZWcnO1xuICAgIGxldCBvdXRwdXRRdWFsaXR5ID0gcXVhbGl0eTtcbiAgICAvLyBBbHdheXMgcmUtZW5jb2RlIHRvIHN0cmlwIEVYSUYvbWV0YWRhdGEgYnkgZGVmYXVsdFxuICAgIC8vIFRoZSBjYW52YXMudG9EYXRhVVJMKCkgbWV0aG9kIGF1dG9tYXRpY2FsbHkgc3RyaXBzIG1ldGFkYXRhXG4gICAgcmV0dXJuIGNhbnZhcy50b0RhdGFVUkwob3V0cHV0Rm9ybWF0LCBvdXRwdXRRdWFsaXR5KTtcbn1cbi8qKiBFbmhhbmNlZCB2ZWN0b3ItYmFzZWQgUERGIHJlZGFjdGlvbiB3aXRoIGFkdmFuY2VkIHN0eWxpbmcgc3VwcG9ydCAqL1xuYXN5bmMgZnVuY3Rpb24gYXBwbHlSZWRhY3Rpb25zVG9QZGYoZmlsZSwgYWN0aW9ucywgZGV0ZWN0aW9uUmVzdWx0LCBvcHRpb25zID0ge30pIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IG9yaWdCeXRlcyA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcbiAgICBjb25zdCBvcmlnUGRmID0gYXdhaXQgUERGRG9jdW1lbnQubG9hZChvcmlnQnl0ZXMpO1xuICAgIGNvbnN0IG5ld1BkZiA9IGF3YWl0IFBERkRvY3VtZW50LmNyZWF0ZSgpO1xuICAgIGNvbnN0IGRldGVjdGlvbk1hcCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBkZXRlY3Rpb25zVG9Vc2UgPSBkZXRlY3Rpb25SZXN1bHQgfHwgbGFzdFJlc3VsdDtcbiAgICBpZiAoZGV0ZWN0aW9uc1RvVXNlKSB7XG4gICAgICAgIGZvciAoY29uc3QgZGV0IG9mIGRldGVjdGlvbnNUb1VzZS5kZXRlY3Rpb25zKSB7XG4gICAgICAgICAgICBkZXRlY3Rpb25NYXAuc2V0KGRldC5pZCwgZGV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgaGV4IGNvbG9yIHRvIFJHQiB2YWx1ZXMgZm9yIHBkZi1saWJcbiAgICBmdW5jdGlvbiBwYXJzZUNvbG9yVG9SR0IoaGV4Q29sb3IpIHtcbiAgICAgICAgY29uc3QgaGV4ID0gaGV4Q29sb3IucmVwbGFjZSgnIycsICcnKTtcbiAgICAgICAgY29uc3QgciA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMCwgMiksIDE2KSAvIDI1NTtcbiAgICAgICAgY29uc3QgZyA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMiwgNCksIDE2KSAvIDI1NTtcbiAgICAgICAgY29uc3QgYiA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoNCwgNiksIDE2KSAvIDI1NTtcbiAgICAgICAgcmV0dXJuIFtyLCBnLCBiXTtcbiAgICB9XG4gICAgLy8gQXBwbHkgZG9jdW1lbnQgc2FuaXRpemF0aW9uIGlmIHJlcXVlc3RlZFxuICAgIGlmIChvcHRpb25zLnNhbml0aXphdGlvbikge1xuICAgICAgICBpZiAob3B0aW9ucy5zYW5pdGl6YXRpb24ucmVtb3ZlTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBQREYgbWV0YWRhdGFcbiAgICAgICAgICAgIG5ld1BkZi5zZXRUaXRsZSgnJyk7XG4gICAgICAgICAgICBuZXdQZGYuc2V0QXV0aG9yKCcnKTtcbiAgICAgICAgICAgIG5ld1BkZi5zZXRTdWJqZWN0KCcnKTtcbiAgICAgICAgICAgIG5ld1BkZi5zZXRLZXl3b3JkcyhbXSk7XG4gICAgICAgICAgICBuZXdQZGYuc2V0UHJvZHVjZXIoJycpO1xuICAgICAgICAgICAgbmV3UGRmLnNldENyZWF0b3IoJycpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuZXdQZGYuc2V0Q3JlYXRpb25EYXRlKG5ldyBEYXRlKDApKTtcbiAgICAgICAgICAgICAgICBuZXdQZGYuc2V0TW9kaWZpY2F0aW9uRGF0ZShuZXcgRGF0ZSgwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIFNvbWUgUERGIG9wZXJhdGlvbnMgbWlnaHQgZmFpbCwgY29udGludWUgd2l0aCByZWRhY3Rpb25cbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBzZXQgUERGIGRhdGVzOicsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRvdGFsID0gb3JpZ1BkZi5nZXRQYWdlQ291bnQoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgY29uc3QgW2NvcGllZFBhZ2VdID0gYXdhaXQgbmV3UGRmLmNvcHlQYWdlcyhvcmlnUGRmLCBbaV0pO1xuICAgICAgICBjb25zdCBwYWdlID0gbmV3UGRmLmFkZFBhZ2UoY29waWVkUGFnZSk7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gcGFnZS5nZXRTaXplKCk7XG4gICAgICAgIC8vIFJlbW92ZSBhbm5vdGF0aW9ucyBpZiByZXF1ZXN0ZWRcbiAgICAgICAgaWYgKChfYSA9IG9wdGlvbnMuc2FuaXRpemF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlQW5ub3RhdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIE5vdGU6IHBkZi1saWIgZG9lc24ndCBoYXZlIGRpcmVjdCBhbm5vdGF0aW9uIHJlbW92YWwgQVBJXG4gICAgICAgICAgICAvLyBUaGlzIHdvdWxkIG5lZWQgY3VzdG9tIGltcGxlbWVudGF0aW9uIG9yIGRpZmZlcmVudCBsaWJyYXJ5XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmlsdGVyIGFjdGlvbnMgZm9yIHRoaXMgcGFnZVxuICAgICAgICBjb25zdCBwYWdlQWN0aW9ucyA9IGFjdGlvbnMuZmlsdGVyKGFjdCA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBkZXQgPSBkZXRlY3Rpb25NYXAuZ2V0KGFjdC5kZXRlY3Rpb25JZCk7XG4gICAgICAgICAgICByZXR1cm4gZGV0ICYmICgoX2EgPSBkZXQuYm94LnBhZ2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDApID09PSBpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQXBwbHkgdmVjdG9yLWJhc2VkIHJlZGFjdGlvbnNcbiAgICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgcGFnZUFjdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRldCA9IGRldGVjdGlvbk1hcC5nZXQoYWN0aW9uLmRldGVjdGlvbklkKTtcbiAgICAgICAgICAgIGlmICghZGV0KVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgeyBib3ggfSA9IGRldDtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGFjdGlvbi5jb25maWcgfHwge307XG4gICAgICAgICAgICBjb25zdCB4ID0gYm94LnggKiB3aWR0aDtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgZnJvbSB0b3AtbGVmdCBvcmlnaW4gdG8gUERGIGJvdHRvbS1sZWZ0IG9yaWdpblxuICAgICAgICAgICAgY29uc3QgeSA9ICgxIC0gYm94LnkgLSBib3guaCkgKiBoZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCB3ID0gYm94LncgKiB3aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGggPSBib3guaCAqIGhlaWdodDtcbiAgICAgICAgICAgIC8vIFBhcnNlIGNvbG9yc1xuICAgICAgICAgICAgY29uc3QgcHJpbWFyeVJHQiA9IGNvbmZpZy5jb2xvciA/IHBhcnNlQ29sb3JUb1JHQihjb25maWcuY29sb3IpIDogWzAsIDAsIDBdO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kYXJ5UkdCID0gY29uZmlnLnNlY29uZGFyeUNvbG9yID8gcGFyc2VDb2xvclRvUkdCKGNvbmZpZy5zZWNvbmRhcnlDb2xvcikgOiBbMSwgMSwgMV07XG4gICAgICAgICAgICBjb25zdCBvcGFjaXR5ID0gKF9iID0gY29uZmlnLm9wYWNpdHkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDEuMDtcbiAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uLnN0eWxlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnQk9YJzpcbiAgICAgICAgICAgICAgICBjYXNlICdTT0xJRF9DT0xPUic6XG4gICAgICAgICAgICAgICAgICAgIHBhZ2UuZHJhd1JlY3RhbmdsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB4LCB5LCB3aWR0aDogdywgaGVpZ2h0OiBoLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJnYihwcmltYXJ5UkdCWzBdLCBwcmltYXJ5UkdCWzFdLCBwcmltYXJ5UkdCWzJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogY29uZmlnLmJvcmRlckNvbG9yID8gcmdiKC4uLnBhcnNlQ29sb3JUb1JHQihjb25maWcuYm9yZGVyQ29sb3IpKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiBjb25maWcuYm9yZGVyV2lkdGggfHwgMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnR1JBRElFTlQnOlxuICAgICAgICAgICAgICAgICAgICAvLyBQREYgZ3JhZGllbnRzIGFyZSBjb21wbGV4IC0gdXNlIHNvbGlkIGNvbG9yIGZvciBub3dcbiAgICAgICAgICAgICAgICAgICAgcGFnZS5kcmF3UmVjdGFuZ2xlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgsIHksIHdpZHRoOiB3LCBoZWlnaHQ6IGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmdiKHByaW1hcnlSR0JbMF0sIHByaW1hcnlSR0JbMV0sIHByaW1hcnlSR0JbMl0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnUEFUVEVSTic6XG4gICAgICAgICAgICAgICAgICAgIC8vIERyYXcgYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICBwYWdlLmRyYXdSZWN0YW5nbGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgeCwgeSwgd2lkdGg6IHcsIGhlaWdodDogaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZ2Ioc2Vjb25kYXJ5UkdCWzBdLCBzZWNvbmRhcnlSR0JbMV0sIHNlY29uZGFyeVJHQlsyXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgcGF0dGVybiBvdmVybGF5XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5UeXBlID0gY29uZmlnLnBhdHRlcm5UeXBlIHx8ICdkaWFnb25hbCc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVDb2xvciA9IHJnYihwcmltYXJ5UkdCWzBdLCBwcmltYXJ5UkdCWzFdLCBwcmltYXJ5UkdCWzJdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm5UeXBlID09PSAnZGlhZ29uYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBvZmZzZXQgPSAtaDsgb2Zmc2V0IDwgdyArIGg7IG9mZnNldCArPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZS5kcmF3TGluZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB7IHg6IHggKyBvZmZzZXQsIHk6IHkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiB7IHg6IHggKyBvZmZzZXQgKyBoLCB5OiB5ICsgaCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogbGluZUNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlja25lc3M6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdWRUNUT1JfT1ZFUkxBWSc6XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuaGFuY2VkIHZlY3RvciByZWRhY3Rpb24gd2l0aCBwcm9wZXIgUERGIHZlY3RvciBvcGVyYXRpb25zXG4gICAgICAgICAgICAgICAgICAgIHBhZ2UuZHJhd1JlY3RhbmdsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB4LCB5LCB3aWR0aDogdywgaGVpZ2h0OiBoLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJnYihwcmltYXJ5UkdCWzBdLCBwcmltYXJ5UkdCWzFdLCBwcmltYXJ5UkdCWzJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogY29uZmlnLmJvcmRlckNvbG9yID8gcmdiKC4uLnBhcnNlQ29sb3JUb1JHQihjb25maWcuYm9yZGVyQ29sb3IpKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiBjb25maWcuYm9yZGVyV2lkdGggfHwgMFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnTEFCRUwnOlxuICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IGJhY2tncm91bmRcbiAgICAgICAgICAgICAgICAgICAgcGFnZS5kcmF3UmVjdGFuZ2xlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgsIHksIHdpZHRoOiB3LCBoZWlnaHQ6IGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmdiKHByaW1hcnlSR0JbMF0sIHByaW1hcnlSR0JbMV0sIHByaW1hcnlSR0JbMl0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRHJhdyB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhYmVsVGV4dCA9IGNvbmZpZy5sYWJlbFRleHQgfHwgYWN0aW9uLmxhYmVsVGV4dCB8fCBkZXQua2luZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9udFNpemUgPSBjb25maWcuZm9udFNpemUgfHwgTWF0aC5tYXgoOCwgaCAqIDAuNik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heENoYXJzID0gTWF0aC5mbG9vcigodyAtIDgpIC8gKGZvbnRTaXplICogMC42KSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYWJlbCA9IGxhYmVsVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhYmVsLmxlbmd0aCA+IG1heENoYXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGxhYmVsLnNsaWNlKDAsIG1heENoYXJzID4gMyA/IG1heENoYXJzIC0gMSA6IDApICsgJ+KApic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXN0VGV4dFdpZHRoID0gbGFiZWwubGVuZ3RoICogZm9udFNpemUgKiAwLjY7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHhPZmZzZXQgPSAodyAtIGVzdFRleHRXaWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICBwYWdlLmRyYXdUZXh0KGxhYmVsLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiB4ICsgTWF0aC5tYXgoMCwgeE9mZnNldCksXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiB5ICsgaCAvIDIgLSBmb250U2l6ZSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBmb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZ2Ioc2Vjb25kYXJ5UkdCWzBdLCBzZWNvbmRhcnlSR0JbMV0sIHNlY29uZGFyeVJHQlsyXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdNQVNLX0xBU1Q0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gRHJhdyBiYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgIHBhZ2UuZHJhd1JlY3RhbmdsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB4LCB5LCB3aWR0aDogdywgaGVpZ2h0OiBoLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHJnYihwcmltYXJ5UkdCWzBdLCBwcmltYXJ5UkdCWzFdLCBwcmltYXJ5UkdCWzJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBtYXNrZWQgdGV4dFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3ID0gZGV0LnByZXZpZXcgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXNrZWQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbWFpbmluZyA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwcmV2aWV3Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaCA9IHByZXZpZXdbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL1xcdy8udGVzdChjaCkgJiYgcmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tlZCA9IGNoICsgbWFza2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZy0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoL1xcdy8udGVzdChjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrZWQgPSAnKicgKyBtYXNrZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrZWQgPSBjaCArIG1hc2tlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXNrRm9udFNpemUgPSBNYXRoLm1heCg4LCBoICogMC42KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFza1RleHRXaWR0aCA9IG1hc2tlZC5sZW5ndGggKiBtYXNrRm9udFNpemUgKiAwLjY7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hc2tYT2Zmc2V0ID0gKHcgLSBtYXNrVGV4dFdpZHRoKSAvIDI7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2UuZHJhd1RleHQobWFza2VkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiB4ICsgTWF0aC5tYXgoMCwgbWFza1hPZmZzZXQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogeSArIGggLyAyIC0gbWFza0ZvbnRTaXplIC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IG1hc2tGb250U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZ2Ioc2Vjb25kYXJ5UkdCWzBdLCBzZWNvbmRhcnlSR0JbMV0sIHNlY29uZGFyeVJHQlsyXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAvLyBEZWZhdWx0IHRvIHNvbGlkIHJlY3RhbmdsZVxuICAgICAgICAgICAgICAgICAgICBwYWdlLmRyYXdSZWN0YW5nbGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgeCwgeSwgd2lkdGg6IHcsIGhlaWdodDogaCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiByZ2IocHJpbWFyeVJHQlswXSwgcHJpbWFyeVJHQlsxXSwgcHJpbWFyeVJHQlsyXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcGFjaXR5XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHBkZkJ5dGVzID0gYXdhaXQgbmV3UGRmLnNhdmUoKTtcbiAgICBjb25zdCBiYXNlNjQgPSB0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJyA/IEJ1ZmZlci5mcm9tKHBkZkJ5dGVzKS50b1N0cmluZygnYmFzZTY0JykgOiBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUoLi4ubmV3IFVpbnQ4QXJyYXkocGRmQnl0ZXMpKSk7XG4gICAgcmV0dXJuIGBkYXRhOmFwcGxpY2F0aW9uL3BkZjtiYXNlNjQsJHtiYXNlNjR9YDtcbn1cbi8qKlxuICogQXBwbHkgcmVkYWN0aW9ucyB0byBhIGZpbGUgdXNpbmcgdGhlIHByZXZpb3VzbHkgYW5hbHlzZWQgZGV0ZWN0aW9ucy5cbiAqXG4gKiBOb3RlOiBUaGlzIGltcGxlbWVudGF0aW9uIHJlbGllcyBvbiBgbGFzdFJlc3VsdGAgc2V0IGJ5IGFuYWx5emVEb2N1bWVudCgpLlxuICogSW4gYSByZWFsIGFwcGxpY2F0aW9uIHlvdSBzaG91bGQgcGFzcyB0aGUgZGV0ZWN0aW9ucyBleHBsaWNpdGx5IHRvIGF2b2lkXG4gKiBoaWRkZW4gc3RhdGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHBseVJlZGFjdGlvbnMoZmlsZSwgYWN0aW9ucywgb3B0cywgZGV0ZWN0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICAvLyBJZiBkZXRlY3Rpb25zIGFyZSBwcm92aWRlZCBkaXJlY3RseSwgY3JlYXRlIGEgdGVtcG9yYXJ5IHJlc3VsdCBvYmplY3RcbiAgICBsZXQgcmVzdWx0ID0gbGFzdFJlc3VsdDtcbiAgICBpZiAoZGV0ZWN0aW9ucyAmJiBkZXRlY3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgZGV0ZWN0aW9uczogZGV0ZWN0aW9ucyxcbiAgICAgICAgICAgIHBhZ2VzOiBNYXRoLm1heCguLi5kZXRlY3Rpb25zLm1hcChkID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gZC5ib3gucGFnZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMDsgfSkpICsgMSB8fCAxXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYW5hbHlzaXMgcmVzdWx0IGF2YWlsYWJsZS4gIENhbGwgYW5hbHl6ZURvY3VtZW50KCkgZmlyc3QuJyk7XG4gICAgfVxuICAgIGNvbnN0IG1pbWUgPSBmaWxlLnR5cGUgfHwgJyc7XG4gICAgbGV0IGZpbGVVcmk7XG4gICAgaWYgKG1pbWUgPT09ICdhcHBsaWNhdGlvbi9wZGYnIHx8IG9wdHMub3V0cHV0ID09PSAncGRmJykge1xuICAgICAgICBmaWxlVXJpID0gYXdhaXQgYXBwbHlSZWRhY3Rpb25zVG9QZGYoZmlsZSwgYWN0aW9ucywgcmVzdWx0LCBvcHRzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHF1YWxpdHkgPSAoX2EgPSBvcHRzLnF1YWxpdHkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDAuOTI7XG4gICAgICAgIGZpbGVVcmkgPSBhd2FpdCBhcHBseVJlZGFjdGlvbnNUb0ltYWdlKGZpbGUsIGFjdGlvbnMsIHF1YWxpdHksIHJlc3VsdCk7XG4gICAgfVxuICAgIC8vIEJ1aWxkIGEgc2ltcGxlIHJlcG9ydCBzdW1tYXJpc2luZyByZWRhY3Rpb25zXG4gICAgY29uc3QgcmVwb3J0ID0ge307XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgICByZXBvcnQudG90YWxEZXRlY3Rpb25zID0gcmVzdWx0LmRldGVjdGlvbnMubGVuZ3RoO1xuICAgICAgICByZXBvcnQucmVkYWN0ZWRDb3VudCA9IGFjdGlvbnMubGVuZ3RoO1xuICAgICAgICBjb25zdCBjb3VudHMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgZGV0ID0gcmVzdWx0LmRldGVjdGlvbnMuZmluZChkID0+IGQuaWQgPT09IGFjdGlvbi5kZXRlY3Rpb25JZCk7XG4gICAgICAgICAgICBpZiAoZGV0KSB7XG4gICAgICAgICAgICAgICAgY291bnRzW2RldC5raW5kXSA9IChjb3VudHNbZGV0LmtpbmRdIHx8IDApICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXBvcnQuYnlLaW5kID0gY291bnRzO1xuICAgIH1cbiAgICByZXR1cm4geyBmaWxlVXJpLCByZXBvcnQgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../core-detect/dist/pipeline/apply.js\n");

/***/ }),

/***/ "../core-detect/dist/presets.js":
/*!**************************************!*\
  !*** ../core-detect/dist/presets.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PRESETS: () => (/* binding */ PRESETS),\n/* harmony export */   createPreset: () => (/* binding */ createPreset),\n/* harmony export */   deletePreset: () => (/* binding */ deletePreset),\n/* harmony export */   duplicatePreset: () => (/* binding */ duplicatePreset),\n/* harmony export */   exportAllUserPresets: () => (/* binding */ exportAllUserPresets),\n/* harmony export */   exportPreset: () => (/* binding */ exportPreset),\n/* harmony export */   getPreset: () => (/* binding */ getPreset),\n/* harmony export */   importMultiplePresets: () => (/* binding */ importMultiplePresets),\n/* harmony export */   importPreset: () => (/* binding */ importPreset),\n/* harmony export */   listBuiltinPresets: () => (/* binding */ listBuiltinPresets),\n/* harmony export */   listPresets: () => (/* binding */ listPresets),\n/* harmony export */   listPresetsByDomain: () => (/* binding */ listPresetsByDomain),\n/* harmony export */   listUserPresets: () => (/* binding */ listUserPresets),\n/* harmony export */   resetUserPresets: () => (/* binding */ resetUserPresets),\n/* harmony export */   savePreset: () => (/* binding */ savePreset),\n/* harmony export */   validatePreset: () => (/* binding */ validatePreset)\n/* harmony export */ });\n// Predefined presets.  These can be customised by the user at runtime via the UI.\nconst PRESETS = [\n    {\n        id: 'developer',\n        name: 'Developer Secrets',\n        description: 'Detects technical secrets like API keys, tokens, and database credentials',\n        domain: 'Technology',\n        enabledKinds: ['EMAIL', 'PHONE', 'PAN', 'JWT', 'API_KEY', 'IBAN', 'SSN', 'PASSPORT'],\n        styleMap: {\n            'JWT': 'BOX',\n            'API_KEY': 'BOX',\n            'EMAIL': 'BLUR',\n            'PHONE': 'PIXELATE'\n        },\n        defaultRedactionConfig: {\n            color: '#ff0000',\n            opacity: 0.8\n        },\n        confidenceThreshold: 0.7,\n        customRegex: [],\n        version: '1.0.0'\n    },\n    {\n        id: 'work',\n        name: 'Work Screenshot',\n        description: 'Professional document sanitization for workplace sharing',\n        domain: 'General',\n        enabledKinds: ['EMAIL', 'PHONE', 'PAN', 'JWT', 'API_KEY', 'NAME', 'ADDRESS', 'PASSPORT'],\n        styleMap: {\n            'NAME': 'LABEL',\n            'EMAIL': 'BLUR',\n            'PHONE': 'MASK_LAST4',\n            'ADDRESS': 'BOX'\n        },\n        defaultRedactionConfig: {\n            color: '#000000',\n            opacity: 1.0,\n            labelText: '[REDACTED]'\n        },\n        confidenceThreshold: 0.6,\n        customRegex: [],\n        version: '1.0.0'\n    },\n    {\n        id: 'all',\n        name: 'All Detectors',\n        description: 'Maximum security - detects all types of sensitive information',\n        domain: 'General',\n        enabledKinds: ['FACE', 'EMAIL', 'PHONE', 'PAN', 'IBAN', 'SSN', 'PASSPORT', 'JWT', 'API_KEY', 'BARCODE', 'NAME', 'ADDRESS', 'OTHER'],\n        styleMap: {},\n        defaultRedactionConfig: {\n            color: '#000000',\n            opacity: 0.9\n        },\n        confidenceThreshold: 0.5,\n        customRegex: [],\n        version: '1.0.0'\n    },\n    // Domain-specific preset templates\n    {\n        id: 'healthcare',\n        name: 'Healthcare (HIPAA)',\n        description: 'HIPAA-compliant sanitization for medical documents and communications',\n        domain: 'Healthcare',\n        enabledKinds: ['NAME', 'SSN', 'PHONE', 'EMAIL', 'ADDRESS', 'OTHER'],\n        styleMap: {\n            'SSN': 'BOX',\n            'NAME': 'LABEL',\n            'PHONE': 'MASK_LAST4',\n            'EMAIL': 'BLUR',\n            'ADDRESS': 'BOX'\n        },\n        customPatterns: [\n            {\n                id: 'mrn',\n                name: 'Medical Record Number',\n                pattern: '\\\\b(MRN|Medical Record|Patient ID)\\\\s*:?\\\\s*([A-Z0-9]{6,12})\\\\b',\n                kind: 'OTHER',\n                confidence: 0.9,\n                description: 'Medical record numbers and patient identifiers',\n                caseSensitive: false\n            },\n            {\n                id: 'dob',\n                name: 'Date of Birth',\n                pattern: '\\\\b(DOB|Date of Birth|Born)\\\\s*:?\\\\s*(\\\\d{1,2}[/-]\\\\d{1,2}[/-]\\\\d{2,4})\\\\b',\n                kind: 'OTHER',\n                confidence: 0.8,\n                description: 'Date of birth patterns',\n                caseSensitive: false\n            }\n        ],\n        defaultRedactionConfig: {\n            color: '#000000',\n            opacity: 1.0,\n            labelText: '[PHI REDACTED]'\n        },\n        confidenceThreshold: 0.8,\n        version: '1.0.0'\n    },\n    {\n        id: 'finance',\n        name: 'Financial Services',\n        description: 'Financial document sanitization including PCI DSS compliance',\n        domain: 'Finance',\n        enabledKinds: ['PAN', 'IBAN', 'SSN', 'NAME', 'PHONE', 'EMAIL', 'ADDRESS'],\n        styleMap: {\n            'PAN': 'MASK_LAST4',\n            'IBAN': 'MASK_LAST4',\n            'SSN': 'BOX',\n            'NAME': 'LABEL',\n            'PHONE': 'PIXELATE',\n            'EMAIL': 'BLUR'\n        },\n        customPatterns: [\n            {\n                id: 'account_number',\n                name: 'Account Number',\n                pattern: '\\\\b(Account|Acct)\\\\s*#?:?\\\\s*([0-9]{8,16})\\\\b',\n                kind: 'PAN',\n                confidence: 0.85,\n                description: 'Bank account numbers',\n                caseSensitive: false\n            },\n            {\n                id: 'routing_number',\n                name: 'Routing Number',\n                pattern: '\\\\b(Routing|ABA)\\\\s*#?:?\\\\s*([0-9]{9})\\\\b',\n                kind: 'OTHER',\n                confidence: 0.9,\n                description: 'Bank routing numbers',\n                caseSensitive: false\n            }\n        ],\n        defaultRedactionConfig: {\n            color: '#000000',\n            opacity: 0.95,\n            labelText: '[FINANCIAL INFO]'\n        },\n        confidenceThreshold: 0.75,\n        version: '1.0.0'\n    },\n    {\n        id: 'legal',\n        name: 'Legal Documents',\n        description: 'Attorney-client privilege and legal document sanitization',\n        domain: 'Legal',\n        enabledKinds: ['NAME', 'SSN', 'PHONE', 'EMAIL', 'ADDRESS', 'OTHER'],\n        styleMap: {\n            'NAME': 'LABEL',\n            'SSN': 'BOX',\n            'PHONE': 'BLUR',\n            'EMAIL': 'BLUR',\n            'ADDRESS': 'LABEL'\n        },\n        customPatterns: [\n            {\n                id: 'case_number',\n                name: 'Case Number',\n                pattern: '\\\\b(Case|Cause|Docket)\\\\s*(No\\\\.?|Number|#)\\\\s*:?\\\\s*([A-Z0-9-]{6,20})\\\\b',\n                kind: 'OTHER',\n                confidence: 0.9,\n                description: 'Legal case and docket numbers',\n                caseSensitive: false\n            },\n            {\n                id: 'bar_number',\n                name: 'Bar Number',\n                pattern: '\\\\b(Bar|Attorney)\\\\s*(No\\\\.?|Number|#)\\\\s*:?\\\\s*([A-Z0-9]{5,12})\\\\b',\n                kind: 'OTHER',\n                confidence: 0.85,\n                description: 'Attorney bar numbers',\n                caseSensitive: false\n            }\n        ],\n        defaultRedactionConfig: {\n            color: '#000000',\n            opacity: 1.0,\n            labelText: '[CONFIDENTIAL]'\n        },\n        confidenceThreshold: 0.7,\n        version: '1.0.0'\n    }\n];\n// Local storage key for user presets\nconst USER_PRESETS_KEY = 'cleanshare_user_presets';\n// Load user presets from localStorage on startup\nlet userPresets = [];\ntry {\n    if (typeof localStorage !== 'undefined') {\n        const stored = localStorage.getItem(USER_PRESETS_KEY);\n        if (stored) {\n            userPresets = JSON.parse(stored);\n        }\n    }\n}\ncatch (error) {\n    console.warn('Failed to load user presets from localStorage:', error);\n}\n/** Return all registered presets (built-in + user-created). */\nfunction listPresets() {\n    return [...PRESETS, ...userPresets];\n}\n/** Return only built-in presets. */\nfunction listBuiltinPresets() {\n    return PRESETS.slice();\n}\n/** Return only user-created presets. */\nfunction listUserPresets() {\n    return userPresets.slice();\n}\n/** Return presets filtered by domain. */\nfunction listPresetsByDomain(domain) {\n    return listPresets().filter(p => p.domain === domain);\n}\n/** Lookup a preset by its ID. */\nfunction getPreset(id) {\n    return listPresets().find(p => p.id === id);\n}\n/** Generate a unique preset ID */\nfunction generatePresetId() {\n    return `preset_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n}\n/** Save user presets to localStorage */\nfunction saveUserPresetsToStorage() {\n    try {\n        if (typeof localStorage !== 'undefined') {\n            localStorage.setItem(USER_PRESETS_KEY, JSON.stringify(userPresets));\n        }\n    }\n    catch (error) {\n        console.warn('Failed to save user presets to localStorage:', error);\n    }\n}\n/** Save or update a preset.  If the ID exists, it will be replaced; otherwise it is added. */\nfunction savePreset(preset) {\n    // Ensure preset has required metadata\n    const now = new Date().toISOString();\n    const enhancedPreset = {\n        ...preset,\n        id: preset.id || generatePresetId(),\n        isUserCreated: true,\n        updatedAt: now,\n        createdAt: preset.createdAt || now,\n        version: preset.version || '1.0.0'\n    };\n    // Check if it's a built-in preset\n    const builtinIndex = PRESETS.findIndex(p => p.id === enhancedPreset.id);\n    if (builtinIndex >= 0) {\n        // Don't allow overwriting built-in presets, create a copy instead\n        enhancedPreset.id = generatePresetId();\n        enhancedPreset.name = `${enhancedPreset.name} (Custom)`;\n    }\n    // Save to user presets\n    const userIndex = userPresets.findIndex(p => p.id === enhancedPreset.id);\n    if (userIndex >= 0) {\n        userPresets[userIndex] = enhancedPreset;\n    }\n    else {\n        userPresets.push(enhancedPreset);\n    }\n    saveUserPresetsToStorage();\n}\n/** Create a new preset from scratch */\nfunction createPreset(name, options = {}) {\n    const preset = {\n        id: generatePresetId(),\n        name,\n        description: options.description || '',\n        domain: options.domain || 'General',\n        enabledKinds: options.enabledKinds || [],\n        styleMap: options.styleMap || {},\n        customRegex: options.customRegex || [],\n        customPatterns: options.customPatterns || [],\n        defaultRedactionConfig: options.defaultRedactionConfig || {\n            color: '#000000',\n            opacity: 0.9\n        },\n        confidenceThreshold: options.confidenceThreshold || 0.6,\n        isUserCreated: true,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString(),\n        version: '1.0.0'\n    };\n    savePreset(preset);\n    return preset;\n}\n/** Duplicate an existing preset */\nfunction duplicatePreset(id, newName) {\n    const original = getPreset(id);\n    if (!original)\n        return undefined;\n    const preset = {\n        ...original,\n        id: generatePresetId(),\n        name: newName || `${original.name} (Copy)`,\n        isUserCreated: true,\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n    };\n    savePreset(preset);\n    return preset;\n}\n/** Delete a preset by its ID.  Built-in presets cannot be deleted. */\nfunction deletePreset(id) {\n    // Don't allow deleting built-in presets\n    const isBuiltin = PRESETS.some(p => p.id === id);\n    if (isBuiltin)\n        return false;\n    const index = userPresets.findIndex(p => p.id === id);\n    if (index >= 0) {\n        userPresets.splice(index, 1);\n        saveUserPresetsToStorage();\n        return true;\n    }\n    return false;\n}\n/** Validate a preset object */\nfunction validatePreset(preset) {\n    const errors = [];\n    const warnings = [];\n    // Required fields\n    if (!preset.id || typeof preset.id !== 'string') {\n        errors.push('Preset must have a valid ID');\n    }\n    if (!preset.name || typeof preset.name !== 'string') {\n        errors.push('Preset must have a valid name');\n    }\n    if (!Array.isArray(preset.enabledKinds)) {\n        errors.push('Preset must have an enabledKinds array');\n    }\n    // Validate detection kinds\n    const validKinds = ['FACE', 'EMAIL', 'PHONE', 'PAN', 'IBAN', 'SSN', 'PASSPORT', 'JWT', 'API_KEY', 'BARCODE', 'NAME', 'ADDRESS', 'OTHER'];\n    if (preset.enabledKinds) {\n        const invalidKinds = preset.enabledKinds.filter((kind) => !validKinds.includes(kind));\n        if (invalidKinds.length > 0) {\n            warnings.push(`Unknown detection kinds: ${invalidKinds.join(', ')}`);\n        }\n    }\n    // Validate custom patterns\n    if (preset.customPatterns && Array.isArray(preset.customPatterns)) {\n        preset.customPatterns.forEach((pattern, index) => {\n            if (!pattern.id || !pattern.name || !pattern.pattern) {\n                errors.push(`Custom pattern ${index + 1} is missing required fields (id, name, pattern)`);\n            }\n            if (pattern.pattern) {\n                try {\n                    new RegExp(pattern.pattern);\n                }\n                catch (error) {\n                    errors.push(`Custom pattern ${index + 1} has invalid regex: ${pattern.pattern}`);\n                }\n            }\n        });\n    }\n    // Validate confidence threshold\n    if (preset.confidenceThreshold !== undefined) {\n        if (typeof preset.confidenceThreshold !== 'number' || preset.confidenceThreshold < 0 || preset.confidenceThreshold > 1) {\n            warnings.push('Confidence threshold should be a number between 0 and 1');\n        }\n    }\n    return {\n        success: errors.length === 0,\n        preset: errors.length === 0 ? preset : undefined,\n        errors,\n        warnings\n    };\n}\n/** Import a preset from JSON */\nfunction importPreset(json) {\n    try {\n        const data = JSON.parse(json);\n        const validation = validatePreset(data);\n        if (validation.success && validation.preset) {\n            // Check for ID conflicts and generate new ID if needed\n            const existingPreset = getPreset(validation.preset.id);\n            if (existingPreset) {\n                validation.preset.id = generatePresetId();\n                validation.preset.name = `${validation.preset.name} (Imported)`;\n                validation.warnings.push('Preset ID already exists, generated new ID');\n            }\n            // Mark as user-created and update timestamps\n            validation.preset.isUserCreated = true;\n            validation.preset.createdAt = new Date().toISOString();\n            validation.preset.updatedAt = new Date().toISOString();\n            savePreset(validation.preset);\n        }\n        return validation;\n    }\n    catch (error) {\n        return {\n            success: false,\n            errors: [`Invalid JSON: ${error instanceof Error ? error.message : 'Unknown error'}`],\n            warnings: []\n        };\n    }\n}\n/** Export a preset to JSON */\nfunction exportPreset(id, options = {}) {\n    const preset = getPreset(id);\n    if (!preset)\n        return null;\n    const exportData = { ...preset };\n    // Remove metadata if requested\n    if (!options.includeMetadata) {\n        delete exportData.createdAt;\n        delete exportData.updatedAt;\n        delete exportData.isUserCreated;\n    }\n    if (options.format === 'compact') {\n        return JSON.stringify(exportData);\n    }\n    else {\n        return JSON.stringify(exportData, null, 2);\n    }\n}\n/** Export all user presets */\nfunction exportAllUserPresets(options = {}) {\n    const presets = listUserPresets();\n    const exportData = presets.map(preset => {\n        const data = { ...preset };\n        if (!options.includeMetadata) {\n            delete data.createdAt;\n            delete data.updatedAt;\n            delete data.isUserCreated;\n        }\n        return data;\n    });\n    if (options.format === 'compact') {\n        return JSON.stringify(exportData);\n    }\n    else {\n        return JSON.stringify(exportData, null, 2);\n    }\n}\n/** Import multiple presets from JSON array */\nfunction importMultiplePresets(json) {\n    try {\n        const data = JSON.parse(json);\n        if (!Array.isArray(data)) {\n            return [{\n                    success: false,\n                    errors: ['Expected JSON array of presets'],\n                    warnings: []\n                }];\n        }\n        return data.map(presetData => importPreset(JSON.stringify(presetData)));\n    }\n    catch (error) {\n        return [{\n                success: false,\n                errors: [`Invalid JSON: ${error instanceof Error ? error.message : 'Unknown error'}`],\n                warnings: []\n            }];\n    }\n}\n/** Reset all user presets (clear localStorage) */\nfunction resetUserPresets() {\n    userPresets = [];\n    saveUserPresetsToStorage();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMseURBQXlEO0FBQ25HO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNsZWFuc2hhcmUvdWkvLi4vY29yZS1kZXRlY3QvZGlzdC9wcmVzZXRzLmpzPzIyODIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gUHJlZGVmaW5lZCBwcmVzZXRzLiAgVGhlc2UgY2FuIGJlIGN1c3RvbWlzZWQgYnkgdGhlIHVzZXIgYXQgcnVudGltZSB2aWEgdGhlIFVJLlxuZXhwb3J0IGNvbnN0IFBSRVNFVFMgPSBbXG4gICAge1xuICAgICAgICBpZDogJ2RldmVsb3BlcicsXG4gICAgICAgIG5hbWU6ICdEZXZlbG9wZXIgU2VjcmV0cycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRGV0ZWN0cyB0ZWNobmljYWwgc2VjcmV0cyBsaWtlIEFQSSBrZXlzLCB0b2tlbnMsIGFuZCBkYXRhYmFzZSBjcmVkZW50aWFscycsXG4gICAgICAgIGRvbWFpbjogJ1RlY2hub2xvZ3knLFxuICAgICAgICBlbmFibGVkS2luZHM6IFsnRU1BSUwnLCAnUEhPTkUnLCAnUEFOJywgJ0pXVCcsICdBUElfS0VZJywgJ0lCQU4nLCAnU1NOJywgJ1BBU1NQT1JUJ10sXG4gICAgICAgIHN0eWxlTWFwOiB7XG4gICAgICAgICAgICAnSldUJzogJ0JPWCcsXG4gICAgICAgICAgICAnQVBJX0tFWSc6ICdCT1gnLFxuICAgICAgICAgICAgJ0VNQUlMJzogJ0JMVVInLFxuICAgICAgICAgICAgJ1BIT05FJzogJ1BJWEVMQVRFJ1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0UmVkYWN0aW9uQ29uZmlnOiB7XG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDAnLFxuICAgICAgICAgICAgb3BhY2l0eTogMC44XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZGVuY2VUaHJlc2hvbGQ6IDAuNyxcbiAgICAgICAgY3VzdG9tUmVnZXg6IFtdLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkOiAnd29yaycsXG4gICAgICAgIG5hbWU6ICdXb3JrIFNjcmVlbnNob3QnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Byb2Zlc3Npb25hbCBkb2N1bWVudCBzYW5pdGl6YXRpb24gZm9yIHdvcmtwbGFjZSBzaGFyaW5nJyxcbiAgICAgICAgZG9tYWluOiAnR2VuZXJhbCcsXG4gICAgICAgIGVuYWJsZWRLaW5kczogWydFTUFJTCcsICdQSE9ORScsICdQQU4nLCAnSldUJywgJ0FQSV9LRVknLCAnTkFNRScsICdBRERSRVNTJywgJ1BBU1NQT1JUJ10sXG4gICAgICAgIHN0eWxlTWFwOiB7XG4gICAgICAgICAgICAnTkFNRSc6ICdMQUJFTCcsXG4gICAgICAgICAgICAnRU1BSUwnOiAnQkxVUicsXG4gICAgICAgICAgICAnUEhPTkUnOiAnTUFTS19MQVNUNCcsXG4gICAgICAgICAgICAnQUREUkVTUyc6ICdCT1gnXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRSZWRhY3Rpb25Db25maWc6IHtcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICBvcGFjaXR5OiAxLjAsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdbUkVEQUNURURdJ1xuICAgICAgICB9LFxuICAgICAgICBjb25maWRlbmNlVGhyZXNob2xkOiAwLjYsXG4gICAgICAgIGN1c3RvbVJlZ2V4OiBbXSxcbiAgICAgICAgdmVyc2lvbjogJzEuMC4wJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogJ2FsbCcsXG4gICAgICAgIG5hbWU6ICdBbGwgRGV0ZWN0b3JzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdNYXhpbXVtIHNlY3VyaXR5IC0gZGV0ZWN0cyBhbGwgdHlwZXMgb2Ygc2Vuc2l0aXZlIGluZm9ybWF0aW9uJyxcbiAgICAgICAgZG9tYWluOiAnR2VuZXJhbCcsXG4gICAgICAgIGVuYWJsZWRLaW5kczogWydGQUNFJywgJ0VNQUlMJywgJ1BIT05FJywgJ1BBTicsICdJQkFOJywgJ1NTTicsICdQQVNTUE9SVCcsICdKV1QnLCAnQVBJX0tFWScsICdCQVJDT0RFJywgJ05BTUUnLCAnQUREUkVTUycsICdPVEhFUiddLFxuICAgICAgICBzdHlsZU1hcDoge30sXG4gICAgICAgIGRlZmF1bHRSZWRhY3Rpb25Db25maWc6IHtcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjlcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlkZW5jZVRocmVzaG9sZDogMC41LFxuICAgICAgICBjdXN0b21SZWdleDogW10sXG4gICAgICAgIHZlcnNpb246ICcxLjAuMCdcbiAgICB9LFxuICAgIC8vIERvbWFpbi1zcGVjaWZpYyBwcmVzZXQgdGVtcGxhdGVzXG4gICAge1xuICAgICAgICBpZDogJ2hlYWx0aGNhcmUnLFxuICAgICAgICBuYW1lOiAnSGVhbHRoY2FyZSAoSElQQUEpJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdISVBBQS1jb21wbGlhbnQgc2FuaXRpemF0aW9uIGZvciBtZWRpY2FsIGRvY3VtZW50cyBhbmQgY29tbXVuaWNhdGlvbnMnLFxuICAgICAgICBkb21haW46ICdIZWFsdGhjYXJlJyxcbiAgICAgICAgZW5hYmxlZEtpbmRzOiBbJ05BTUUnLCAnU1NOJywgJ1BIT05FJywgJ0VNQUlMJywgJ0FERFJFU1MnLCAnT1RIRVInXSxcbiAgICAgICAgc3R5bGVNYXA6IHtcbiAgICAgICAgICAgICdTU04nOiAnQk9YJyxcbiAgICAgICAgICAgICdOQU1FJzogJ0xBQkVMJyxcbiAgICAgICAgICAgICdQSE9ORSc6ICdNQVNLX0xBU1Q0JyxcbiAgICAgICAgICAgICdFTUFJTCc6ICdCTFVSJyxcbiAgICAgICAgICAgICdBRERSRVNTJzogJ0JPWCdcbiAgICAgICAgfSxcbiAgICAgICAgY3VzdG9tUGF0dGVybnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ21ybicsXG4gICAgICAgICAgICAgICAgbmFtZTogJ01lZGljYWwgUmVjb3JkIE51bWJlcicsXG4gICAgICAgICAgICAgICAgcGF0dGVybjogJ1xcXFxiKE1STnxNZWRpY2FsIFJlY29yZHxQYXRpZW50IElEKVxcXFxzKjo/XFxcXHMqKFtBLVowLTldezYsMTJ9KVxcXFxiJyxcbiAgICAgICAgICAgICAgICBraW5kOiAnT1RIRVInLFxuICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ01lZGljYWwgcmVjb3JkIG51bWJlcnMgYW5kIHBhdGllbnQgaWRlbnRpZmllcnMnLFxuICAgICAgICAgICAgICAgIGNhc2VTZW5zaXRpdmU6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkOiAnZG9iJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnRGF0ZSBvZiBCaXJ0aCcsXG4gICAgICAgICAgICAgICAgcGF0dGVybjogJ1xcXFxiKERPQnxEYXRlIG9mIEJpcnRofEJvcm4pXFxcXHMqOj9cXFxccyooXFxcXGR7MSwyfVsvLV1cXFxcZHsxLDJ9Wy8tXVxcXFxkezIsNH0pXFxcXGInLFxuICAgICAgICAgICAgICAgIGtpbmQ6ICdPVEhFUicsXG4gICAgICAgICAgICAgICAgY29uZmlkZW5jZTogMC44LFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGF0ZSBvZiBiaXJ0aCBwYXR0ZXJucycsXG4gICAgICAgICAgICAgICAgY2FzZVNlbnNpdGl2ZTogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgZGVmYXVsdFJlZGFjdGlvbkNvbmZpZzoge1xuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDEuMCxcbiAgICAgICAgICAgIGxhYmVsVGV4dDogJ1tQSEkgUkVEQUNURURdJ1xuICAgICAgICB9LFxuICAgICAgICBjb25maWRlbmNlVGhyZXNob2xkOiAwLjgsXG4gICAgICAgIHZlcnNpb246ICcxLjAuMCdcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6ICdmaW5hbmNlJyxcbiAgICAgICAgbmFtZTogJ0ZpbmFuY2lhbCBTZXJ2aWNlcycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnRmluYW5jaWFsIGRvY3VtZW50IHNhbml0aXphdGlvbiBpbmNsdWRpbmcgUENJIERTUyBjb21wbGlhbmNlJyxcbiAgICAgICAgZG9tYWluOiAnRmluYW5jZScsXG4gICAgICAgIGVuYWJsZWRLaW5kczogWydQQU4nLCAnSUJBTicsICdTU04nLCAnTkFNRScsICdQSE9ORScsICdFTUFJTCcsICdBRERSRVNTJ10sXG4gICAgICAgIHN0eWxlTWFwOiB7XG4gICAgICAgICAgICAnUEFOJzogJ01BU0tfTEFTVDQnLFxuICAgICAgICAgICAgJ0lCQU4nOiAnTUFTS19MQVNUNCcsXG4gICAgICAgICAgICAnU1NOJzogJ0JPWCcsXG4gICAgICAgICAgICAnTkFNRSc6ICdMQUJFTCcsXG4gICAgICAgICAgICAnUEhPTkUnOiAnUElYRUxBVEUnLFxuICAgICAgICAgICAgJ0VNQUlMJzogJ0JMVVInXG4gICAgICAgIH0sXG4gICAgICAgIGN1c3RvbVBhdHRlcm5zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICdhY2NvdW50X251bWJlcicsXG4gICAgICAgICAgICAgICAgbmFtZTogJ0FjY291bnQgTnVtYmVyJyxcbiAgICAgICAgICAgICAgICBwYXR0ZXJuOiAnXFxcXGIoQWNjb3VudHxBY2N0KVxcXFxzKiM/Oj9cXFxccyooWzAtOV17OCwxNn0pXFxcXGInLFxuICAgICAgICAgICAgICAgIGtpbmQ6ICdQQU4nLFxuICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IDAuODUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdCYW5rIGFjY291bnQgbnVtYmVycycsXG4gICAgICAgICAgICAgICAgY2FzZVNlbnNpdGl2ZTogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICdyb3V0aW5nX251bWJlcicsXG4gICAgICAgICAgICAgICAgbmFtZTogJ1JvdXRpbmcgTnVtYmVyJyxcbiAgICAgICAgICAgICAgICBwYXR0ZXJuOiAnXFxcXGIoUm91dGluZ3xBQkEpXFxcXHMqIz86P1xcXFxzKihbMC05XXs5fSlcXFxcYicsXG4gICAgICAgICAgICAgICAga2luZDogJ09USEVSJyxcbiAgICAgICAgICAgICAgICBjb25maWRlbmNlOiAwLjksXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdCYW5rIHJvdXRpbmcgbnVtYmVycycsXG4gICAgICAgICAgICAgICAgY2FzZVNlbnNpdGl2ZTogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgZGVmYXVsdFJlZGFjdGlvbkNvbmZpZzoge1xuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuOTUsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdbRklOQU5DSUFMIElORk9dJ1xuICAgICAgICB9LFxuICAgICAgICBjb25maWRlbmNlVGhyZXNob2xkOiAwLjc1LFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlkOiAnbGVnYWwnLFxuICAgICAgICBuYW1lOiAnTGVnYWwgRG9jdW1lbnRzJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdBdHRvcm5leS1jbGllbnQgcHJpdmlsZWdlIGFuZCBsZWdhbCBkb2N1bWVudCBzYW5pdGl6YXRpb24nLFxuICAgICAgICBkb21haW46ICdMZWdhbCcsXG4gICAgICAgIGVuYWJsZWRLaW5kczogWydOQU1FJywgJ1NTTicsICdQSE9ORScsICdFTUFJTCcsICdBRERSRVNTJywgJ09USEVSJ10sXG4gICAgICAgIHN0eWxlTWFwOiB7XG4gICAgICAgICAgICAnTkFNRSc6ICdMQUJFTCcsXG4gICAgICAgICAgICAnU1NOJzogJ0JPWCcsXG4gICAgICAgICAgICAnUEhPTkUnOiAnQkxVUicsXG4gICAgICAgICAgICAnRU1BSUwnOiAnQkxVUicsXG4gICAgICAgICAgICAnQUREUkVTUyc6ICdMQUJFTCdcbiAgICAgICAgfSxcbiAgICAgICAgY3VzdG9tUGF0dGVybnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ2Nhc2VfbnVtYmVyJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnQ2FzZSBOdW1iZXInLFxuICAgICAgICAgICAgICAgIHBhdHRlcm46ICdcXFxcYihDYXNlfENhdXNlfERvY2tldClcXFxccyooTm9cXFxcLj98TnVtYmVyfCMpXFxcXHMqOj9cXFxccyooW0EtWjAtOS1dezYsMjB9KVxcXFxiJyxcbiAgICAgICAgICAgICAgICBraW5kOiAnT1RIRVInLFxuICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0xlZ2FsIGNhc2UgYW5kIGRvY2tldCBudW1iZXJzJyxcbiAgICAgICAgICAgICAgICBjYXNlU2Vuc2l0aXZlOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ2Jhcl9udW1iZXInLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdCYXIgTnVtYmVyJyxcbiAgICAgICAgICAgICAgICBwYXR0ZXJuOiAnXFxcXGIoQmFyfEF0dG9ybmV5KVxcXFxzKihOb1xcXFwuP3xOdW1iZXJ8IylcXFxccyo6P1xcXFxzKihbQS1aMC05XXs1LDEyfSlcXFxcYicsXG4gICAgICAgICAgICAgICAga2luZDogJ09USEVSJyxcbiAgICAgICAgICAgICAgICBjb25maWRlbmNlOiAwLjg1LFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQXR0b3JuZXkgYmFyIG51bWJlcnMnLFxuICAgICAgICAgICAgICAgIGNhc2VTZW5zaXRpdmU6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIGRlZmF1bHRSZWRhY3Rpb25Db25maWc6IHtcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICBvcGFjaXR5OiAxLjAsXG4gICAgICAgICAgICBsYWJlbFRleHQ6ICdbQ09ORklERU5USUFMXSdcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlkZW5jZVRocmVzaG9sZDogMC43LFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnXG4gICAgfVxuXTtcbi8vIExvY2FsIHN0b3JhZ2Uga2V5IGZvciB1c2VyIHByZXNldHNcbmNvbnN0IFVTRVJfUFJFU0VUU19LRVkgPSAnY2xlYW5zaGFyZV91c2VyX3ByZXNldHMnO1xuLy8gTG9hZCB1c2VyIHByZXNldHMgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gc3RhcnR1cFxubGV0IHVzZXJQcmVzZXRzID0gW107XG50cnkge1xuICAgIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShVU0VSX1BSRVNFVFNfS0VZKTtcbiAgICAgICAgaWYgKHN0b3JlZCkge1xuICAgICAgICAgICAgdXNlclByZXNldHMgPSBKU09OLnBhcnNlKHN0b3JlZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsb2FkIHVzZXIgcHJlc2V0cyBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG59XG4vKiogUmV0dXJuIGFsbCByZWdpc3RlcmVkIHByZXNldHMgKGJ1aWx0LWluICsgdXNlci1jcmVhdGVkKS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0UHJlc2V0cygpIHtcbiAgICByZXR1cm4gWy4uLlBSRVNFVFMsIC4uLnVzZXJQcmVzZXRzXTtcbn1cbi8qKiBSZXR1cm4gb25seSBidWlsdC1pbiBwcmVzZXRzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RCdWlsdGluUHJlc2V0cygpIHtcbiAgICByZXR1cm4gUFJFU0VUUy5zbGljZSgpO1xufVxuLyoqIFJldHVybiBvbmx5IHVzZXItY3JlYXRlZCBwcmVzZXRzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxpc3RVc2VyUHJlc2V0cygpIHtcbiAgICByZXR1cm4gdXNlclByZXNldHMuc2xpY2UoKTtcbn1cbi8qKiBSZXR1cm4gcHJlc2V0cyBmaWx0ZXJlZCBieSBkb21haW4uICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdFByZXNldHNCeURvbWFpbihkb21haW4pIHtcbiAgICByZXR1cm4gbGlzdFByZXNldHMoKS5maWx0ZXIocCA9PiBwLmRvbWFpbiA9PT0gZG9tYWluKTtcbn1cbi8qKiBMb29rdXAgYSBwcmVzZXQgYnkgaXRzIElELiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFByZXNldChpZCkge1xuICAgIHJldHVybiBsaXN0UHJlc2V0cygpLmZpbmQocCA9PiBwLmlkID09PSBpZCk7XG59XG4vKiogR2VuZXJhdGUgYSB1bmlxdWUgcHJlc2V0IElEICovXG5mdW5jdGlvbiBnZW5lcmF0ZVByZXNldElkKCkge1xuICAgIHJldHVybiBgcHJlc2V0XyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbn1cbi8qKiBTYXZlIHVzZXIgcHJlc2V0cyB0byBsb2NhbFN0b3JhZ2UgKi9cbmZ1bmN0aW9uIHNhdmVVc2VyUHJlc2V0c1RvU3RvcmFnZSgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFVTRVJfUFJFU0VUU19LRVksIEpTT04uc3RyaW5naWZ5KHVzZXJQcmVzZXRzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNhdmUgdXNlciBwcmVzZXRzIHRvIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgfVxufVxuLyoqIFNhdmUgb3IgdXBkYXRlIGEgcHJlc2V0LiAgSWYgdGhlIElEIGV4aXN0cywgaXQgd2lsbCBiZSByZXBsYWNlZDsgb3RoZXJ3aXNlIGl0IGlzIGFkZGVkLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhdmVQcmVzZXQocHJlc2V0KSB7XG4gICAgLy8gRW5zdXJlIHByZXNldCBoYXMgcmVxdWlyZWQgbWV0YWRhdGFcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgY29uc3QgZW5oYW5jZWRQcmVzZXQgPSB7XG4gICAgICAgIC4uLnByZXNldCxcbiAgICAgICAgaWQ6IHByZXNldC5pZCB8fCBnZW5lcmF0ZVByZXNldElkKCksXG4gICAgICAgIGlzVXNlckNyZWF0ZWQ6IHRydWUsXG4gICAgICAgIHVwZGF0ZWRBdDogbm93LFxuICAgICAgICBjcmVhdGVkQXQ6IHByZXNldC5jcmVhdGVkQXQgfHwgbm93LFxuICAgICAgICB2ZXJzaW9uOiBwcmVzZXQudmVyc2lvbiB8fCAnMS4wLjAnXG4gICAgfTtcbiAgICAvLyBDaGVjayBpZiBpdCdzIGEgYnVpbHQtaW4gcHJlc2V0XG4gICAgY29uc3QgYnVpbHRpbkluZGV4ID0gUFJFU0VUUy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBlbmhhbmNlZFByZXNldC5pZCk7XG4gICAgaWYgKGJ1aWx0aW5JbmRleCA+PSAwKSB7XG4gICAgICAgIC8vIERvbid0IGFsbG93IG92ZXJ3cml0aW5nIGJ1aWx0LWluIHByZXNldHMsIGNyZWF0ZSBhIGNvcHkgaW5zdGVhZFxuICAgICAgICBlbmhhbmNlZFByZXNldC5pZCA9IGdlbmVyYXRlUHJlc2V0SWQoKTtcbiAgICAgICAgZW5oYW5jZWRQcmVzZXQubmFtZSA9IGAke2VuaGFuY2VkUHJlc2V0Lm5hbWV9IChDdXN0b20pYDtcbiAgICB9XG4gICAgLy8gU2F2ZSB0byB1c2VyIHByZXNldHNcbiAgICBjb25zdCB1c2VySW5kZXggPSB1c2VyUHJlc2V0cy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBlbmhhbmNlZFByZXNldC5pZCk7XG4gICAgaWYgKHVzZXJJbmRleCA+PSAwKSB7XG4gICAgICAgIHVzZXJQcmVzZXRzW3VzZXJJbmRleF0gPSBlbmhhbmNlZFByZXNldDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHVzZXJQcmVzZXRzLnB1c2goZW5oYW5jZWRQcmVzZXQpO1xuICAgIH1cbiAgICBzYXZlVXNlclByZXNldHNUb1N0b3JhZ2UoKTtcbn1cbi8qKiBDcmVhdGUgYSBuZXcgcHJlc2V0IGZyb20gc2NyYXRjaCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByZXNldChuYW1lLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBwcmVzZXQgPSB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZVByZXNldElkKCksXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBvcHRpb25zLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICBkb21haW46IG9wdGlvbnMuZG9tYWluIHx8ICdHZW5lcmFsJyxcbiAgICAgICAgZW5hYmxlZEtpbmRzOiBvcHRpb25zLmVuYWJsZWRLaW5kcyB8fCBbXSxcbiAgICAgICAgc3R5bGVNYXA6IG9wdGlvbnMuc3R5bGVNYXAgfHwge30sXG4gICAgICAgIGN1c3RvbVJlZ2V4OiBvcHRpb25zLmN1c3RvbVJlZ2V4IHx8IFtdLFxuICAgICAgICBjdXN0b21QYXR0ZXJuczogb3B0aW9ucy5jdXN0b21QYXR0ZXJucyB8fCBbXSxcbiAgICAgICAgZGVmYXVsdFJlZGFjdGlvbkNvbmZpZzogb3B0aW9ucy5kZWZhdWx0UmVkYWN0aW9uQ29uZmlnIHx8IHtcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjlcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlkZW5jZVRocmVzaG9sZDogb3B0aW9ucy5jb25maWRlbmNlVGhyZXNob2xkIHx8IDAuNixcbiAgICAgICAgaXNVc2VyQ3JlYXRlZDogdHJ1ZSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnXG4gICAgfTtcbiAgICBzYXZlUHJlc2V0KHByZXNldCk7XG4gICAgcmV0dXJuIHByZXNldDtcbn1cbi8qKiBEdXBsaWNhdGUgYW4gZXhpc3RpbmcgcHJlc2V0ICovXG5leHBvcnQgZnVuY3Rpb24gZHVwbGljYXRlUHJlc2V0KGlkLCBuZXdOYW1lKSB7XG4gICAgY29uc3Qgb3JpZ2luYWwgPSBnZXRQcmVzZXQoaWQpO1xuICAgIGlmICghb3JpZ2luYWwpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcHJlc2V0ID0ge1xuICAgICAgICAuLi5vcmlnaW5hbCxcbiAgICAgICAgaWQ6IGdlbmVyYXRlUHJlc2V0SWQoKSxcbiAgICAgICAgbmFtZTogbmV3TmFtZSB8fCBgJHtvcmlnaW5hbC5uYW1lfSAoQ29weSlgLFxuICAgICAgICBpc1VzZXJDcmVhdGVkOiB0cnVlLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIHNhdmVQcmVzZXQocHJlc2V0KTtcbiAgICByZXR1cm4gcHJlc2V0O1xufVxuLyoqIERlbGV0ZSBhIHByZXNldCBieSBpdHMgSUQuICBCdWlsdC1pbiBwcmVzZXRzIGNhbm5vdCBiZSBkZWxldGVkLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVByZXNldChpZCkge1xuICAgIC8vIERvbid0IGFsbG93IGRlbGV0aW5nIGJ1aWx0LWluIHByZXNldHNcbiAgICBjb25zdCBpc0J1aWx0aW4gPSBQUkVTRVRTLnNvbWUocCA9PiBwLmlkID09PSBpZCk7XG4gICAgaWYgKGlzQnVpbHRpbilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGluZGV4ID0gdXNlclByZXNldHMuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gaWQpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHVzZXJQcmVzZXRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHNhdmVVc2VyUHJlc2V0c1RvU3RvcmFnZSgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqIFZhbGlkYXRlIGEgcHJlc2V0IG9iamVjdCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlUHJlc2V0KHByZXNldCkge1xuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgLy8gUmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCFwcmVzZXQuaWQgfHwgdHlwZW9mIHByZXNldC5pZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goJ1ByZXNldCBtdXN0IGhhdmUgYSB2YWxpZCBJRCcpO1xuICAgIH1cbiAgICBpZiAoIXByZXNldC5uYW1lIHx8IHR5cGVvZiBwcmVzZXQubmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goJ1ByZXNldCBtdXN0IGhhdmUgYSB2YWxpZCBuYW1lJyk7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShwcmVzZXQuZW5hYmxlZEtpbmRzKSkge1xuICAgICAgICBlcnJvcnMucHVzaCgnUHJlc2V0IG11c3QgaGF2ZSBhbiBlbmFibGVkS2luZHMgYXJyYXknKTtcbiAgICB9XG4gICAgLy8gVmFsaWRhdGUgZGV0ZWN0aW9uIGtpbmRzXG4gICAgY29uc3QgdmFsaWRLaW5kcyA9IFsnRkFDRScsICdFTUFJTCcsICdQSE9ORScsICdQQU4nLCAnSUJBTicsICdTU04nLCAnUEFTU1BPUlQnLCAnSldUJywgJ0FQSV9LRVknLCAnQkFSQ09ERScsICdOQU1FJywgJ0FERFJFU1MnLCAnT1RIRVInXTtcbiAgICBpZiAocHJlc2V0LmVuYWJsZWRLaW5kcykge1xuICAgICAgICBjb25zdCBpbnZhbGlkS2luZHMgPSBwcmVzZXQuZW5hYmxlZEtpbmRzLmZpbHRlcigoa2luZCkgPT4gIXZhbGlkS2luZHMuaW5jbHVkZXMoa2luZCkpO1xuICAgICAgICBpZiAoaW52YWxpZEtpbmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHdhcm5pbmdzLnB1c2goYFVua25vd24gZGV0ZWN0aW9uIGtpbmRzOiAke2ludmFsaWRLaW5kcy5qb2luKCcsICcpfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIGN1c3RvbSBwYXR0ZXJuc1xuICAgIGlmIChwcmVzZXQuY3VzdG9tUGF0dGVybnMgJiYgQXJyYXkuaXNBcnJheShwcmVzZXQuY3VzdG9tUGF0dGVybnMpKSB7XG4gICAgICAgIHByZXNldC5jdXN0b21QYXR0ZXJucy5mb3JFYWNoKChwYXR0ZXJuLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFwYXR0ZXJuLmlkIHx8ICFwYXR0ZXJuLm5hbWUgfHwgIXBhdHRlcm4ucGF0dGVybikge1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBDdXN0b20gcGF0dGVybiAke2luZGV4ICsgMX0gaXMgbWlzc2luZyByZXF1aXJlZCBmaWVsZHMgKGlkLCBuYW1lLCBwYXR0ZXJuKWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhdHRlcm4ucGF0dGVybikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBSZWdFeHAocGF0dGVybi5wYXR0ZXJuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGBDdXN0b20gcGF0dGVybiAke2luZGV4ICsgMX0gaGFzIGludmFsaWQgcmVnZXg6ICR7cGF0dGVybi5wYXR0ZXJufWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIGNvbmZpZGVuY2UgdGhyZXNob2xkXG4gICAgaWYgKHByZXNldC5jb25maWRlbmNlVGhyZXNob2xkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcmVzZXQuY29uZmlkZW5jZVRocmVzaG9sZCAhPT0gJ251bWJlcicgfHwgcHJlc2V0LmNvbmZpZGVuY2VUaHJlc2hvbGQgPCAwIHx8IHByZXNldC5jb25maWRlbmNlVGhyZXNob2xkID4gMSkge1xuICAgICAgICAgICAgd2FybmluZ3MucHVzaCgnQ29uZmlkZW5jZSB0aHJlc2hvbGQgc2hvdWxkIGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGVycm9ycy5sZW5ndGggPT09IDAsXG4gICAgICAgIHByZXNldDogZXJyb3JzLmxlbmd0aCA9PT0gMCA/IHByZXNldCA6IHVuZGVmaW5lZCxcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICB3YXJuaW5nc1xuICAgIH07XG59XG4vKiogSW1wb3J0IGEgcHJlc2V0IGZyb20gSlNPTiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGltcG9ydFByZXNldChqc29uKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZVByZXNldChkYXRhKTtcbiAgICAgICAgaWYgKHZhbGlkYXRpb24uc3VjY2VzcyAmJiB2YWxpZGF0aW9uLnByZXNldCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIElEIGNvbmZsaWN0cyBhbmQgZ2VuZXJhdGUgbmV3IElEIGlmIG5lZWRlZFxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdQcmVzZXQgPSBnZXRQcmVzZXQodmFsaWRhdGlvbi5wcmVzZXQuaWQpO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nUHJlc2V0KSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbi5wcmVzZXQuaWQgPSBnZW5lcmF0ZVByZXNldElkKCk7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbi5wcmVzZXQubmFtZSA9IGAke3ZhbGlkYXRpb24ucHJlc2V0Lm5hbWV9IChJbXBvcnRlZClgO1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb24ud2FybmluZ3MucHVzaCgnUHJlc2V0IElEIGFscmVhZHkgZXhpc3RzLCBnZW5lcmF0ZWQgbmV3IElEJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNYXJrIGFzIHVzZXItY3JlYXRlZCBhbmQgdXBkYXRlIHRpbWVzdGFtcHNcbiAgICAgICAgICAgIHZhbGlkYXRpb24ucHJlc2V0LmlzVXNlckNyZWF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFsaWRhdGlvbi5wcmVzZXQuY3JlYXRlZEF0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgdmFsaWRhdGlvbi5wcmVzZXQudXBkYXRlZEF0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgc2F2ZVByZXNldCh2YWxpZGF0aW9uLnByZXNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb247XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcnM6IFtgSW52YWxpZCBKU09OOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWBdLFxuICAgICAgICAgICAgd2FybmluZ3M6IFtdXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqIEV4cG9ydCBhIHByZXNldCB0byBKU09OICovXG5leHBvcnQgZnVuY3Rpb24gZXhwb3J0UHJlc2V0KGlkLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBwcmVzZXQgPSBnZXRQcmVzZXQoaWQpO1xuICAgIGlmICghcHJlc2V0KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBleHBvcnREYXRhID0geyAuLi5wcmVzZXQgfTtcbiAgICAvLyBSZW1vdmUgbWV0YWRhdGEgaWYgcmVxdWVzdGVkXG4gICAgaWYgKCFvcHRpb25zLmluY2x1ZGVNZXRhZGF0YSkge1xuICAgICAgICBkZWxldGUgZXhwb3J0RGF0YS5jcmVhdGVkQXQ7XG4gICAgICAgIGRlbGV0ZSBleHBvcnREYXRhLnVwZGF0ZWRBdDtcbiAgICAgICAgZGVsZXRlIGV4cG9ydERhdGEuaXNVc2VyQ3JlYXRlZDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZm9ybWF0ID09PSAnY29tcGFjdCcpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGV4cG9ydERhdGEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGV4cG9ydERhdGEsIG51bGwsIDIpO1xuICAgIH1cbn1cbi8qKiBFeHBvcnQgYWxsIHVzZXIgcHJlc2V0cyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydEFsbFVzZXJQcmVzZXRzKG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHByZXNldHMgPSBsaXN0VXNlclByZXNldHMoKTtcbiAgICBjb25zdCBleHBvcnREYXRhID0gcHJlc2V0cy5tYXAocHJlc2V0ID0+IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHsgLi4ucHJlc2V0IH07XG4gICAgICAgIGlmICghb3B0aW9ucy5pbmNsdWRlTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhLmNyZWF0ZWRBdDtcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhLnVwZGF0ZWRBdDtcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhLmlzVXNlckNyZWF0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMuZm9ybWF0ID09PSAnY29tcGFjdCcpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGV4cG9ydERhdGEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGV4cG9ydERhdGEsIG51bGwsIDIpO1xuICAgIH1cbn1cbi8qKiBJbXBvcnQgbXVsdGlwbGUgcHJlc2V0cyBmcm9tIEpTT04gYXJyYXkgKi9cbmV4cG9ydCBmdW5jdGlvbiBpbXBvcnRNdWx0aXBsZVByZXNldHMoanNvbikge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGpzb24pO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBbJ0V4cGVjdGVkIEpTT04gYXJyYXkgb2YgcHJlc2V0cyddLFxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5nczogW11cbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YS5tYXAocHJlc2V0RGF0YSA9PiBpbXBvcnRQcmVzZXQoSlNPTi5zdHJpbmdpZnkocHJlc2V0RGF0YSkpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGVycm9yczogW2BJbnZhbGlkIEpTT046ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YF0sXG4gICAgICAgICAgICAgICAgd2FybmluZ3M6IFtdXG4gICAgICAgICAgICB9XTtcbiAgICB9XG59XG4vKiogUmVzZXQgYWxsIHVzZXIgcHJlc2V0cyAoY2xlYXIgbG9jYWxTdG9yYWdlKSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0VXNlclByZXNldHMoKSB7XG4gICAgdXNlclByZXNldHMgPSBbXTtcbiAgICBzYXZlVXNlclByZXNldHNUb1N0b3JhZ2UoKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../core-detect/dist/presets.js\n");

/***/ }),

/***/ "../core-detect/dist/types.js":
/*!************************************!*\
  !*** ../core-detect/dist/types.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiO0FBQVUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uLi9jb3JlLWRldGVjdC9kaXN0L3R5cGVzLmpzP2I1NjMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHt9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../core-detect/dist/types.js\n");

/***/ }),

/***/ "jsqr":
/*!***********************!*\
  !*** external "jsqr" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("jsqr");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "pdfjs-dist":
/*!*****************************!*\
  !*** external "pdfjs-dist" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("pdfjs-dist");

/***/ }),

/***/ "pdfjs-dist/build/pdf.worker.js":
/*!*************************************************!*\
  !*** external "pdfjs-dist/build/pdf.worker.js" ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("pdfjs-dist/build/pdf.worker.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = import("uuid");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?60a5":
/*!**************************!*\
  !*** encoding (ignored) ***!
  \**************************/
/***/ (() => {

/* (ignored) */

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0","vendor-chunks/@swc+helpers@0.5.2","vendor-chunks/pdf-lib@1.17.1","vendor-chunks/tesseract.js@4.1.4","vendor-chunks/@pdf-lib+standard-fonts@1.0.0","vendor-chunks/pako@1.0.11","vendor-chunks/whatwg-url@5.0.0","vendor-chunks/tr46@0.0.3","vendor-chunks/webidl-conversions@3.0.1","vendor-chunks/tslib@1.14.1","vendor-chunks/regenerator-runtime@0.13.11","vendor-chunks/node-fetch@2.7.0","vendor-chunks/is-url@1.2.4","vendor-chunks/is-electron@2.2.2","vendor-chunks/@pdf-lib+upng@1.0.1"], () => (__webpack_exec__("../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();