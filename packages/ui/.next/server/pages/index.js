/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"react/jsx-runtime\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction App({\n  Component,\n  pageProps\n}) {\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    // Initialize any global app state here\n    console.log('CleanShare Pro UI initialized');\n  }, []);\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, {\n    ...pageProps\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ2lDO0FBQ0g7QUFBQTtBQUVmLFNBQVNHLEdBQUdBLENBQUM7RUFBRUMsU0FBUztFQUFFQztBQUFvQixDQUFDLEVBQUU7RUFDOURMLGdEQUFTLENBQUMsTUFBTTtJQUNkO0lBQ0FNLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLCtCQUErQixDQUFDO0VBQzlDLENBQUMsRUFBRSxFQUFFLENBQUM7RUFFTixvQkFBT0wsc0RBQUEsQ0FBQ0UsU0FBUztJQUFBLEdBQUtDO0VBQVMsQ0FBRyxDQUFDO0FBQ3JDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNsZWFuc2hhcmUvdWkvLi9wYWdlcy9fYXBwLnRzeD8yZmJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQXBwUHJvcHMgfSBmcm9tICduZXh0L2FwcCdcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFscy5jc3MnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH06IEFwcFByb3BzKSB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gSW5pdGlhbGl6ZSBhbnkgZ2xvYmFsIGFwcCBzdGF0ZSBoZXJlXG4gICAgY29uc29sZS5sb2coJ0NsZWFuU2hhcmUgUHJvIFVJIGluaXRpYWxpemVkJyk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gPENvbXBvbmVudCB7Li4ucGFnZVByb3BzfSAvPlxufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJqc3giLCJfanN4IiwiQXBwIiwiQ29tcG9uZW50IiwicGFnZVByb3BzIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CleanSharePro)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @cleanshare/core-detect */ \"../core-detect/dist/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"react/jsx-runtime\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__]);\n_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// CleanShare Pro - Modern UI Implementation\n\n\n\nfunction CleanSharePro() {\n  const [files, setFiles] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [fileStates, setFileStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [currentFileIndex, setCurrentFileIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [presets, setPresets] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [presetId, setPresetId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');\n  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [proUnlocked, setProUnlocked] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [showPresetEditor, setShowPresetEditor] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n\n  // Load presets on mount\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const ps = (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.listPresets)();\n    setPresets(ps);\n    if (ps.length > 0) {\n      setPresetId(ps[0].id);\n    }\n  }, []);\n\n  // Process files when they change\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (files.length === 0) return;\n    async function processFiles() {\n      setLoading(true);\n      const newStates = [];\n      for (const file of files) {\n        try {\n          const result = await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.analyzeDocument)(file, {\n            presetId\n          });\n          const selected = {};\n          const actions = {};\n          result.detections.forEach(det => {\n            selected[det.id] = true;\n            actions[det.id] = {\n              style: 'BOX'\n            };\n          });\n          newStates.push({\n            file,\n            detections: result.detections,\n            selected,\n            actions,\n            pages: result.pages || 1,\n            pageImages: [],\n            currentPage: 0,\n            processing: false\n          });\n        } catch (error) {\n          console.error('Failed to process file:', file.name, error);\n          // Add the file with error state\n          newStates.push({\n            file,\n            detections: [],\n            selected: {},\n            actions: {},\n            pages: 1,\n            pageImages: [],\n            currentPage: 0,\n            processing: false,\n            error: error instanceof Error ? error.message : 'Unknown error'\n          });\n        }\n      }\n      setFileStates(newStates);\n      setLoading(false);\n    }\n    processFiles();\n  }, [files, presetId]);\n  const handleFileChange = e => {\n    const selectedFiles = Array.from(e.target.files || []);\n    setFiles(selectedFiles);\n    setCurrentFileIndex(0);\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const droppedFiles = Array.from(e.dataTransfer.files);\n    setFiles(droppedFiles);\n    setCurrentFileIndex(0);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDragLeave = e => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleSanitize = async fileIndex => {\n    const fileState = fileStates[fileIndex];\n    if (!fileState) return;\n\n    // Update processing state\n    setFileStates(prev => prev.map((state, i) => i === fileIndex ? {\n      ...state,\n      processing: true\n    } : state));\n    try {\n      // Re-analyze the file to ensure lastResult is set correctly\n      await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.analyzeDocument)(fileState.file, {\n        presetId\n      });\n      const redactionActions = fileState.detections.filter(det => fileState.selected[det.id]).map(det => ({\n        id: det.id,\n        action: 'REDACT',\n        style: fileState.actions[det.id]?.style || 'BOX',\n        labelText: fileState.actions[det.id]?.labelText\n      }));\n      const result = await (0,_cleanshare_core_detect__WEBPACK_IMPORTED_MODULE_2__.applyRedactions)(fileState.file, redactionActions, {\n        style: 'BOX'\n      });\n\n      // Convert data URI to blob for download\n      const response = await fetch(result.fileUri);\n      const blob = await response.blob();\n      const url = URL.createObjectURL(blob);\n\n      // Update file state with result\n      setFileStates(prev => prev.map((state, i) => i === fileIndex ? {\n        ...state,\n        outputUri: url,\n        previewUri: result.fileUri,\n        processing: false\n      } : state));\n    } catch (error) {\n      console.error('Sanitization failed:', error);\n      // Show error to user\n      alert(`Sanitization failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n      setFileStates(prev => prev.map((state, i) => i === fileIndex ? {\n        ...state,\n        processing: false\n      } : state));\n    }\n  };\n  const handleDownload = fileIndex => {\n    const fileState = fileStates[fileIndex];\n    if (!fileState?.outputUri) return;\n    const link = document.createElement('a');\n    link.href = fileState.outputUri;\n    link.download = `sanitized_${fileState.file.name}`;\n    link.click();\n  };\n  const currentFileState = fileStates[currentFileIndex];\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"header\", {\n      className: \"header\",\n      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"a\", {\n          href: \"#\",\n          className: \"logo\",\n          children: \"CleanShare Pro\"\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 'var(--space-md)'\n          },\n          children: [presets.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"select\", {\n            value: presetId,\n            onChange: e => setPresetId(e.target.value),\n            className: \"form-select\",\n            style: {\n              minWidth: '150px'\n            },\n            children: presets.map(p => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"option\", {\n              value: p.id,\n              children: p.name\n            }, p.id))\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n            onClick: () => setProUnlocked(!proUnlocked),\n            className: `btn ${proUnlocked ? 'btn-secondary' : 'btn-outline'} btn-sm`,\n            children: proUnlocked ? '✓ Pro Unlocked' : '🔓 Unlock Pro'\n          }), proUnlocked && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n            onClick: () => setShowPresetEditor(true),\n            className: \"btn btn-primary btn-sm\",\n            children: \"Manage Presets\"\n          })]\n        })]\n      })\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        className: \"card\",\n        style: {\n          marginBottom: 'var(--space-xl)'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          className: \"card-header\",\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h2\", {\n            className: \"card-title\",\n            children: \"Upload Files\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n            className: \"card-subtitle\",\n            children: \"Select images or PDF documents to sanitize\"\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            className: \"file-upload-zone\",\n            onDrop: handleDrop,\n            onDragOver: handleDragOver,\n            onDragLeave: handleDragLeave,\n            onClick: () => document.getElementById('file-input')?.click(),\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"file-upload-icon\",\n              children: \"\\uD83D\\uDCC4\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"file-upload-text\",\n              children: \"Drop files here or click to browse\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"file-upload-subtext\",\n              children: \"Supports JPG, PNG, PDF files up to 10MB each\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n              id: \"file-input\",\n              type: \"file\",\n              accept: \"image/*,application/pdf\",\n              multiple: true,\n              onChange: handleFileChange,\n              style: {\n                display: 'none'\n              }\n            })]\n          }), loading && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            className: \"loading-text\",\n            style: {\n              marginTop: 'var(--space-md)'\n            },\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"loading-spinner\"\n            }), \"Processing files...\"]\n          })]\n        })]\n      }), fileStates.length > 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 'var(--space-xl)'\n        },\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          className: \"sidebar\",\n          style: {\n            minWidth: '250px'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"h3\", {\n            className: \"sidebar-title\",\n            children: [\"Files (\", fileStates.length, \")\"]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 'var(--space-sm)'\n            },\n            children: fileStates.map((state, index) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              onClick: () => setCurrentFileIndex(index),\n              style: {\n                padding: 'var(--space-md)',\n                border: `2px solid ${index === currentFileIndex ? 'var(--color-primary)' : 'var(--border-light)'}`,\n                borderRadius: 'var(--radius-md)',\n                cursor: 'pointer',\n                background: index === currentFileIndex ? 'var(--bg-secondary)' : 'var(--bg-primary)',\n                transition: 'all var(--transition-fast)'\n              },\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  fontWeight: '600',\n                  fontSize: 'var(--font-size-sm)',\n                  marginBottom: 'var(--space-xs)'\n                },\n                children: state.file.name\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                style: {\n                  fontSize: 'var(--font-size-xs)',\n                  color: state.error ? 'var(--color-error)' : 'var(--text-secondary)'\n                },\n                children: state.error ? `Error: ${state.error}` : `${state.detections.length} detections found`\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                style: {\n                  marginTop: 'var(--space-sm)',\n                  display: 'flex',\n                  gap: 'var(--space-xs)'\n                },\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleSanitize(index);\n                  },\n                  className: \"btn btn-primary btn-sm\",\n                  disabled: state.processing || !!state.error,\n                  style: {\n                    flex: 1\n                  },\n                  children: state.processing ? 'Processing...' : 'Sanitize'\n                }), state.outputUri && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                  onClick: e => {\n                    e.stopPropagation();\n                    handleDownload(index);\n                  },\n                  className: \"btn btn-secondary btn-sm\",\n                  children: \"Download\"\n                })]\n              })]\n            }, index))\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: currentFileState && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              className: \"card-header\",\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", {\n                className: \"card-title\",\n                children: currentFileState.file.name\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n                className: \"card-subtitle\",\n                children: currentFileState.error ? 'Processing failed' : `Found ${currentFileState.detections.length} sensitive items`\n              })]\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n              className: \"card-body\",\n              children: currentFileState.error ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                className: \"alert alert-error\",\n                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n                    children: \"Processing Error\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"p\", {\n                    style: {\n                      margin: '0',\n                      marginTop: 'var(--space-xs)'\n                    },\n                    children: [\"Failed to analyze this file: \", currentFileState.error]\n                  })]\n                })\n              }) : currentFileState.detections.length > 0 ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n                  style: {\n                    marginBottom: 'var(--space-md)',\n                    fontSize: 'var(--font-size-lg)'\n                  },\n                  children: \"Detected Sensitive Information\"\n                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                  style: {\n                    display: 'flex',\n                    flexDirection: 'column',\n                    gap: 'var(--space-sm)'\n                  },\n                  children: currentFileState.detections.map(detection => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                    style: {\n                      padding: 'var(--space-md)',\n                      border: '1px solid var(--border-light)',\n                      borderRadius: 'var(--radius-md)',\n                      background: 'var(--bg-secondary)',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'space-between'\n                    },\n                    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                      style: {\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: 'var(--space-md)'\n                      },\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"input\", {\n                        type: \"checkbox\",\n                        checked: currentFileState.selected[detection.id] || false,\n                        onChange: e => {\n                          setFileStates(prev => prev.map((state, i) => i === currentFileIndex ? {\n                            ...state,\n                            selected: {\n                              ...state.selected,\n                              [detection.id]: e.target.checked\n                            }\n                          } : state));\n                        }\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                          style: {\n                            fontWeight: '600',\n                            fontSize: 'var(--font-size-sm)'\n                          },\n                          children: [detection.kind, \": \", detection.text]\n                        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                          style: {\n                            fontSize: 'var(--font-size-xs)',\n                            color: 'var(--text-secondary)'\n                          },\n                          children: [\"Confidence: \", Math.round(detection.confidence * 100), \"%\"]\n                        })]\n                      })]\n                    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"select\", {\n                      value: currentFileState.actions[detection.id]?.style || 'BOX',\n                      onChange: e => {\n                        setFileStates(prev => prev.map((state, i) => i === currentFileIndex ? {\n                          ...state,\n                          actions: {\n                            ...state.actions,\n                            [detection.id]: {\n                              ...state.actions[detection.id],\n                              style: e.target.value\n                            }\n                          }\n                        } : state));\n                      },\n                      className: \"form-select\",\n                      style: {\n                        minWidth: '120px'\n                      },\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"option\", {\n                        value: \"BOX\",\n                        children: \"Black Box\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"option\", {\n                        value: \"BLUR\",\n                        children: \"Blur\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"option\", {\n                        value: \"PIXELATE\",\n                        children: \"Pixelate\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"option\", {\n                        value: \"LABEL\",\n                        children: \"Label\"\n                      })]\n                    })]\n                  }, detection.id))\n                }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                  className: \"card-footer\",\n                  style: {\n                    marginTop: 'var(--space-xl)'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                    onClick: () => handleSanitize(currentFileIndex),\n                    className: \"btn btn-primary btn-lg\",\n                    disabled: currentFileState.processing,\n                    children: currentFileState.processing ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                        className: \"loading-spinner\",\n                        style: {\n                          width: '1rem',\n                          height: '1rem'\n                        }\n                      }), \"Processing...\"]\n                    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                      children: \"\\uD83D\\uDD12 Sanitize Document\"\n                    })\n                  }), currentFileState.outputUri && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n                    onClick: () => handleDownload(currentFileIndex),\n                    className: \"btn btn-secondary btn-lg\",\n                    children: \"\\uD83D\\uDCE5 Download Clean File\"\n                  })]\n                }), currentFileState.previewUri && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                  style: {\n                    marginTop: 'var(--space-xl)',\n                    padding: 'var(--space-lg)',\n                    background: 'var(--bg-secondary)',\n                    borderRadius: 'var(--radius-md)',\n                    border: '1px solid var(--border-light)'\n                  },\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n                    style: {\n                      marginBottom: 'var(--space-md)',\n                      fontSize: 'var(--font-size-lg)',\n                      color: 'var(--color-primary)'\n                    },\n                    children: \"\\uD83D\\uDD12 Sanitized Preview\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                    style: {\n                      display: 'flex',\n                      justifyContent: 'center',\n                      alignItems: 'center',\n                      padding: 'var(--space-md)',\n                      background: 'var(--bg-primary)',\n                      borderRadius: 'var(--radius-md)',\n                      border: '1px solid var(--border-light)'\n                    },\n                    children: currentFileState.file.type.startsWith('image/') ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"img\", {\n                      src: currentFileState.previewUri,\n                      alt: \"Sanitized preview\",\n                      style: {\n                        maxWidth: '100%',\n                        maxHeight: '400px',\n                        borderRadius: 'var(--radius-sm)',\n                        boxShadow: 'var(--shadow-md)'\n                      }\n                    }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                      style: {\n                        textAlign: 'center',\n                        padding: 'var(--space-xl)',\n                        color: 'var(--text-secondary)'\n                      },\n                      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                        style: {\n                          fontSize: 'var(--font-size-3xl)',\n                          marginBottom: 'var(--space-md)'\n                        },\n                        children: \"\\uD83D\\uDCC4\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n                        children: \"PDF sanitized successfully\"\n                      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n                        style: {\n                          fontSize: 'var(--font-size-sm)'\n                        },\n                        children: \"Click download to save the clean file\"\n                      })]\n                    })\n                  })]\n                })]\n              }) : /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n                className: \"alert alert-success\",\n                children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n                  children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n                    children: \"No sensitive information detected!\"\n                  }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n                    style: {\n                      margin: '0',\n                      marginTop: 'var(--space-xs)'\n                    },\n                    children: \"This document appears to be clean and safe to share.\"\n                  })]\n                })\n              })\n            })]\n          })\n        })]\n      }), showPresetEditor && proUnlocked && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        style: {\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0, 0, 0, 0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000\n        },\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n          className: \"card\",\n          style: {\n            minWidth: '500px',\n            maxWidth: '90vw',\n            maxHeight: '90vh',\n            overflow: 'auto'\n          },\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n            className: \"card-header\",\n            children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", {\n              className: \"card-title\",\n              children: \"Manage Presets\"\n            }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n              className: \"card-subtitle\",\n              children: \"Create and manage detection presets\"\n            })]\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", {\n              className: \"alert alert-info\",\n              children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n                children: \"Pro Feature\"\n              }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n                style: {\n                  margin: 0,\n                  marginTop: 'var(--space-xs)'\n                },\n                children: \"Preset management is available in the Pro version.\"\n              })]\n            })\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n            className: \"card-footer\",\n            children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", {\n              onClick: () => setShowPresetEditor(false),\n              className: \"btn btn-ghost\",\n              children: \"Close\"\n            })\n          })]\n        })\n      })]\n    })]\n  });\n}\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9pbmRleC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDbUQ7QUFRK0Q7QUFBQTtBQWdCbkcsU0FBU1ksYUFBYUEsQ0FBQSxFQUFHO0VBQ3RDLE1BQU0sQ0FBQ0MsS0FBSyxFQUFFQyxRQUFRLENBQUMsR0FBR2IsK0NBQVEsQ0FBUyxFQUFFLENBQUM7RUFDOUMsTUFBTSxDQUFDYyxVQUFVLEVBQUVDLGFBQWEsQ0FBQyxHQUFHZiwrQ0FBUSxDQUFjLEVBQUUsQ0FBQztFQUM3RCxNQUFNLENBQUNnQixnQkFBZ0IsRUFBRUMsbUJBQW1CLENBQUMsR0FBR2pCLCtDQUFRLENBQUMsQ0FBQyxDQUFDO0VBQzNELE1BQU0sQ0FBQ2tCLE9BQU8sRUFBRUMsVUFBVSxDQUFDLEdBQUduQiwrQ0FBUSxDQUFXLEVBQUUsQ0FBQztFQUNwRCxNQUFNLENBQUNvQixRQUFRLEVBQUVDLFdBQVcsQ0FBQyxHQUFHckIsK0NBQVEsQ0FBUyxFQUFFLENBQUM7RUFDcEQsTUFBTSxDQUFDc0IsT0FBTyxFQUFFQyxVQUFVLENBQUMsR0FBR3ZCLCtDQUFRLENBQUMsS0FBSyxDQUFDO0VBQzdDLE1BQU0sQ0FBQ3dCLFdBQVcsRUFBRUMsY0FBYyxDQUFDLEdBQUd6QiwrQ0FBUSxDQUFDLEtBQUssQ0FBQztFQUNyRCxNQUFNLENBQUMwQixnQkFBZ0IsRUFBRUMsbUJBQW1CLENBQUMsR0FBRzNCLCtDQUFRLENBQUMsS0FBSyxDQUFDOztFQUUvRDtFQUNBQyxnREFBUyxDQUFDLE1BQU07SUFDZCxNQUFNMkIsRUFBRSxHQUFHeEIsb0VBQVcsQ0FBQyxDQUFDO0lBQ3hCZSxVQUFVLENBQUNTLEVBQUUsQ0FBQztJQUNkLElBQUlBLEVBQUUsQ0FBQ0MsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUNqQlIsV0FBVyxDQUFDTyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUNFLEVBQUUsQ0FBQztJQUN2QjtFQUNGLENBQUMsRUFBRSxFQUFFLENBQUM7O0VBRU47RUFDQTdCLGdEQUFTLENBQUMsTUFBTTtJQUNkLElBQUlXLEtBQUssQ0FBQ2lCLE1BQU0sS0FBSyxDQUFDLEVBQUU7SUFFeEIsZUFBZUUsWUFBWUEsQ0FBQSxFQUFHO01BQzVCUixVQUFVLENBQUMsSUFBSSxDQUFDO01BQ2hCLE1BQU1TLFNBQXNCLEdBQUcsRUFBRTtNQUVqQyxLQUFLLE1BQU1DLElBQUksSUFBSXJCLEtBQUssRUFBRTtRQUN4QixJQUFJO1VBQ0YsTUFBTXNCLE1BQU0sR0FBRyxNQUFNaEMsd0VBQWUsQ0FBQytCLElBQUksRUFBRTtZQUFFYjtVQUFTLENBQUMsQ0FBQztVQUN4RCxNQUFNZSxRQUFpQyxHQUFHLENBQUMsQ0FBQztVQUM1QyxNQUFNQyxPQUFzRSxHQUFHLENBQUMsQ0FBQztVQUVqRkYsTUFBTSxDQUFDRyxVQUFVLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxJQUFJO1lBQy9CSixRQUFRLENBQUNJLEdBQUcsQ0FBQ1QsRUFBRSxDQUFDLEdBQUcsSUFBSTtZQUN2Qk0sT0FBTyxDQUFDRyxHQUFHLENBQUNULEVBQUUsQ0FBQyxHQUFHO2NBQUVVLEtBQUssRUFBRTtZQUFNLENBQUM7VUFDcEMsQ0FBQyxDQUFDO1VBRUZSLFNBQVMsQ0FBQ1MsSUFBSSxDQUFDO1lBQ2JSLElBQUk7WUFDSkksVUFBVSxFQUFFSCxNQUFNLENBQUNHLFVBQVU7WUFDN0JGLFFBQVE7WUFDUkMsT0FBTztZQUNQTSxLQUFLLEVBQUVSLE1BQU0sQ0FBQ1EsS0FBSyxJQUFJLENBQUM7WUFDeEJDLFVBQVUsRUFBRSxFQUFFO1lBQ2RDLFdBQVcsRUFBRSxDQUFDO1lBQ2RDLFVBQVUsRUFBRTtVQUNkLENBQUMsQ0FBQztRQUNKLENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7VUFDZEMsT0FBTyxDQUFDRCxLQUFLLENBQUMseUJBQXlCLEVBQUViLElBQUksQ0FBQ2UsSUFBSSxFQUFFRixLQUFLLENBQUM7VUFDMUQ7VUFDQWQsU0FBUyxDQUFDUyxJQUFJLENBQUM7WUFDYlIsSUFBSTtZQUNKSSxVQUFVLEVBQUUsRUFBRTtZQUNkRixRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBQ1pDLE9BQU8sRUFBRSxDQUFDLENBQUM7WUFDWE0sS0FBSyxFQUFFLENBQUM7WUFDUkMsVUFBVSxFQUFFLEVBQUU7WUFDZEMsV0FBVyxFQUFFLENBQUM7WUFDZEMsVUFBVSxFQUFFLEtBQUs7WUFDakJDLEtBQUssRUFBRUEsS0FBSyxZQUFZRyxLQUFLLEdBQUdILEtBQUssQ0FBQ0ksT0FBTyxHQUFHO1VBQ2xELENBQUMsQ0FBQztRQUNKO01BQ0Y7TUFFQW5DLGFBQWEsQ0FBQ2lCLFNBQVMsQ0FBQztNQUN4QlQsVUFBVSxDQUFDLEtBQUssQ0FBQztJQUNuQjtJQUVBUSxZQUFZLENBQUMsQ0FBQztFQUNoQixDQUFDLEVBQUUsQ0FBQ25CLEtBQUssRUFBRVEsUUFBUSxDQUFDLENBQUM7RUFFckIsTUFBTStCLGdCQUFnQixHQUFJQyxDQUFzQyxJQUFLO0lBQ25FLE1BQU1DLGFBQWEsR0FBR0MsS0FBSyxDQUFDQyxJQUFJLENBQUNILENBQUMsQ0FBQ0ksTUFBTSxDQUFDNUMsS0FBSyxJQUFJLEVBQUUsQ0FBQztJQUN0REMsUUFBUSxDQUFDd0MsYUFBYSxDQUFDO0lBQ3ZCcEMsbUJBQW1CLENBQUMsQ0FBQyxDQUFDO0VBQ3hCLENBQUM7RUFFRCxNQUFNd0MsVUFBVSxHQUFJTCxDQUFrQixJQUFLO0lBQ3pDQSxDQUFDLENBQUNNLGNBQWMsQ0FBQyxDQUFDO0lBQ2xCTixDQUFDLENBQUNPLGVBQWUsQ0FBQyxDQUFDO0lBQ25CLE1BQU1DLFlBQVksR0FBR04sS0FBSyxDQUFDQyxJQUFJLENBQUNILENBQUMsQ0FBQ1MsWUFBWSxDQUFDakQsS0FBSyxDQUFDO0lBQ3JEQyxRQUFRLENBQUMrQyxZQUFZLENBQUM7SUFDdEIzQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUM7RUFDeEIsQ0FBQztFQUVELE1BQU02QyxjQUFjLEdBQUlWLENBQWtCLElBQUs7SUFDN0NBLENBQUMsQ0FBQ00sY0FBYyxDQUFDLENBQUM7SUFDbEJOLENBQUMsQ0FBQ08sZUFBZSxDQUFDLENBQUM7RUFDckIsQ0FBQztFQUVELE1BQU1JLGVBQWUsR0FBSVgsQ0FBa0IsSUFBSztJQUM5Q0EsQ0FBQyxDQUFDTSxjQUFjLENBQUMsQ0FBQztJQUNsQk4sQ0FBQyxDQUFDTyxlQUFlLENBQUMsQ0FBQztFQUNyQixDQUFDO0VBRUQsTUFBTUssY0FBYyxHQUFHLE1BQU9DLFNBQWlCLElBQUs7SUFDbEQsTUFBTUMsU0FBUyxHQUFHcEQsVUFBVSxDQUFDbUQsU0FBUyxDQUFDO0lBQ3ZDLElBQUksQ0FBQ0MsU0FBUyxFQUFFOztJQUVoQjtJQUNBbkQsYUFBYSxDQUFDb0QsSUFBSSxJQUFJQSxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDQyxLQUFLLEVBQUVDLENBQUMsS0FDdENBLENBQUMsS0FBS0wsU0FBUyxHQUFHO01BQUUsR0FBR0ksS0FBSztNQUFFeEIsVUFBVSxFQUFFO0lBQUssQ0FBQyxHQUFHd0IsS0FDckQsQ0FBQyxDQUFDO0lBRUYsSUFBSTtNQUNGO01BQ0EsTUFBTW5FLHdFQUFlLENBQUNnRSxTQUFTLENBQUNqQyxJQUFJLEVBQUU7UUFBRWI7TUFBUyxDQUFDLENBQUM7TUFFbkQsTUFBTW1ELGdCQUFtQyxHQUFHTCxTQUFTLENBQUM3QixVQUFVLENBQzdEbUMsTUFBTSxDQUFDakMsR0FBRyxJQUFJMkIsU0FBUyxDQUFDL0IsUUFBUSxDQUFDSSxHQUFHLENBQUNULEVBQUUsQ0FBQyxDQUFDLENBQ3pDc0MsR0FBRyxDQUFDN0IsR0FBRyxLQUFLO1FBQ1hULEVBQUUsRUFBRVMsR0FBRyxDQUFDVCxFQUFFO1FBQ1YyQyxNQUFNLEVBQUUsUUFBaUI7UUFDekJqQyxLQUFLLEVBQUUwQixTQUFTLENBQUM5QixPQUFPLENBQUNHLEdBQUcsQ0FBQ1QsRUFBRSxDQUFDLEVBQUVVLEtBQUssSUFBSSxLQUFLO1FBQ2hEa0MsU0FBUyxFQUFFUixTQUFTLENBQUM5QixPQUFPLENBQUNHLEdBQUcsQ0FBQ1QsRUFBRSxDQUFDLEVBQUU0QztNQUN4QyxDQUFDLENBQUMsQ0FBQztNQUVMLE1BQU14QyxNQUFNLEdBQUcsTUFBTS9CLHdFQUFlLENBQUMrRCxTQUFTLENBQUNqQyxJQUFJLEVBQUVzQyxnQkFBZ0IsRUFBRTtRQUNyRS9CLEtBQUssRUFBRTtNQUNULENBQUMsQ0FBQzs7TUFFRjtNQUNBLE1BQU1tQyxRQUFRLEdBQUcsTUFBTUMsS0FBSyxDQUFDMUMsTUFBTSxDQUFDMkMsT0FBTyxDQUFDO01BQzVDLE1BQU1DLElBQUksR0FBRyxNQUFNSCxRQUFRLENBQUNHLElBQUksQ0FBQyxDQUFDO01BQ2xDLE1BQU1DLEdBQUcsR0FBR0MsR0FBRyxDQUFDQyxlQUFlLENBQUNILElBQUksQ0FBQzs7TUFFckM7TUFDQS9ELGFBQWEsQ0FBQ29ELElBQUksSUFBSUEsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsS0FBSyxFQUFFQyxDQUFDLEtBQ3RDQSxDQUFDLEtBQUtMLFNBQVMsR0FBRztRQUFFLEdBQUdJLEtBQUs7UUFBRWEsU0FBUyxFQUFFSCxHQUFHO1FBQUVJLFVBQVUsRUFBRWpELE1BQU0sQ0FBQzJDLE9BQU87UUFBRWhDLFVBQVUsRUFBRTtNQUFNLENBQUMsR0FBR3dCLEtBQ2xHLENBQUMsQ0FBQztJQUVKLENBQUMsQ0FBQyxPQUFPdkIsS0FBSyxFQUFFO01BQ2RDLE9BQU8sQ0FBQ0QsS0FBSyxDQUFDLHNCQUFzQixFQUFFQSxLQUFLLENBQUM7TUFDNUM7TUFDQXNDLEtBQUssQ0FBRSx3QkFBdUJ0QyxLQUFLLFlBQVlHLEtBQUssR0FBR0gsS0FBSyxDQUFDSSxPQUFPLEdBQUcsZUFBZ0IsRUFBQyxDQUFDO01BQ3pGbkMsYUFBYSxDQUFDb0QsSUFBSSxJQUFJQSxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDQyxLQUFLLEVBQUVDLENBQUMsS0FDdENBLENBQUMsS0FBS0wsU0FBUyxHQUFHO1FBQUUsR0FBR0ksS0FBSztRQUFFeEIsVUFBVSxFQUFFO01BQU0sQ0FBQyxHQUFHd0IsS0FDdEQsQ0FBQyxDQUFDO0lBQ0o7RUFDRixDQUFDO0VBRUQsTUFBTWdCLGNBQWMsR0FBSXBCLFNBQWlCLElBQUs7SUFDNUMsTUFBTUMsU0FBUyxHQUFHcEQsVUFBVSxDQUFDbUQsU0FBUyxDQUFDO0lBQ3ZDLElBQUksQ0FBQ0MsU0FBUyxFQUFFZ0IsU0FBUyxFQUFFO0lBRTNCLE1BQU1JLElBQUksR0FBR0MsUUFBUSxDQUFDQyxhQUFhLENBQUMsR0FBRyxDQUFDO0lBQ3hDRixJQUFJLENBQUNHLElBQUksR0FBR3ZCLFNBQVMsQ0FBQ2dCLFNBQVM7SUFDL0JJLElBQUksQ0FBQ0ksUUFBUSxHQUFJLGFBQVl4QixTQUFTLENBQUNqQyxJQUFJLENBQUNlLElBQUssRUFBQztJQUNsRHNDLElBQUksQ0FBQ0ssS0FBSyxDQUFDLENBQUM7RUFDZCxDQUFDO0VBRUQsTUFBTUMsZ0JBQWdCLEdBQUc5RSxVQUFVLENBQUNFLGdCQUFnQixDQUFDO0VBRXJELG9CQUNFUix1REFBQTtJQUFLcUYsU0FBUyxFQUFDLGVBQWU7SUFBQUMsUUFBQSxnQkFFNUJ4RixzREFBQTtNQUFRdUYsU0FBUyxFQUFDLFFBQVE7TUFBQUMsUUFBQSxlQUN4QnRGLHVEQUFBO1FBQUtxRixTQUFTLEVBQUMsZ0JBQWdCO1FBQUFDLFFBQUEsZ0JBQzdCeEYsc0RBQUE7VUFBR21GLElBQUksRUFBQyxHQUFHO1VBQUNJLFNBQVMsRUFBQyxNQUFNO1VBQUFDLFFBQUEsRUFBQztRQUU3QixDQUFHLENBQUMsZUFDSnRGLHVEQUFBO1VBQUtnQyxLQUFLLEVBQUU7WUFBRXVELE9BQU8sRUFBRSxNQUFNO1lBQUVDLFVBQVUsRUFBRSxRQUFRO1lBQUVDLEdBQUcsRUFBRTtVQUFrQixDQUFFO1VBQUFILFFBQUEsR0FDM0U1RSxPQUFPLENBQUNXLE1BQU0sR0FBRyxDQUFDLGlCQUNqQnZCLHNEQUFBO1lBQ0U0RixLQUFLLEVBQUU5RSxRQUFTO1lBQ2hCK0UsUUFBUSxFQUFHL0MsQ0FBQyxJQUFLL0IsV0FBVyxDQUFDK0IsQ0FBQyxDQUFDSSxNQUFNLENBQUMwQyxLQUFLLENBQUU7WUFDN0NMLFNBQVMsRUFBQyxhQUFhO1lBQ3ZCckQsS0FBSyxFQUFFO2NBQUU0RCxRQUFRLEVBQUU7WUFBUSxDQUFFO1lBQUFOLFFBQUEsRUFFNUI1RSxPQUFPLENBQUNrRCxHQUFHLENBQUNpQyxDQUFDLGlCQUNaL0Ysc0RBQUE7Y0FBbUI0RixLQUFLLEVBQUVHLENBQUMsQ0FBQ3ZFLEVBQUc7Y0FBQWdFLFFBQUEsRUFBRU8sQ0FBQyxDQUFDckQ7WUFBSSxHQUExQnFELENBQUMsQ0FBQ3ZFLEVBQWlDLENBQ2pEO1VBQUMsQ0FDSSxDQUNULGVBQ0R4QixzREFBQTtZQUNFZ0csT0FBTyxFQUFFQSxDQUFBLEtBQU03RSxjQUFjLENBQUMsQ0FBQ0QsV0FBVyxDQUFFO1lBQzVDcUUsU0FBUyxFQUFHLE9BQU1yRSxXQUFXLEdBQUcsZUFBZSxHQUFHLGFBQWMsU0FBUztZQUFBc0UsUUFBQSxFQUV4RXRFLFdBQVcsR0FBRyxnQkFBZ0IsR0FBRztVQUFlLENBQzNDLENBQUMsRUFDUkEsV0FBVyxpQkFDVmxCLHNEQUFBO1lBQ0VnRyxPQUFPLEVBQUVBLENBQUEsS0FBTTNFLG1CQUFtQixDQUFDLElBQUksQ0FBRTtZQUN6Q2tFLFNBQVMsRUFBQyx3QkFBd0I7WUFBQUMsUUFBQSxFQUNuQztVQUVELENBQVEsQ0FDVDtRQUFBLENBQ0UsQ0FBQztNQUFBLENBQ0g7SUFBQyxDQUNBLENBQUMsZUFHVHRGLHVEQUFBO01BQUtxRixTQUFTLEVBQUMsY0FBYztNQUFBQyxRQUFBLGdCQUUzQnRGLHVEQUFBO1FBQUtxRixTQUFTLEVBQUMsTUFBTTtRQUFDckQsS0FBSyxFQUFFO1VBQUUrRCxZQUFZLEVBQUU7UUFBa0IsQ0FBRTtRQUFBVCxRQUFBLGdCQUMvRHRGLHVEQUFBO1VBQUtxRixTQUFTLEVBQUMsYUFBYTtVQUFBQyxRQUFBLGdCQUMxQnhGLHNEQUFBO1lBQUl1RixTQUFTLEVBQUMsWUFBWTtZQUFBQyxRQUFBLEVBQUM7VUFBWSxDQUFJLENBQUMsZUFDNUN4RixzREFBQTtZQUFHdUYsU0FBUyxFQUFDLGVBQWU7WUFBQUMsUUFBQSxFQUFDO1VBQTBDLENBQUcsQ0FBQztRQUFBLENBQ3hFLENBQUMsZUFDTnRGLHVEQUFBO1VBQUtxRixTQUFTLEVBQUMsV0FBVztVQUFBQyxRQUFBLGdCQUN4QnRGLHVEQUFBO1lBQ0VxRixTQUFTLEVBQUMsa0JBQWtCO1lBQzVCVyxNQUFNLEVBQUUvQyxVQUFXO1lBQ25CZ0QsVUFBVSxFQUFFM0MsY0FBZTtZQUMzQjRDLFdBQVcsRUFBRTNDLGVBQWdCO1lBQzdCdUMsT0FBTyxFQUFFQSxDQUFBLEtBQU1mLFFBQVEsQ0FBQ29CLGNBQWMsQ0FBQyxZQUFZLENBQUMsRUFBRWhCLEtBQUssQ0FBQyxDQUFFO1lBQUFHLFFBQUEsZ0JBRTlEeEYsc0RBQUE7Y0FBS3VGLFNBQVMsRUFBQyxrQkFBa0I7Y0FBQUMsUUFBQSxFQUFDO1lBQUUsQ0FBSyxDQUFDLGVBQzFDeEYsc0RBQUE7Y0FBS3VGLFNBQVMsRUFBQyxrQkFBa0I7Y0FBQUMsUUFBQSxFQUFDO1lBRWxDLENBQUssQ0FBQyxlQUNOeEYsc0RBQUE7Y0FBS3VGLFNBQVMsRUFBQyxxQkFBcUI7Y0FBQUMsUUFBQSxFQUFDO1lBRXJDLENBQUssQ0FBQyxlQUNOeEYsc0RBQUE7Y0FDRXdCLEVBQUUsRUFBQyxZQUFZO2NBQ2Y4RSxJQUFJLEVBQUMsTUFBTTtjQUNYQyxNQUFNLEVBQUMseUJBQXlCO2NBQ2hDQyxRQUFRO2NBQ1JYLFFBQVEsRUFBRWhELGdCQUFpQjtjQUMzQlgsS0FBSyxFQUFFO2dCQUFFdUQsT0FBTyxFQUFFO2NBQU87WUFBRSxDQUM1QixDQUFDO1VBQUEsQ0FDQyxDQUFDLEVBRUx6RSxPQUFPLGlCQUNOZCx1REFBQTtZQUFLcUYsU0FBUyxFQUFDLGNBQWM7WUFBQ3JELEtBQUssRUFBRTtjQUFFdUUsU0FBUyxFQUFFO1lBQWtCLENBQUU7WUFBQWpCLFFBQUEsZ0JBQ3BFeEYsc0RBQUE7Y0FBS3VGLFNBQVMsRUFBQztZQUFpQixDQUFNLENBQUMsdUJBRXpDO1VBQUEsQ0FBSyxDQUNOO1FBQUEsQ0FDRSxDQUFDO01BQUEsQ0FDSCxDQUFDLEVBR0wvRSxVQUFVLENBQUNlLE1BQU0sR0FBRyxDQUFDLGlCQUNwQnJCLHVEQUFBO1FBQUtnQyxLQUFLLEVBQUU7VUFBRXVELE9BQU8sRUFBRSxNQUFNO1VBQUVFLEdBQUcsRUFBRTtRQUFrQixDQUFFO1FBQUFILFFBQUEsZ0JBRXREdEYsdURBQUE7VUFBS3FGLFNBQVMsRUFBQyxTQUFTO1VBQUNyRCxLQUFLLEVBQUU7WUFBRTRELFFBQVEsRUFBRTtVQUFRLENBQUU7VUFBQU4sUUFBQSxnQkFDcER0Rix1REFBQTtZQUFJcUYsU0FBUyxFQUFDLGVBQWU7WUFBQUMsUUFBQSxHQUFDLFNBQU8sRUFBQ2hGLFVBQVUsQ0FBQ2UsTUFBTSxFQUFDLEdBQUM7VUFBQSxDQUFJLENBQUMsZUFDOUR2QixzREFBQTtZQUFLa0MsS0FBSyxFQUFFO2NBQUV1RCxPQUFPLEVBQUUsTUFBTTtjQUFFaUIsYUFBYSxFQUFFLFFBQVE7Y0FBRWYsR0FBRyxFQUFFO1lBQWtCLENBQUU7WUFBQUgsUUFBQSxFQUM5RWhGLFVBQVUsQ0FBQ3NELEdBQUcsQ0FBQyxDQUFDQyxLQUFLLEVBQUU0QyxLQUFLLGtCQUMzQnpHLHVEQUFBO2NBRUU4RixPQUFPLEVBQUVBLENBQUEsS0FBTXJGLG1CQUFtQixDQUFDZ0csS0FBSyxDQUFFO2NBQzFDekUsS0FBSyxFQUFFO2dCQUNMMEUsT0FBTyxFQUFFLGlCQUFpQjtnQkFDMUJDLE1BQU0sRUFBRyxhQUFZRixLQUFLLEtBQUtqRyxnQkFBZ0IsR0FBRyxzQkFBc0IsR0FBRyxxQkFBc0IsRUFBQztnQkFDbEdvRyxZQUFZLEVBQUUsa0JBQWtCO2dCQUNoQ0MsTUFBTSxFQUFFLFNBQVM7Z0JBQ2pCQyxVQUFVLEVBQUVMLEtBQUssS0FBS2pHLGdCQUFnQixHQUFHLHFCQUFxQixHQUFHLG1CQUFtQjtnQkFDcEZ1RyxVQUFVLEVBQUU7Y0FDZCxDQUFFO2NBQUF6QixRQUFBLGdCQUVGeEYsc0RBQUE7Z0JBQUtrQyxLQUFLLEVBQUU7a0JBQUVnRixVQUFVLEVBQUUsS0FBSztrQkFBRUMsUUFBUSxFQUFFLHFCQUFxQjtrQkFBRWxCLFlBQVksRUFBRTtnQkFBa0IsQ0FBRTtnQkFBQVQsUUFBQSxFQUNqR3pCLEtBQUssQ0FBQ3BDLElBQUksQ0FBQ2U7Y0FBSSxDQUNiLENBQUMsZUFDTjFDLHNEQUFBO2dCQUFLa0MsS0FBSyxFQUFFO2tCQUFFaUYsUUFBUSxFQUFFLHFCQUFxQjtrQkFBRUMsS0FBSyxFQUFFckQsS0FBSyxDQUFDdkIsS0FBSyxHQUFHLG9CQUFvQixHQUFHO2dCQUF3QixDQUFFO2dCQUFBZ0QsUUFBQSxFQUNsSHpCLEtBQUssQ0FBQ3ZCLEtBQUssR0FBSSxVQUFTdUIsS0FBSyxDQUFDdkIsS0FBTSxFQUFDLEdBQUksR0FBRXVCLEtBQUssQ0FBQ2hDLFVBQVUsQ0FBQ1IsTUFBTztjQUFrQixDQUNuRixDQUFDLGVBQ05yQix1REFBQTtnQkFBS2dDLEtBQUssRUFBRTtrQkFBRXVFLFNBQVMsRUFBRSxpQkFBaUI7a0JBQUVoQixPQUFPLEVBQUUsTUFBTTtrQkFBRUUsR0FBRyxFQUFFO2dCQUFrQixDQUFFO2dCQUFBSCxRQUFBLGdCQUNwRnhGLHNEQUFBO2tCQUNFZ0csT0FBTyxFQUFHbEQsQ0FBQyxJQUFLO29CQUNkQSxDQUFDLENBQUNPLGVBQWUsQ0FBQyxDQUFDO29CQUNuQkssY0FBYyxDQUFDaUQsS0FBSyxDQUFDO2tCQUN2QixDQUFFO2tCQUNGcEIsU0FBUyxFQUFDLHdCQUF3QjtrQkFDbEM4QixRQUFRLEVBQUV0RCxLQUFLLENBQUN4QixVQUFVLElBQUksQ0FBQyxDQUFDd0IsS0FBSyxDQUFDdkIsS0FBTTtrQkFDNUNOLEtBQUssRUFBRTtvQkFBRW9GLElBQUksRUFBRTtrQkFBRSxDQUFFO2tCQUFBOUIsUUFBQSxFQUVsQnpCLEtBQUssQ0FBQ3hCLFVBQVUsR0FBRyxlQUFlLEdBQUc7Z0JBQVUsQ0FDMUMsQ0FBQyxFQUNSd0IsS0FBSyxDQUFDYSxTQUFTLGlCQUNkNUUsc0RBQUE7a0JBQ0VnRyxPQUFPLEVBQUdsRCxDQUFDLElBQUs7b0JBQ2RBLENBQUMsQ0FBQ08sZUFBZSxDQUFDLENBQUM7b0JBQ25CMEIsY0FBYyxDQUFDNEIsS0FBSyxDQUFDO2tCQUN2QixDQUFFO2tCQUNGcEIsU0FBUyxFQUFDLDBCQUEwQjtrQkFBQUMsUUFBQSxFQUNyQztnQkFFRCxDQUFRLENBQ1Q7Y0FBQSxDQUNFLENBQUM7WUFBQSxHQXhDRG1CLEtBeUNGLENBQ047VUFBQyxDQUNDLENBQUM7UUFBQSxDQUNILENBQUMsZUFHTjNHLHNEQUFBO1VBQUtrQyxLQUFLLEVBQUU7WUFBRW9GLElBQUksRUFBRTtVQUFFLENBQUU7VUFBQTlCLFFBQUEsRUFDckJGLGdCQUFnQixpQkFDZnBGLHVEQUFBO1lBQUtxRixTQUFTLEVBQUMsTUFBTTtZQUFBQyxRQUFBLGdCQUNuQnRGLHVEQUFBO2NBQUtxRixTQUFTLEVBQUMsYUFBYTtjQUFBQyxRQUFBLGdCQUMxQnhGLHNEQUFBO2dCQUFJdUYsU0FBUyxFQUFDLFlBQVk7Z0JBQUFDLFFBQUEsRUFBRUYsZ0JBQWdCLENBQUMzRCxJQUFJLENBQUNlO2NBQUksQ0FBSyxDQUFDLGVBQzVEMUMsc0RBQUE7Z0JBQUd1RixTQUFTLEVBQUMsZUFBZTtnQkFBQUMsUUFBQSxFQUN6QkYsZ0JBQWdCLENBQUM5QyxLQUFLLEdBQUcsbUJBQW1CLEdBQUksU0FBUThDLGdCQUFnQixDQUFDdkQsVUFBVSxDQUFDUixNQUFPO2NBQWlCLENBQzVHLENBQUM7WUFBQSxDQUNELENBQUMsZUFDTnZCLHNEQUFBO2NBQUt1RixTQUFTLEVBQUMsV0FBVztjQUFBQyxRQUFBLEVBQ3ZCRixnQkFBZ0IsQ0FBQzlDLEtBQUssZ0JBQ3JCeEMsc0RBQUE7Z0JBQUt1RixTQUFTLEVBQUMsbUJBQW1CO2dCQUFBQyxRQUFBLGVBQ2hDdEYsdURBQUE7a0JBQUFzRixRQUFBLGdCQUNFeEYsc0RBQUE7b0JBQUF3RixRQUFBLEVBQVE7a0JBQWdCLENBQVEsQ0FBQyxlQUNqQ3RGLHVEQUFBO29CQUFHZ0MsS0FBSyxFQUFFO3NCQUFFcUYsTUFBTSxFQUFFLEdBQUc7c0JBQUVkLFNBQVMsRUFBRTtvQkFBa0IsQ0FBRTtvQkFBQWpCLFFBQUEsR0FBQywrQkFDMUIsRUFBQ0YsZ0JBQWdCLENBQUM5QyxLQUFLO2tCQUFBLENBQ25ELENBQUM7Z0JBQUEsQ0FDRDtjQUFDLENBQ0gsQ0FBQyxHQUNKOEMsZ0JBQWdCLENBQUN2RCxVQUFVLENBQUNSLE1BQU0sR0FBRyxDQUFDLGdCQUN4Q3JCLHVEQUFBO2dCQUFBc0YsUUFBQSxnQkFDRXhGLHNEQUFBO2tCQUFJa0MsS0FBSyxFQUFFO29CQUFFK0QsWUFBWSxFQUFFLGlCQUFpQjtvQkFBRWtCLFFBQVEsRUFBRTtrQkFBc0IsQ0FBRTtrQkFBQTNCLFFBQUEsRUFBQztnQkFFakYsQ0FBSSxDQUFDLGVBQ0x4RixzREFBQTtrQkFBS2tDLEtBQUssRUFBRTtvQkFBRXVELE9BQU8sRUFBRSxNQUFNO29CQUFFaUIsYUFBYSxFQUFFLFFBQVE7b0JBQUVmLEdBQUcsRUFBRTtrQkFBa0IsQ0FBRTtrQkFBQUgsUUFBQSxFQUM5RUYsZ0JBQWdCLENBQUN2RCxVQUFVLENBQUMrQixHQUFHLENBQUMwRCxTQUFTLGlCQUN4Q3RILHVEQUFBO29CQUVFZ0MsS0FBSyxFQUFFO3NCQUNMMEUsT0FBTyxFQUFFLGlCQUFpQjtzQkFDMUJDLE1BQU0sRUFBRSwrQkFBK0I7c0JBQ3ZDQyxZQUFZLEVBQUUsa0JBQWtCO3NCQUNoQ0UsVUFBVSxFQUFFLHFCQUFxQjtzQkFDakN2QixPQUFPLEVBQUUsTUFBTTtzQkFDZkMsVUFBVSxFQUFFLFFBQVE7c0JBQ3BCK0IsY0FBYyxFQUFFO29CQUNsQixDQUFFO29CQUFBakMsUUFBQSxnQkFFRnRGLHVEQUFBO3NCQUFLZ0MsS0FBSyxFQUFFO3dCQUFFdUQsT0FBTyxFQUFFLE1BQU07d0JBQUVDLFVBQVUsRUFBRSxRQUFRO3dCQUFFQyxHQUFHLEVBQUU7c0JBQWtCLENBQUU7c0JBQUFILFFBQUEsZ0JBQzVFeEYsc0RBQUE7d0JBQ0VzRyxJQUFJLEVBQUMsVUFBVTt3QkFDZm9CLE9BQU8sRUFBRXBDLGdCQUFnQixDQUFDekQsUUFBUSxDQUFDMkYsU0FBUyxDQUFDaEcsRUFBRSxDQUFDLElBQUksS0FBTTt3QkFDMURxRSxRQUFRLEVBQUcvQyxDQUFDLElBQUs7MEJBQ2ZyQyxhQUFhLENBQUNvRCxJQUFJLElBQUlBLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLEtBQUssRUFBRUMsQ0FBQyxLQUN0Q0EsQ0FBQyxLQUFLdEQsZ0JBQWdCLEdBQUc7NEJBQ3ZCLEdBQUdxRCxLQUFLOzRCQUNSbEMsUUFBUSxFQUFFOzhCQUNSLEdBQUdrQyxLQUFLLENBQUNsQyxRQUFROzhCQUNqQixDQUFDMkYsU0FBUyxDQUFDaEcsRUFBRSxHQUFHc0IsQ0FBQyxDQUFDSSxNQUFNLENBQUN3RTs0QkFDM0I7MEJBQ0YsQ0FBQyxHQUFHM0QsS0FDTixDQUFDLENBQUM7d0JBQ0o7c0JBQUUsQ0FDSCxDQUFDLGVBQ0Y3RCx1REFBQTt3QkFBQXNGLFFBQUEsZ0JBQ0V0Rix1REFBQTswQkFBS2dDLEtBQUssRUFBRTs0QkFBRWdGLFVBQVUsRUFBRSxLQUFLOzRCQUFFQyxRQUFRLEVBQUU7MEJBQXNCLENBQUU7MEJBQUEzQixRQUFBLEdBQ2hFZ0MsU0FBUyxDQUFDRyxJQUFJLEVBQUMsSUFBRSxFQUFDSCxTQUFTLENBQUNJLElBQUk7d0JBQUEsQ0FDOUIsQ0FBQyxlQUNOMUgsdURBQUE7MEJBQUtnQyxLQUFLLEVBQUU7NEJBQUVpRixRQUFRLEVBQUUscUJBQXFCOzRCQUFFQyxLQUFLLEVBQUU7MEJBQXdCLENBQUU7MEJBQUE1QixRQUFBLEdBQUMsY0FDbkUsRUFBQ3FDLElBQUksQ0FBQ0MsS0FBSyxDQUFDTixTQUFTLENBQUNPLFVBQVUsR0FBRyxHQUFHLENBQUMsRUFBQyxHQUN0RDt3QkFBQSxDQUFLLENBQUM7c0JBQUEsQ0FDSCxDQUFDO29CQUFBLENBQ0gsQ0FBQyxlQUNON0gsdURBQUE7c0JBQ0UwRixLQUFLLEVBQUVOLGdCQUFnQixDQUFDeEQsT0FBTyxDQUFDMEYsU0FBUyxDQUFDaEcsRUFBRSxDQUFDLEVBQUVVLEtBQUssSUFBSSxLQUFNO3NCQUM5RDJELFFBQVEsRUFBRy9DLENBQUMsSUFBSzt3QkFDZnJDLGFBQWEsQ0FBQ29ELElBQUksSUFBSUEsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsS0FBSyxFQUFFQyxDQUFDLEtBQ3RDQSxDQUFDLEtBQUt0RCxnQkFBZ0IsR0FBRzswQkFDdkIsR0FBR3FELEtBQUs7MEJBQ1JqQyxPQUFPLEVBQUU7NEJBQ1AsR0FBR2lDLEtBQUssQ0FBQ2pDLE9BQU87NEJBQ2hCLENBQUMwRixTQUFTLENBQUNoRyxFQUFFLEdBQUc7OEJBQ2QsR0FBR3VDLEtBQUssQ0FBQ2pDLE9BQU8sQ0FBQzBGLFNBQVMsQ0FBQ2hHLEVBQUUsQ0FBQzs4QkFDOUJVLEtBQUssRUFBRVksQ0FBQyxDQUFDSSxNQUFNLENBQUMwQzs0QkFDbEI7MEJBQ0Y7d0JBQ0YsQ0FBQyxHQUFHN0IsS0FDTixDQUFDLENBQUM7c0JBQ0osQ0FBRTtzQkFDRndCLFNBQVMsRUFBQyxhQUFhO3NCQUN2QnJELEtBQUssRUFBRTt3QkFBRTRELFFBQVEsRUFBRTtzQkFBUSxDQUFFO3NCQUFBTixRQUFBLGdCQUU3QnhGLHNEQUFBO3dCQUFRNEYsS0FBSyxFQUFDLEtBQUs7d0JBQUFKLFFBQUEsRUFBQztzQkFBUyxDQUFRLENBQUMsZUFDdEN4RixzREFBQTt3QkFBUTRGLEtBQUssRUFBQyxNQUFNO3dCQUFBSixRQUFBLEVBQUM7c0JBQUksQ0FBUSxDQUFDLGVBQ2xDeEYsc0RBQUE7d0JBQVE0RixLQUFLLEVBQUMsVUFBVTt3QkFBQUosUUFBQSxFQUFDO3NCQUFRLENBQVEsQ0FBQyxlQUMxQ3hGLHNEQUFBO3dCQUFRNEYsS0FBSyxFQUFDLE9BQU87d0JBQUFKLFFBQUEsRUFBQztzQkFBSyxDQUFRLENBQUM7b0JBQUEsQ0FDOUIsQ0FBQztrQkFBQSxHQTNESmdDLFNBQVMsQ0FBQ2hHLEVBNERaLENBQ047Z0JBQUMsQ0FDQyxDQUFDLGVBRU50Qix1REFBQTtrQkFBS3FGLFNBQVMsRUFBQyxhQUFhO2tCQUFDckQsS0FBSyxFQUFFO29CQUFFdUUsU0FBUyxFQUFFO2tCQUFrQixDQUFFO2tCQUFBakIsUUFBQSxnQkFDbkV4RixzREFBQTtvQkFDRWdHLE9BQU8sRUFBRUEsQ0FBQSxLQUFNdEMsY0FBYyxDQUFDaEQsZ0JBQWdCLENBQUU7b0JBQ2hENkUsU0FBUyxFQUFDLHdCQUF3QjtvQkFDbEM4QixRQUFRLEVBQUUvQixnQkFBZ0IsQ0FBQy9DLFVBQVc7b0JBQUFpRCxRQUFBLEVBRXJDRixnQkFBZ0IsQ0FBQy9DLFVBQVUsZ0JBQzFCckMsdURBQUEsQ0FBQUUsdURBQUE7c0JBQUFvRixRQUFBLGdCQUNFeEYsc0RBQUE7d0JBQUt1RixTQUFTLEVBQUMsaUJBQWlCO3dCQUFDckQsS0FBSyxFQUFFOzBCQUFFOEYsS0FBSyxFQUFFLE1BQU07MEJBQUVDLE1BQU0sRUFBRTt3QkFBTztzQkFBRSxDQUFNLENBQUMsaUJBRW5GO29CQUFBLENBQUUsQ0FBQyxnQkFFSGpJLHNEQUFBLENBQUFJLHVEQUFBO3NCQUFBb0YsUUFBQSxFQUFFO29CQUFvQixDQUFFO2tCQUN6QixDQUNLLENBQUMsRUFDUkYsZ0JBQWdCLENBQUNWLFNBQVMsaUJBQ3pCNUUsc0RBQUE7b0JBQ0VnRyxPQUFPLEVBQUVBLENBQUEsS0FBTWpCLGNBQWMsQ0FBQ3JFLGdCQUFnQixDQUFFO29CQUNoRDZFLFNBQVMsRUFBQywwQkFBMEI7b0JBQUFDLFFBQUEsRUFDckM7a0JBRUQsQ0FBUSxDQUNUO2dCQUFBLENBQ0UsQ0FBQyxFQUdMRixnQkFBZ0IsQ0FBQ1QsVUFBVSxpQkFDMUIzRSx1REFBQTtrQkFBS2dDLEtBQUssRUFBRTtvQkFBRXVFLFNBQVMsRUFBRSxpQkFBaUI7b0JBQUVHLE9BQU8sRUFBRSxpQkFBaUI7b0JBQUVJLFVBQVUsRUFBRSxxQkFBcUI7b0JBQUVGLFlBQVksRUFBRSxrQkFBa0I7b0JBQUVELE1BQU0sRUFBRTtrQkFBZ0MsQ0FBRTtrQkFBQXJCLFFBQUEsZ0JBQ3JMeEYsc0RBQUE7b0JBQUlrQyxLQUFLLEVBQUU7c0JBQUUrRCxZQUFZLEVBQUUsaUJBQWlCO3NCQUFFa0IsUUFBUSxFQUFFLHFCQUFxQjtzQkFBRUMsS0FBSyxFQUFFO29CQUF1QixDQUFFO29CQUFBNUIsUUFBQSxFQUFDO2tCQUVoSCxDQUFJLENBQUMsZUFDTHhGLHNEQUFBO29CQUFLa0MsS0FBSyxFQUFFO3NCQUFFdUQsT0FBTyxFQUFFLE1BQU07c0JBQUVnQyxjQUFjLEVBQUUsUUFBUTtzQkFBRS9CLFVBQVUsRUFBRSxRQUFRO3NCQUFFa0IsT0FBTyxFQUFFLGlCQUFpQjtzQkFBRUksVUFBVSxFQUFFLG1CQUFtQjtzQkFBRUYsWUFBWSxFQUFFLGtCQUFrQjtzQkFBRUQsTUFBTSxFQUFFO29CQUFnQyxDQUFFO29CQUFBckIsUUFBQSxFQUNyTkYsZ0JBQWdCLENBQUMzRCxJQUFJLENBQUMyRSxJQUFJLENBQUM0QixVQUFVLENBQUMsUUFBUSxDQUFDLGdCQUM5Q2xJLHNEQUFBO3NCQUNFbUksR0FBRyxFQUFFN0MsZ0JBQWdCLENBQUNULFVBQVc7c0JBQ2pDdUQsR0FBRyxFQUFDLG1CQUFtQjtzQkFDdkJsRyxLQUFLLEVBQUU7d0JBQ0xtRyxRQUFRLEVBQUUsTUFBTTt3QkFDaEJDLFNBQVMsRUFBRSxPQUFPO3dCQUNsQnhCLFlBQVksRUFBRSxrQkFBa0I7d0JBQ2hDeUIsU0FBUyxFQUFFO3NCQUNiO29CQUFFLENBQ0gsQ0FBQyxnQkFFRnJJLHVEQUFBO3NCQUFLZ0MsS0FBSyxFQUFFO3dCQUFFc0csU0FBUyxFQUFFLFFBQVE7d0JBQUU1QixPQUFPLEVBQUUsaUJBQWlCO3dCQUFFUSxLQUFLLEVBQUU7c0JBQXdCLENBQUU7c0JBQUE1QixRQUFBLGdCQUM5RnhGLHNEQUFBO3dCQUFLa0MsS0FBSyxFQUFFOzBCQUFFaUYsUUFBUSxFQUFFLHNCQUFzQjswQkFBRWxCLFlBQVksRUFBRTt3QkFBa0IsQ0FBRTt3QkFBQVQsUUFBQSxFQUFDO3NCQUFFLENBQUssQ0FBQyxlQUMzRnhGLHNEQUFBO3dCQUFBd0YsUUFBQSxFQUFHO3NCQUEwQixDQUFHLENBQUMsZUFDakN4RixzREFBQTt3QkFBR2tDLEtBQUssRUFBRTswQkFBRWlGLFFBQVEsRUFBRTt3QkFBc0IsQ0FBRTt3QkFBQTNCLFFBQUEsRUFBQztzQkFBcUMsQ0FBRyxDQUFDO29CQUFBLENBQ3JGO2tCQUNOLENBQ0UsQ0FBQztnQkFBQSxDQUNILENBQ047Y0FBQSxDQUNFLENBQUMsZ0JBRU54RixzREFBQTtnQkFBS3VGLFNBQVMsRUFBQyxxQkFBcUI7Z0JBQUFDLFFBQUEsZUFDbEN0Rix1REFBQTtrQkFBQXNGLFFBQUEsZ0JBQ0V4RixzREFBQTtvQkFBQXdGLFFBQUEsRUFBUTtrQkFBa0MsQ0FBUSxDQUFDLGVBQ25EeEYsc0RBQUE7b0JBQUdrQyxLQUFLLEVBQUU7c0JBQUVxRixNQUFNLEVBQUUsR0FBRztzQkFBRWQsU0FBUyxFQUFFO29CQUFrQixDQUFFO29CQUFBakIsUUFBQSxFQUFDO2tCQUV6RCxDQUFHLENBQUM7Z0JBQUEsQ0FDRDtjQUFDLENBQ0g7WUFDTixDQUNFLENBQUM7VUFBQSxDQUNIO1FBQ04sQ0FDRSxDQUFDO01BQUEsQ0FDSCxDQUNOLEVBR0FwRSxnQkFBZ0IsSUFBSUYsV0FBVyxpQkFDOUJsQixzREFBQTtRQUFLa0MsS0FBSyxFQUFFO1VBQ1Z1RyxRQUFRLEVBQUUsT0FBTztVQUNqQkMsR0FBRyxFQUFFLENBQUM7VUFDTkMsSUFBSSxFQUFFLENBQUM7VUFDUEMsS0FBSyxFQUFFLENBQUM7VUFDUkMsTUFBTSxFQUFFLENBQUM7VUFDVDdCLFVBQVUsRUFBRSxvQkFBb0I7VUFDaEN2QixPQUFPLEVBQUUsTUFBTTtVQUNmQyxVQUFVLEVBQUUsUUFBUTtVQUNwQitCLGNBQWMsRUFBRSxRQUFRO1VBQ3hCcUIsTUFBTSxFQUFFO1FBQ1YsQ0FBRTtRQUFBdEQsUUFBQSxlQUNBdEYsdURBQUE7VUFBS3FGLFNBQVMsRUFBQyxNQUFNO1VBQUNyRCxLQUFLLEVBQUU7WUFBRTRELFFBQVEsRUFBRSxPQUFPO1lBQUV1QyxRQUFRLEVBQUUsTUFBTTtZQUFFQyxTQUFTLEVBQUUsTUFBTTtZQUFFUyxRQUFRLEVBQUU7VUFBTyxDQUFFO1VBQUF2RCxRQUFBLGdCQUN4R3RGLHVEQUFBO1lBQUtxRixTQUFTLEVBQUMsYUFBYTtZQUFBQyxRQUFBLGdCQUMxQnhGLHNEQUFBO2NBQUl1RixTQUFTLEVBQUMsWUFBWTtjQUFBQyxRQUFBLEVBQUM7WUFBYyxDQUFJLENBQUMsZUFDOUN4RixzREFBQTtjQUFHdUYsU0FBUyxFQUFDLGVBQWU7Y0FBQUMsUUFBQSxFQUFDO1lBQW1DLENBQUcsQ0FBQztVQUFBLENBQ2pFLENBQUMsZUFDTnhGLHNEQUFBO1lBQUt1RixTQUFTLEVBQUMsV0FBVztZQUFBQyxRQUFBLGVBQ3hCdEYsdURBQUE7Y0FBS3FGLFNBQVMsRUFBQyxrQkFBa0I7Y0FBQUMsUUFBQSxnQkFDL0J4RixzREFBQTtnQkFBQXdGLFFBQUEsRUFBUTtjQUFXLENBQVEsQ0FBQyxlQUM1QnhGLHNEQUFBO2dCQUFHa0MsS0FBSyxFQUFFO2tCQUFFcUYsTUFBTSxFQUFFLENBQUM7a0JBQUVkLFNBQVMsRUFBRTtnQkFBa0IsQ0FBRTtnQkFBQWpCLFFBQUEsRUFBQztjQUV2RCxDQUFHLENBQUM7WUFBQSxDQUNEO1VBQUMsQ0FDSCxDQUFDLGVBQ054RixzREFBQTtZQUFLdUYsU0FBUyxFQUFDLGFBQWE7WUFBQUMsUUFBQSxlQUMxQnhGLHNEQUFBO2NBQ0VnRyxPQUFPLEVBQUVBLENBQUEsS0FBTTNFLG1CQUFtQixDQUFDLEtBQUssQ0FBRTtjQUMxQ2tFLFNBQVMsRUFBQyxlQUFlO2NBQUFDLFFBQUEsRUFDMUI7WUFFRCxDQUFRO1VBQUMsQ0FDTixDQUFDO1FBQUEsQ0FDSDtNQUFDLENBQ0gsQ0FDTjtJQUFBLENBQ0UsQ0FBQztFQUFBLENBQ0gsQ0FBQztBQUVWLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uL3BhZ2VzL2luZGV4LnRzeD8wN2ZmIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENsZWFuU2hhcmUgUHJvIC0gTW9kZXJuIFVJIEltcGxlbWVudGF0aW9uXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB0eXBlIHtcbiAgRGV0ZWN0aW9uLFxuICBSZWRhY3Rpb25BY3Rpb24sXG4gIFJlZGFjdGlvblN0eWxlLFxuICBQcmVzZXQsXG4gIERldGVjdGlvbktpbmRcbn0gZnJvbSAnQGNsZWFuc2hhcmUvY29yZS1kZXRlY3QnO1xuaW1wb3J0IHsgYW5hbHl6ZURvY3VtZW50LCBhcHBseVJlZGFjdGlvbnMsIGxpc3RQcmVzZXRzLCBzYXZlUHJlc2V0LCBkZWxldGVQcmVzZXQgfSBmcm9tICdAY2xlYW5zaGFyZS9jb3JlLWRldGVjdCc7XG5cbmludGVyZmFjZSBGaWxlU3RhdGUge1xuICBmaWxlOiBGaWxlO1xuICBkZXRlY3Rpb25zOiBEZXRlY3Rpb25bXTtcbiAgc2VsZWN0ZWQ6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+O1xuICBhY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCB7IHN0eWxlOiBSZWRhY3Rpb25TdHlsZTsgbGFiZWxUZXh0Pzogc3RyaW5nIH0+O1xuICBwYWdlczogbnVtYmVyO1xuICBwYWdlSW1hZ2VzOiBzdHJpbmdbXTtcbiAgY3VycmVudFBhZ2U6IG51bWJlcjtcbiAgb3V0cHV0VXJpPzogc3RyaW5nO1xuICBwcmV2aWV3VXJpPzogc3RyaW5nOyAvLyBQcmV2aWV3IG9mIHNhbml0aXplZCBmaWxlXG4gIHByb2Nlc3Npbmc/OiBib29sZWFuO1xuICBlcnJvcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2xlYW5TaGFyZVBybygpIHtcbiAgY29uc3QgW2ZpbGVzLCBzZXRGaWxlc10gPSB1c2VTdGF0ZTxGaWxlW10+KFtdKTtcbiAgY29uc3QgW2ZpbGVTdGF0ZXMsIHNldEZpbGVTdGF0ZXNdID0gdXNlU3RhdGU8RmlsZVN0YXRlW10+KFtdKTtcbiAgY29uc3QgW2N1cnJlbnRGaWxlSW5kZXgsIHNldEN1cnJlbnRGaWxlSW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtwcmVzZXRzLCBzZXRQcmVzZXRzXSA9IHVzZVN0YXRlPFByZXNldFtdPihbXSk7XG4gIGNvbnN0IFtwcmVzZXRJZCwgc2V0UHJlc2V0SWRdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Byb1VubG9ja2VkLCBzZXRQcm9VbmxvY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93UHJlc2V0RWRpdG9yLCBzZXRTaG93UHJlc2V0RWRpdG9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBMb2FkIHByZXNldHMgb24gbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBwcyA9IGxpc3RQcmVzZXRzKCk7XG4gICAgc2V0UHJlc2V0cyhwcyk7XG4gICAgaWYgKHBzLmxlbmd0aCA+IDApIHtcbiAgICAgIHNldFByZXNldElkKHBzWzBdLmlkKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBQcm9jZXNzIGZpbGVzIHdoZW4gdGhleSBjaGFuZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgXG4gICAgYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0ZpbGVzKCkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIGNvbnN0IG5ld1N0YXRlczogRmlsZVN0YXRlW10gPSBbXTtcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYW5hbHl6ZURvY3VtZW50KGZpbGUsIHsgcHJlc2V0SWQgfSk7XG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWQ6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+ID0ge307XG4gICAgICAgICAgY29uc3QgYWN0aW9uczogUmVjb3JkPHN0cmluZywgeyBzdHlsZTogUmVkYWN0aW9uU3R5bGU7IGxhYmVsVGV4dD86IHN0cmluZyB9PiA9IHt9O1xuICAgICAgICAgIFxuICAgICAgICAgIHJlc3VsdC5kZXRlY3Rpb25zLmZvckVhY2goZGV0ID0+IHtcbiAgICAgICAgICAgIHNlbGVjdGVkW2RldC5pZF0gPSB0cnVlO1xuICAgICAgICAgICAgYWN0aW9uc1tkZXQuaWRdID0geyBzdHlsZTogJ0JPWCcgfTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIG5ld1N0YXRlcy5wdXNoKHtcbiAgICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgICBkZXRlY3Rpb25zOiByZXN1bHQuZGV0ZWN0aW9ucyxcbiAgICAgICAgICAgIHNlbGVjdGVkLFxuICAgICAgICAgICAgYWN0aW9ucyxcbiAgICAgICAgICAgIHBhZ2VzOiByZXN1bHQucGFnZXMgfHwgMSxcbiAgICAgICAgICAgIHBhZ2VJbWFnZXM6IFtdLFxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IDAsXG4gICAgICAgICAgICBwcm9jZXNzaW5nOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwcm9jZXNzIGZpbGU6JywgZmlsZS5uYW1lLCBlcnJvcik7XG4gICAgICAgICAgLy8gQWRkIHRoZSBmaWxlIHdpdGggZXJyb3Igc3RhdGVcbiAgICAgICAgICBuZXdTdGF0ZXMucHVzaCh7XG4gICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgZGV0ZWN0aW9uczogW10sXG4gICAgICAgICAgICBzZWxlY3RlZDoge30sXG4gICAgICAgICAgICBhY3Rpb25zOiB7fSxcbiAgICAgICAgICAgIHBhZ2VzOiAxLFxuICAgICAgICAgICAgcGFnZUltYWdlczogW10sXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogMCxcbiAgICAgICAgICAgIHByb2Nlc3Npbmc6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0RmlsZVN0YXRlcyhuZXdTdGF0ZXMpO1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICAgIFxuICAgIHByb2Nlc3NGaWxlcygpO1xuICB9LCBbZmlsZXMsIHByZXNldElkXSk7XG5cbiAgY29uc3QgaGFuZGxlRmlsZUNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIGNvbnN0IHNlbGVjdGVkRmlsZXMgPSBBcnJheS5mcm9tKGUudGFyZ2V0LmZpbGVzIHx8IFtdKTtcbiAgICBzZXRGaWxlcyhzZWxlY3RlZEZpbGVzKTtcbiAgICBzZXRDdXJyZW50RmlsZUluZGV4KDApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURyb3AgPSAoZTogUmVhY3QuRHJhZ0V2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgZHJvcHBlZEZpbGVzID0gQXJyYXkuZnJvbShlLmRhdGFUcmFuc2Zlci5maWxlcyk7XG4gICAgc2V0RmlsZXMoZHJvcHBlZEZpbGVzKTtcbiAgICBzZXRDdXJyZW50RmlsZUluZGV4KDApO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURyYWdPdmVyID0gKGU6IFJlYWN0LkRyYWdFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZURyYWdMZWF2ZSA9IChlOiBSZWFjdC5EcmFnRXZlbnQpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTYW5pdGl6ZSA9IGFzeW5jIChmaWxlSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IGZpbGVTdGF0ZSA9IGZpbGVTdGF0ZXNbZmlsZUluZGV4XTtcbiAgICBpZiAoIWZpbGVTdGF0ZSkgcmV0dXJuO1xuXG4gICAgLy8gVXBkYXRlIHByb2Nlc3Npbmcgc3RhdGVcbiAgICBzZXRGaWxlU3RhdGVzKHByZXYgPT4gcHJldi5tYXAoKHN0YXRlLCBpKSA9PiBcbiAgICAgIGkgPT09IGZpbGVJbmRleCA/IHsgLi4uc3RhdGUsIHByb2Nlc3Npbmc6IHRydWUgfSA6IHN0YXRlXG4gICAgKSk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gUmUtYW5hbHl6ZSB0aGUgZmlsZSB0byBlbnN1cmUgbGFzdFJlc3VsdCBpcyBzZXQgY29ycmVjdGx5XG4gICAgICBhd2FpdCBhbmFseXplRG9jdW1lbnQoZmlsZVN0YXRlLmZpbGUsIHsgcHJlc2V0SWQgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlZGFjdGlvbkFjdGlvbnM6IFJlZGFjdGlvbkFjdGlvbltdID0gZmlsZVN0YXRlLmRldGVjdGlvbnNcbiAgICAgICAgLmZpbHRlcihkZXQgPT4gZmlsZVN0YXRlLnNlbGVjdGVkW2RldC5pZF0pXG4gICAgICAgIC5tYXAoZGV0ID0+ICh7XG4gICAgICAgICAgaWQ6IGRldC5pZCxcbiAgICAgICAgICBhY3Rpb246ICdSRURBQ1QnIGFzIGNvbnN0LFxuICAgICAgICAgIHN0eWxlOiBmaWxlU3RhdGUuYWN0aW9uc1tkZXQuaWRdPy5zdHlsZSB8fCAnQk9YJyxcbiAgICAgICAgICBsYWJlbFRleHQ6IGZpbGVTdGF0ZS5hY3Rpb25zW2RldC5pZF0/LmxhYmVsVGV4dFxuICAgICAgICB9KSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFwcGx5UmVkYWN0aW9ucyhmaWxlU3RhdGUuZmlsZSwgcmVkYWN0aW9uQWN0aW9ucywge1xuICAgICAgICBzdHlsZTogJ0JPWCdcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb252ZXJ0IGRhdGEgVVJJIHRvIGJsb2IgZm9yIGRvd25sb2FkXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHJlc3VsdC5maWxlVXJpKTtcbiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG4gICAgICAvLyBVcGRhdGUgZmlsZSBzdGF0ZSB3aXRoIHJlc3VsdFxuICAgICAgc2V0RmlsZVN0YXRlcyhwcmV2ID0+IHByZXYubWFwKChzdGF0ZSwgaSkgPT4gXG4gICAgICAgIGkgPT09IGZpbGVJbmRleCA/IHsgLi4uc3RhdGUsIG91dHB1dFVyaTogdXJsLCBwcmV2aWV3VXJpOiByZXN1bHQuZmlsZVVyaSwgcHJvY2Vzc2luZzogZmFsc2UgfSA6IHN0YXRlXG4gICAgICApKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTYW5pdGl6YXRpb24gZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIC8vIFNob3cgZXJyb3IgdG8gdXNlclxuICAgICAgYWxlcnQoYFNhbml0aXphdGlvbiBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICBzZXRGaWxlU3RhdGVzKHByZXYgPT4gcHJldi5tYXAoKHN0YXRlLCBpKSA9PiBcbiAgICAgICAgaSA9PT0gZmlsZUluZGV4ID8geyAuLi5zdGF0ZSwgcHJvY2Vzc2luZzogZmFsc2UgfSA6IHN0YXRlXG4gICAgICApKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRG93bmxvYWQgPSAoZmlsZUluZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBmaWxlU3RhdGUgPSBmaWxlU3RhdGVzW2ZpbGVJbmRleF07XG4gICAgaWYgKCFmaWxlU3RhdGU/Lm91dHB1dFVyaSkgcmV0dXJuO1xuXG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBsaW5rLmhyZWYgPSBmaWxlU3RhdGUub3V0cHV0VXJpO1xuICAgIGxpbmsuZG93bmxvYWQgPSBgc2FuaXRpemVkXyR7ZmlsZVN0YXRlLmZpbGUubmFtZX1gO1xuICAgIGxpbmsuY2xpY2soKTtcbiAgfTtcblxuICBjb25zdCBjdXJyZW50RmlsZVN0YXRlID0gZmlsZVN0YXRlc1tjdXJyZW50RmlsZUluZGV4XTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwLWNvbnRhaW5lclwiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiaGVhZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLWNvbnRlbnRcIj5cbiAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cImxvZ29cIj5cbiAgICAgICAgICAgIENsZWFuU2hhcmUgUHJvXG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAndmFyKC0tc3BhY2UtbWQpJyB9fT5cbiAgICAgICAgICAgIHtwcmVzZXRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8c2VsZWN0IFxuICAgICAgICAgICAgICAgIHZhbHVlPXtwcmVzZXRJZH0gXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcmVzZXRJZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1zZWxlY3RcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1pbldpZHRoOiAnMTUwcHgnIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7cHJlc2V0cy5tYXAocCA9PiAoXG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17cC5pZH0gdmFsdWU9e3AuaWR9PntwLm5hbWV9PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0UHJvVW5sb2NrZWQoIXByb1VubG9ja2VkKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYnRuICR7cHJvVW5sb2NrZWQgPyAnYnRuLXNlY29uZGFyeScgOiAnYnRuLW91dGxpbmUnfSBidG4tc21gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7cHJvVW5sb2NrZWQgPyAn4pyTIFBybyBVbmxvY2tlZCcgOiAn8J+UkyBVbmxvY2sgUHJvJ31cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAge3Byb1VubG9ja2VkICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dQcmVzZXRFZGl0b3IodHJ1ZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBNYW5hZ2UgUHJlc2V0c1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIHsvKiBNYWluIENvbnRlbnQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tY29udGVudFwiPlxuICAgICAgICB7LyogRmlsZSBVcGxvYWQgU2VjdGlvbiAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCIgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAndmFyKC0tc3BhY2UteGwpJyB9fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtaGVhZGVyXCI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPlVwbG9hZCBGaWxlczwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjYXJkLXN1YnRpdGxlXCI+U2VsZWN0IGltYWdlcyBvciBQREYgZG9jdW1lbnRzIHRvIHNhbml0aXplPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCI+XG4gICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmaWxlLXVwbG9hZC16b25lXCJcbiAgICAgICAgICAgICAgb25Ecm9wPXtoYW5kbGVEcm9wfVxuICAgICAgICAgICAgICBvbkRyYWdPdmVyPXtoYW5kbGVEcmFnT3Zlcn1cbiAgICAgICAgICAgICAgb25EcmFnTGVhdmU9e2hhbmRsZURyYWdMZWF2ZX1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGUtaW5wdXQnKT8uY2xpY2soKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWxlLXVwbG9hZC1pY29uXCI+8J+ThDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGUtdXBsb2FkLXRleHRcIj5cbiAgICAgICAgICAgICAgICBEcm9wIGZpbGVzIGhlcmUgb3IgY2xpY2sgdG8gYnJvd3NlXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpbGUtdXBsb2FkLXN1YnRleHRcIj5cbiAgICAgICAgICAgICAgICBTdXBwb3J0cyBKUEcsIFBORywgUERGIGZpbGVzIHVwIHRvIDEwTUIgZWFjaFxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgaWQ9XCJmaWxlLWlucHV0XCJcbiAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKixhcHBsaWNhdGlvbi9wZGZcIlxuICAgICAgICAgICAgICAgIG11bHRpcGxlXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctdGV4dFwiIHN0eWxlPXt7IG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLW1kKScgfX0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nLXNwaW5uZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICBQcm9jZXNzaW5nIGZpbGVzLi4uXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEZpbGUgUHJvY2Vzc2luZyBSZXN1bHRzICovfVxuICAgICAgICB7ZmlsZVN0YXRlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tc3BhY2UteGwpJyB9fT5cbiAgICAgICAgICAgIHsvKiBGaWxlIExpc3QgU2lkZWJhciAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lkZWJhclwiIHN0eWxlPXt7IG1pbldpZHRoOiAnMjUwcHgnIH19PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwic2lkZWJhci10aXRsZVwiPkZpbGVzICh7ZmlsZVN0YXRlcy5sZW5ndGh9KTwvaDM+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiAndmFyKC0tc3BhY2Utc20pJyB9fT5cbiAgICAgICAgICAgICAgICB7ZmlsZVN0YXRlcy5tYXAoKHN0YXRlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRDdXJyZW50RmlsZUluZGV4KGluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbWQpJyxcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IGAycHggc29saWQgJHtpbmRleCA9PT0gY3VycmVudEZpbGVJbmRleCA/ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgOiAndmFyKC0tYm9yZGVyLWxpZ2h0KSd9YCxcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICd2YXIoLS1yYWRpdXMtbWQpJyxcbiAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBpbmRleCA9PT0gY3VycmVudEZpbGVJbmRleCA/ICd2YXIoLS1iZy1zZWNvbmRhcnkpJyA6ICd2YXIoLS1iZy1wcmltYXJ5KScsXG4gICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2FsbCB2YXIoLS10cmFuc2l0aW9uLWZhc3QpJ1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICc2MDAnLCBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1zbSknLCBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICAgICAgICAgIHtzdGF0ZS5maWxlLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXhzKScsIGNvbG9yOiBzdGF0ZS5lcnJvciA/ICd2YXIoLS1jb2xvci1lcnJvciknIDogJ3ZhcigtLXRleHQtc2Vjb25kYXJ5KScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAge3N0YXRlLmVycm9yID8gYEVycm9yOiAke3N0YXRlLmVycm9yfWAgOiBgJHtzdGF0ZS5kZXRlY3Rpb25zLmxlbmd0aH0gZGV0ZWN0aW9ucyBmb3VuZGB9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLXNtKScsIGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tc3BhY2UteHMpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTYW5pdGl6ZShpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3RhdGUucHJvY2Vzc2luZyB8fCAhIXN0YXRlLmVycm9yfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZmxleDogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGF0ZS5wcm9jZXNzaW5nID8gJ1Byb2Nlc3NpbmcuLi4nIDogJ1Nhbml0aXplJ31cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICB7c3RhdGUub3V0cHV0VXJpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZURvd25sb2FkKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgRG93bmxvYWRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBNYWluIENvbnRlbnQgQXJlYSAqL31cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSB9fT5cbiAgICAgICAgICAgICAge2N1cnJlbnRGaWxlU3RhdGUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPntjdXJyZW50RmlsZVN0YXRlLmZpbGUubmFtZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjYXJkLXN1YnRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRGaWxlU3RhdGUuZXJyb3IgPyAnUHJvY2Vzc2luZyBmYWlsZWQnIDogYEZvdW5kICR7Y3VycmVudEZpbGVTdGF0ZS5kZXRlY3Rpb25zLmxlbmd0aH0gc2Vuc2l0aXZlIGl0ZW1zYH1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICB7Y3VycmVudEZpbGVTdGF0ZS5lcnJvciA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsZXJ0IGFsZXJ0LWVycm9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlByb2Nlc3NpbmcgRXJyb3I8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAnMCcsIG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLXhzKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRmFpbGVkIHRvIGFuYWx5emUgdGhpcyBmaWxlOiB7Y3VycmVudEZpbGVTdGF0ZS5lcnJvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiBjdXJyZW50RmlsZVN0YXRlLmRldGVjdGlvbnMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLW1kKScsIGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLWxnKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIERldGVjdGVkIFNlbnNpdGl2ZSBJbmZvcm1hdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiAndmFyKC0tc3BhY2Utc20pJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRGaWxlU3RhdGUuZGV0ZWN0aW9ucy5tYXAoZGV0ZWN0aW9uID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2RldGVjdGlvbi5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICd2YXIoLS1zcGFjZS1tZCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICcxcHggc29saWQgdmFyKC0tYm9yZGVyLWxpZ2h0KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJ3ZhcigtLXJhZGl1cy1tZCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAndmFyKC0tYmctc2Vjb25kYXJ5KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1zcGFjZS1tZCknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2N1cnJlbnRGaWxlU3RhdGUuc2VsZWN0ZWRbZGV0ZWN0aW9uLmlkXSB8fCBmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEZpbGVTdGF0ZXMocHJldiA9PiBwcmV2Lm1hcCgoc3RhdGUsIGkpID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID09PSBjdXJyZW50RmlsZUluZGV4ID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZS5zZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkZXRlY3Rpb24uaWRdOiBlLnRhcmdldC5jaGVja2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiAnNjAwJywgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtc20pJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkZXRlY3Rpb24ua2luZH06IHtkZXRlY3Rpb24udGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXhzKScsIGNvbG9yOiAndmFyKC0tdGV4dC1zZWNvbmRhcnkpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbmZpZGVuY2U6IHtNYXRoLnJvdW5kKGRldGVjdGlvbi5jb25maWRlbmNlICogMTAwKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXJyZW50RmlsZVN0YXRlLmFjdGlvbnNbZGV0ZWN0aW9uLmlkXT8uc3R5bGUgfHwgJ0JPWCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEZpbGVTdGF0ZXMocHJldiA9PiBwcmV2Lm1hcCgoc3RhdGUsIGkpID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9PT0gY3VycmVudEZpbGVJbmRleCA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZS5hY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkZXRlY3Rpb24uaWRdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZS5hY3Rpb25zW2RldGVjdGlvbi5pZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogZS50YXJnZXQudmFsdWUgYXMgUmVkYWN0aW9uU3R5bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLXNlbGVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IG1pbldpZHRoOiAnMTIwcHgnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJCT1hcIj5CbGFjayBCb3g8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkJMVVJcIj5CbHVyPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJQSVhFTEFURVwiPlBpeGVsYXRlPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJMQUJFTFwiPkxhYmVsPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWZvb3RlclwiIHN0eWxlPXt7IG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLXhsKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTYW5pdGl6ZShjdXJyZW50RmlsZUluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnkgYnRuLWxnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudEZpbGVTdGF0ZS5wcm9jZXNzaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRGaWxlU3RhdGUucHJvY2Vzc2luZyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZy1zcGlubmVyXCIgc3R5bGU9e3sgd2lkdGg6ICcxcmVtJywgaGVpZ2h0OiAnMXJlbScgfX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NpbmcuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PvCflJIgU2FuaXRpemUgRG9jdW1lbnQ8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRGaWxlU3RhdGUub3V0cHV0VXJpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEb3dubG9hZChjdXJyZW50RmlsZUluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TpSBEb3dubG9hZCBDbGVhbiBGaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIFByZXZpZXcgb2Ygc2FuaXRpemVkIGZpbGUgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudEZpbGVTdGF0ZS5wcmV2aWV3VXJpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS14bCknLCBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbGcpJywgYmFja2dyb3VuZDogJ3ZhcigtLWJnLXNlY29uZGFyeSknLCBib3JkZXJSYWRpdXM6ICd2YXIoLS1yYWRpdXMtbWQpJywgYm9yZGVyOiAnMXB4IHNvbGlkIHZhcigtLWJvcmRlci1saWdodCknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICd2YXIoLS1zcGFjZS1tZCknLCBmb250U2l6ZTogJ3ZhcigtLWZvbnQtc2l6ZS1sZyknLCBjb2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCflJIgU2FuaXRpemVkIFByZXZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBwYWRkaW5nOiAndmFyKC0tc3BhY2UtbWQpJywgYmFja2dyb3VuZDogJ3ZhcigtLWJnLXByaW1hcnkpJywgYm9yZGVyUmFkaXVzOiAndmFyKC0tcmFkaXVzLW1kKScsIGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1ib3JkZXItbGlnaHQpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RmlsZVN0YXRlLmZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17Y3VycmVudEZpbGVTdGF0ZS5wcmV2aWV3VXJpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlNhbml0aXplZCBwcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogJzQwMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJ3ZhcigtLXJhZGl1cy1zbSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAndmFyKC0tc2hhZG93LW1kKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICdjZW50ZXInLCBwYWRkaW5nOiAndmFyKC0tc3BhY2UteGwpJywgY29sb3I6ICd2YXIoLS10ZXh0LXNlY29uZGFyeSknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6ICd2YXIoLS1mb250LXNpemUtM3hsKScsIG1hcmdpbkJvdHRvbTogJ3ZhcigtLXNwYWNlLW1kKScgfX0+8J+ThDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlBERiBzYW5pdGl6ZWQgc3VjY2Vzc2Z1bGx5PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7IGZvbnRTaXplOiAndmFyKC0tZm9udC1zaXplLXNtKScgfX0+Q2xpY2sgZG93bmxvYWQgdG8gc2F2ZSB0aGUgY2xlYW4gZmlsZTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPk5vIHNlbnNpdGl2ZSBpbmZvcm1hdGlvbiBkZXRlY3RlZCE8L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAnMCcsIG1hcmdpblRvcDogJ3ZhcigtLXNwYWNlLXhzKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBkb2N1bWVudCBhcHBlYXJzIHRvIGJlIGNsZWFuIGFuZCBzYWZlIHRvIHNoYXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFByZXNldCBNYW5hZ2VtZW50IE1vZGFsICovfVxuICAgICAgICB7c2hvd1ByZXNldEVkaXRvciAmJiBwcm9VbmxvY2tlZCAmJiAoXG4gICAgICAgICAgPGRpdiBzdHlsZT17e1xuICAgICAgICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjUpJyxcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgekluZGV4OiAxMDAwXG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmRcIiBzdHlsZT17eyBtaW5XaWR0aDogJzUwMHB4JywgbWF4V2lkdGg6ICc5MHZ3JywgbWF4SGVpZ2h0OiAnOTB2aCcsIG92ZXJmbG93OiAnYXV0bycgfX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiY2FyZC10aXRsZVwiPk1hbmFnZSBQcmVzZXRzPC9oMz5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJjYXJkLXN1YnRpdGxlXCI+Q3JlYXRlIGFuZCBtYW5hZ2UgZGV0ZWN0aW9uIHByZXNldHM8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxuICAgICAgICAgICAgICAgICAgPHN0cm9uZz5Qcm8gRmVhdHVyZTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9e3sgbWFyZ2luOiAwLCBtYXJnaW5Ub3A6ICd2YXIoLS1zcGFjZS14cyknIH19PlxuICAgICAgICAgICAgICAgICAgICBQcmVzZXQgbWFuYWdlbWVudCBpcyBhdmFpbGFibGUgaW4gdGhlIFBybyB2ZXJzaW9uLlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWZvb3RlclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dQcmVzZXRFZGl0b3IoZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1naG9zdFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQ2xvc2VcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiYW5hbHl6ZURvY3VtZW50IiwiYXBwbHlSZWRhY3Rpb25zIiwibGlzdFByZXNldHMiLCJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiRnJhZ21lbnQiLCJfRnJhZ21lbnQiLCJDbGVhblNoYXJlUHJvIiwiZmlsZXMiLCJzZXRGaWxlcyIsImZpbGVTdGF0ZXMiLCJzZXRGaWxlU3RhdGVzIiwiY3VycmVudEZpbGVJbmRleCIsInNldEN1cnJlbnRGaWxlSW5kZXgiLCJwcmVzZXRzIiwic2V0UHJlc2V0cyIsInByZXNldElkIiwic2V0UHJlc2V0SWQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInByb1VubG9ja2VkIiwic2V0UHJvVW5sb2NrZWQiLCJzaG93UHJlc2V0RWRpdG9yIiwic2V0U2hvd1ByZXNldEVkaXRvciIsInBzIiwibGVuZ3RoIiwiaWQiLCJwcm9jZXNzRmlsZXMiLCJuZXdTdGF0ZXMiLCJmaWxlIiwicmVzdWx0Iiwic2VsZWN0ZWQiLCJhY3Rpb25zIiwiZGV0ZWN0aW9ucyIsImZvckVhY2giLCJkZXQiLCJzdHlsZSIsInB1c2giLCJwYWdlcyIsInBhZ2VJbWFnZXMiLCJjdXJyZW50UGFnZSIsInByb2Nlc3NpbmciLCJlcnJvciIsImNvbnNvbGUiLCJuYW1lIiwiRXJyb3IiLCJtZXNzYWdlIiwiaGFuZGxlRmlsZUNoYW5nZSIsImUiLCJzZWxlY3RlZEZpbGVzIiwiQXJyYXkiLCJmcm9tIiwidGFyZ2V0IiwiaGFuZGxlRHJvcCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiZHJvcHBlZEZpbGVzIiwiZGF0YVRyYW5zZmVyIiwiaGFuZGxlRHJhZ092ZXIiLCJoYW5kbGVEcmFnTGVhdmUiLCJoYW5kbGVTYW5pdGl6ZSIsImZpbGVJbmRleCIsImZpbGVTdGF0ZSIsInByZXYiLCJtYXAiLCJzdGF0ZSIsImkiLCJyZWRhY3Rpb25BY3Rpb25zIiwiZmlsdGVyIiwiYWN0aW9uIiwibGFiZWxUZXh0IiwicmVzcG9uc2UiLCJmZXRjaCIsImZpbGVVcmkiLCJibG9iIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwib3V0cHV0VXJpIiwicHJldmlld1VyaSIsImFsZXJ0IiwiaGFuZGxlRG93bmxvYWQiLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwiY2xpY2siLCJjdXJyZW50RmlsZVN0YXRlIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImdhcCIsInZhbHVlIiwib25DaGFuZ2UiLCJtaW5XaWR0aCIsInAiLCJvbkNsaWNrIiwibWFyZ2luQm90dG9tIiwib25Ecm9wIiwib25EcmFnT3ZlciIsIm9uRHJhZ0xlYXZlIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0eXBlIiwiYWNjZXB0IiwibXVsdGlwbGUiLCJtYXJnaW5Ub3AiLCJmbGV4RGlyZWN0aW9uIiwiaW5kZXgiLCJwYWRkaW5nIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiY3Vyc29yIiwiYmFja2dyb3VuZCIsInRyYW5zaXRpb24iLCJmb250V2VpZ2h0IiwiZm9udFNpemUiLCJjb2xvciIsImRpc2FibGVkIiwiZmxleCIsIm1hcmdpbiIsImRldGVjdGlvbiIsImp1c3RpZnlDb250ZW50IiwiY2hlY2tlZCIsImtpbmQiLCJ0ZXh0IiwiTWF0aCIsInJvdW5kIiwiY29uZmlkZW5jZSIsIndpZHRoIiwiaGVpZ2h0Iiwic3RhcnRzV2l0aCIsInNyYyIsImFsdCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0IiwiYm94U2hhZG93IiwidGV4dEFsaWduIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJ6SW5kZXgiLCJvdmVyZmxvdyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/index.tsx\n");

/***/ }),

/***/ "../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.tsx\");\n/* harmony import */ var _pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/index.tsx */ \"./pages/index.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__]);\n_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/index\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_index_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL25leHRAMTQuMS4wX0BiYWJlbCtjb3JlQDcuMjguM19yZWFjdC1kb21AMTguMi4wX3JlYWN0QDE4LjIuMF9fcmVhY3RAMTguMi4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkYmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmluZGV4LnRzeCZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ2hDO0FBQ0w7QUFDMUQ7QUFDb0Q7QUFDVjtBQUMxQztBQUM4QztBQUM5QztBQUNBLGlFQUFlLHdFQUFLLENBQUMsNkNBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMsNkNBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMsNkNBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMsNkNBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLDZDQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLDZDQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMsNkNBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMsNkNBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMsNkNBQVE7QUFDekQ7QUFDTyx3QkFBd0IseUdBQWdCO0FBQy9DO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsV0FBVztBQUNYLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQsaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8/NGQxYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc1JvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCBEb2N1bWVudCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19kb2N1bWVudFwiO1xuaW1wb3J0IEFwcCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2luZGV4LnRzeFwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL2luZGV4XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "../core-detect/dist/detectors/index.js":
/*!**********************************************!*\
  !*** ../core-detect/dist/detectors/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   detectToken: () => (/* binding */ detectToken),\n/* harmony export */   isAWSKey: () => (/* binding */ isAWSKey),\n/* harmony export */   isJWT: () => (/* binding */ isJWT),\n/* harmony export */   isLuhnValid: () => (/* binding */ isLuhnValid),\n/* harmony export */   isValidIBAN: () => (/* binding */ isValidIBAN),\n/* harmony export */   isValidSSN: () => (/* binding */ isValidSSN)\n/* harmony export */ });\n/**\n * Determine whether a string of digits represents a valid PAN according\n * to the Luhn checksum algorithm.  Only digits are considered; all\n * non‑numeric characters should be stripped before calling this function.\n */\nfunction isLuhnValid(value) {\n    let sum = 0;\n    let shouldDouble = false;\n    for (let i = value.length - 1; i >= 0; i--) {\n        const c = value.charCodeAt(i) - 48;\n        if (c < 0 || c > 9) {\n            return false;\n        }\n        let digit = c;\n        if (shouldDouble) {\n            digit *= 2;\n            if (digit > 9)\n                digit -= 9;\n        }\n        sum += digit;\n        shouldDouble = !shouldDouble;\n    }\n    return sum % 10 === 0;\n}\n/**\n * Validate an International Bank Account Number (IBAN) using the MOD 97\n * algorithm defined in ISO 13616.  Letters are mapped A=10, B=11, …\n * The function returns true when the IBAN appears structurally valid.  It\n * does not verify that the account exists.\n */\nfunction isValidIBAN(iban) {\n    const cleaned = iban.replace(/\\s+/g, '').toUpperCase();\n    // Basic length check: IBANs are between 15 and 34 characters long\n    if (cleaned.length < 15 || cleaned.length > 34)\n        return false;\n    // Move the four initial characters to the end of the string\n    const rearranged = cleaned.slice(4) + cleaned.slice(0, 4);\n    // Replace letters with numbers: A=10, B=11, …\n    let numeric = '';\n    for (const ch of rearranged) {\n        const code = ch.charCodeAt(0);\n        if (code >= 48 && code <= 57) {\n            numeric += ch;\n        }\n        else if (code >= 65 && code <= 90) {\n            numeric += (code - 55).toString();\n        }\n        else {\n            return false;\n        }\n    }\n    // Compute the remainder using mod 97\n    let remainder = 0;\n    for (let i = 0; i < numeric.length; i++) {\n        remainder = (remainder * 10 + Number(numeric[i])) % 97;\n    }\n    return remainder === 1;\n}\n/**\n * Validate a US Social Security Number (SSN).  Performs basic\n * structural checks: XXX-XX-XXXX where the area number is not 000,\n * 666, or between 900–999; the group number is not 00; and the serial\n * number is not 0000.\n */\nfunction isValidSSN(value) {\n    const ssnRegex = /^(\\d{3})-(\\d{2})-(\\d{4})$/;\n    const match = ssnRegex.exec(value);\n    if (!match)\n        return false;\n    const area = parseInt(match[1], 10);\n    const group = parseInt(match[2], 10);\n    const serial = parseInt(match[3], 10);\n    if (area === 0 || group === 0 || serial === 0)\n        return false;\n    if (area === 666 || area >= 900)\n        return false;\n    return true;\n}\n/** Detect whether a token is formatted like a JSON Web Token (JWT). */\nfunction isJWT(value) {\n    return /^[A-Za-z0-9_-]+\\.[A-Za-z0-9_-]+\\.[A-Za-z0-9_-]+$/.test(value.trim());\n}\n/** Detect whether a token looks like an AWS access key ID.  AWS keys\n * typically start with AKIA or ASIA followed by 16 uppercase letters or\n * digits. */\nfunction isAWSKey(value) {\n    return /^(A(KIA|SIA)[A-Z0-9]{16})$/.test(value.trim());\n}\n/**\n * Perform high‑level detection for a single token.  If the token matches\n * a sensitive pattern, this function returns an object describing the\n * detection; otherwise it returns null.  Note that this function does\n * not compute bounding boxes – it only classifies the token.  Bounding\n * boxes are provided by the OCR engine.\n */\nfunction detectToken(token) {\n    const raw = token.trim();\n    if (!raw)\n        return null;\n    // Detect names (proper nouns) – starts with uppercase letter followed by lowercase letters\n    // and not purely numeric.  Short words like \"AI\" or all uppercase words are ignored.\n    const namePattern = /^[A-Z][a-z]{2,}$/;\n    if (namePattern.test(raw) && !/\\d/.test(raw) && raw.toUpperCase() !== raw) {\n        return { kind: 'NAME', reason: 'Likely proper name' };\n    }\n    // Detect addresses: tokens that look like street types or contain digits\n    const streetTypes = /^(Street|St\\.?|Avenue|Ave\\.?|Road|Rd\\.?|Lane|Ln\\.?|Boulevard|Blvd\\.?|Drive|Dr\\.?)$/i;\n    if (/\\d/.test(raw) && raw.length >= 3) {\n        return { kind: 'ADDRESS', reason: 'Contains digits and could be part of an address' };\n    }\n    if (streetTypes.test(raw)) {\n        return { kind: 'ADDRESS', reason: 'Street type indicator' };\n    }\n    // Email\n    const emailPattern = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i;\n    if (emailPattern.test(raw)) {\n        return { kind: 'EMAIL', reason: 'Matches email pattern' };\n    }\n    // Phone number (very permissive, minimum 7 digits)\n    const digitsOnly = raw.replace(/\\D/g, '');\n    if (digitsOnly.length >= 7 && /\\d{3,}/.test(digitsOnly)) {\n        // Simple heuristic: if it contains 10–15 digits and is not part of another pattern\n        if (digitsOnly.length >= 10 && digitsOnly.length <= 15) {\n            return { kind: 'PHONE', reason: 'Potential phone number' };\n        }\n    }\n    // PAN (credit card number) – 13–19 digits with Luhn valid\n    if (digitsOnly.length >= 13 && digitsOnly.length <= 19 && isLuhnValid(digitsOnly)) {\n        return { kind: 'PAN', reason: 'Luhn valid primary account number' };\n    }\n    // IBAN (starts with two letters followed by digits and letters)\n    const ibanPattern = /^[A-Z]{2}[0-9A-Z]{13,32}$/i;\n    if (ibanPattern.test(raw) && isValidIBAN(raw)) {\n        return { kind: 'IBAN', reason: 'Valid IBAN checksum' };\n    }\n    // SSN (US format)\n    const ssnPattern = /^\\d{3}-\\d{2}-\\d{4}$/;\n    if (ssnPattern.test(raw) && isValidSSN(raw)) {\n        return { kind: 'SSN', reason: 'Valid US SSN format' };\n    }\n    // JWT\n    if (isJWT(raw)) {\n        return { kind: 'JWT', reason: 'Looks like a JWT token' };\n    }\n    // AWS access key id\n    if (isAWSKey(raw)) {\n        return { kind: 'API_KEY', reason: 'Looks like an AWS access key' };\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC9kZXRlY3RvcnMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsbUNBQW1DLFFBQVE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNEJBQTRCO0FBQ3hEO0FBQ0E7QUFDTztBQUNQLDJCQUEyQixFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGlDQUFpQyxHQUFHO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxHQUFHO0FBQ3hDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDZEQUE2RCxHQUFHO0FBQ2hFO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxHQUFHO0FBQ3pDO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGdDQUFnQyxFQUFFLFNBQVMsTUFBTTtBQUNqRDtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsNEJBQTRCLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtBQUMxQztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BjbGVhbnNoYXJlL3VpLy4uL2NvcmUtZGV0ZWN0L2Rpc3QvZGV0ZWN0b3JzL2luZGV4LmpzP2RhMzUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEZXRlcm1pbmUgd2hldGhlciBhIHN0cmluZyBvZiBkaWdpdHMgcmVwcmVzZW50cyBhIHZhbGlkIFBBTiBhY2NvcmRpbmdcbiAqIHRvIHRoZSBMdWhuIGNoZWNrc3VtIGFsZ29yaXRobS4gIE9ubHkgZGlnaXRzIGFyZSBjb25zaWRlcmVkOyBhbGxcbiAqIG5vbuKAkW51bWVyaWMgY2hhcmFjdGVycyBzaG91bGQgYmUgc3RyaXBwZWQgYmVmb3JlIGNhbGxpbmcgdGhpcyBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTHVoblZhbGlkKHZhbHVlKSB7XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgbGV0IHNob3VsZERvdWJsZSA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSB2YWx1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBjID0gdmFsdWUuY2hhckNvZGVBdChpKSAtIDQ4O1xuICAgICAgICBpZiAoYyA8IDAgfHwgYyA+IDkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlnaXQgPSBjO1xuICAgICAgICBpZiAoc2hvdWxkRG91YmxlKSB7XG4gICAgICAgICAgICBkaWdpdCAqPSAyO1xuICAgICAgICAgICAgaWYgKGRpZ2l0ID4gOSlcbiAgICAgICAgICAgICAgICBkaWdpdCAtPSA5O1xuICAgICAgICB9XG4gICAgICAgIHN1bSArPSBkaWdpdDtcbiAgICAgICAgc2hvdWxkRG91YmxlID0gIXNob3VsZERvdWJsZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bSAlIDEwID09PSAwO1xufVxuLyoqXG4gKiBWYWxpZGF0ZSBhbiBJbnRlcm5hdGlvbmFsIEJhbmsgQWNjb3VudCBOdW1iZXIgKElCQU4pIHVzaW5nIHRoZSBNT0TCoDk3XG4gKiBhbGdvcml0aG0gZGVmaW5lZCBpbiBJU0/CoDEzNjE2LiAgTGV0dGVycyBhcmUgbWFwcGVkIEE9MTAsIEI9MTEsIOKAplxuICogVGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHRoZSBJQkFOIGFwcGVhcnMgc3RydWN0dXJhbGx5IHZhbGlkLiAgSXRcbiAqIGRvZXMgbm90IHZlcmlmeSB0aGF0IHRoZSBhY2NvdW50IGV4aXN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRJQkFOKGliYW4pIHtcbiAgICBjb25zdCBjbGVhbmVkID0gaWJhbi5yZXBsYWNlKC9cXHMrL2csICcnKS50b1VwcGVyQ2FzZSgpO1xuICAgIC8vIEJhc2ljIGxlbmd0aCBjaGVjazogSUJBTnMgYXJlIGJldHdlZW4gMTUgYW5kIDM0IGNoYXJhY3RlcnMgbG9uZ1xuICAgIGlmIChjbGVhbmVkLmxlbmd0aCA8IDE1IHx8IGNsZWFuZWQubGVuZ3RoID4gMzQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAvLyBNb3ZlIHRoZSBmb3VyIGluaXRpYWwgY2hhcmFjdGVycyB0byB0aGUgZW5kIG9mIHRoZSBzdHJpbmdcbiAgICBjb25zdCByZWFycmFuZ2VkID0gY2xlYW5lZC5zbGljZSg0KSArIGNsZWFuZWQuc2xpY2UoMCwgNCk7XG4gICAgLy8gUmVwbGFjZSBsZXR0ZXJzIHdpdGggbnVtYmVyczogQT0xMCwgQj0xMSwg4oCmXG4gICAgbGV0IG51bWVyaWMgPSAnJztcbiAgICBmb3IgKGNvbnN0IGNoIG9mIHJlYXJyYW5nZWQpIHtcbiAgICAgICAgY29uc3QgY29kZSA9IGNoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmIChjb2RlID49IDQ4ICYmIGNvZGUgPD0gNTcpIHtcbiAgICAgICAgICAgIG51bWVyaWMgKz0gY2g7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29kZSA+PSA2NSAmJiBjb2RlIDw9IDkwKSB7XG4gICAgICAgICAgICBudW1lcmljICs9IChjb2RlIC0gNTUpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ29tcHV0ZSB0aGUgcmVtYWluZGVyIHVzaW5nIG1vZCA5N1xuICAgIGxldCByZW1haW5kZXIgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtZXJpYy5sZW5ndGg7IGkrKykge1xuICAgICAgICByZW1haW5kZXIgPSAocmVtYWluZGVyICogMTAgKyBOdW1iZXIobnVtZXJpY1tpXSkpICUgOTc7XG4gICAgfVxuICAgIHJldHVybiByZW1haW5kZXIgPT09IDE7XG59XG4vKipcbiAqIFZhbGlkYXRlIGEgVVMgU29jaWFsIFNlY3VyaXR5IE51bWJlciAoU1NOKS4gIFBlcmZvcm1zIGJhc2ljXG4gKiBzdHJ1Y3R1cmFsIGNoZWNrczogWFhYLVhYLVhYWFggd2hlcmUgdGhlIGFyZWEgbnVtYmVyIGlzIG5vdCAwMDAsXG4gKiA2NjYsIG9yIGJldHdlZW4gOTAw4oCTOTk5OyB0aGUgZ3JvdXAgbnVtYmVyIGlzIG5vdCAwMDsgYW5kIHRoZSBzZXJpYWxcbiAqIG51bWJlciBpcyBub3QgMDAwMC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRTU04odmFsdWUpIHtcbiAgICBjb25zdCBzc25SZWdleCA9IC9eKFxcZHszfSktKFxcZHsyfSktKFxcZHs0fSkkLztcbiAgICBjb25zdCBtYXRjaCA9IHNzblJlZ2V4LmV4ZWModmFsdWUpO1xuICAgIGlmICghbWF0Y2gpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBhcmVhID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICBjb25zdCBncm91cCA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgY29uc3Qgc2VyaWFsID0gcGFyc2VJbnQobWF0Y2hbM10sIDEwKTtcbiAgICBpZiAoYXJlYSA9PT0gMCB8fCBncm91cCA9PT0gMCB8fCBzZXJpYWwgPT09IDApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoYXJlYSA9PT0gNjY2IHx8IGFyZWEgPj0gOTAwKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKiogRGV0ZWN0IHdoZXRoZXIgYSB0b2tlbiBpcyBmb3JtYXR0ZWQgbGlrZSBhIEpTT04gV2ViIFRva2VuIChKV1QpLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSldUKHZhbHVlKSB7XG4gICAgcmV0dXJuIC9eW0EtWmEtejAtOV8tXStcXC5bQS1aYS16MC05Xy1dK1xcLltBLVphLXowLTlfLV0rJC8udGVzdCh2YWx1ZS50cmltKCkpO1xufVxuLyoqIERldGVjdCB3aGV0aGVyIGEgdG9rZW4gbG9va3MgbGlrZSBhbiBBV1MgYWNjZXNzIGtleSBJRC4gIEFXUyBrZXlzXG4gKiB0eXBpY2FsbHkgc3RhcnQgd2l0aCBBS0lBIG9yIEFTSUEgZm9sbG93ZWQgYnkgMTYgdXBwZXJjYXNlIGxldHRlcnMgb3JcbiAqIGRpZ2l0cy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FXU0tleSh2YWx1ZSkge1xuICAgIHJldHVybiAvXihBKEtJQXxTSUEpW0EtWjAtOV17MTZ9KSQvLnRlc3QodmFsdWUudHJpbSgpKTtcbn1cbi8qKlxuICogUGVyZm9ybSBoaWdo4oCRbGV2ZWwgZGV0ZWN0aW9uIGZvciBhIHNpbmdsZSB0b2tlbi4gIElmIHRoZSB0b2tlbiBtYXRjaGVzXG4gKiBhIHNlbnNpdGl2ZSBwYXR0ZXJuLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYW4gb2JqZWN0IGRlc2NyaWJpbmcgdGhlXG4gKiBkZXRlY3Rpb247IG90aGVyd2lzZSBpdCByZXR1cm5zIG51bGwuICBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBkb2VzXG4gKiBub3QgY29tcHV0ZSBib3VuZGluZyBib3hlcyDigJMgaXQgb25seSBjbGFzc2lmaWVzIHRoZSB0b2tlbi4gIEJvdW5kaW5nXG4gKiBib3hlcyBhcmUgcHJvdmlkZWQgYnkgdGhlIE9DUiBlbmdpbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RUb2tlbih0b2tlbikge1xuICAgIGNvbnN0IHJhdyA9IHRva2VuLnRyaW0oKTtcbiAgICBpZiAoIXJhdylcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgLy8gRGV0ZWN0IG5hbWVzIChwcm9wZXIgbm91bnMpIOKAkyBzdGFydHMgd2l0aCB1cHBlcmNhc2UgbGV0dGVyIGZvbGxvd2VkIGJ5IGxvd2VyY2FzZSBsZXR0ZXJzXG4gICAgLy8gYW5kIG5vdCBwdXJlbHkgbnVtZXJpYy4gIFNob3J0IHdvcmRzIGxpa2UgXCJBSVwiIG9yIGFsbCB1cHBlcmNhc2Ugd29yZHMgYXJlIGlnbm9yZWQuXG4gICAgY29uc3QgbmFtZVBhdHRlcm4gPSAvXltBLVpdW2Etel17Mix9JC87XG4gICAgaWYgKG5hbWVQYXR0ZXJuLnRlc3QocmF3KSAmJiAhL1xcZC8udGVzdChyYXcpICYmIHJhdy50b1VwcGVyQ2FzZSgpICE9PSByYXcpIHtcbiAgICAgICAgcmV0dXJuIHsga2luZDogJ05BTUUnLCByZWFzb246ICdMaWtlbHkgcHJvcGVyIG5hbWUnIH07XG4gICAgfVxuICAgIC8vIERldGVjdCBhZGRyZXNzZXM6IHRva2VucyB0aGF0IGxvb2sgbGlrZSBzdHJlZXQgdHlwZXMgb3IgY29udGFpbiBkaWdpdHNcbiAgICBjb25zdCBzdHJlZXRUeXBlcyA9IC9eKFN0cmVldHxTdFxcLj98QXZlbnVlfEF2ZVxcLj98Um9hZHxSZFxcLj98TGFuZXxMblxcLj98Qm91bGV2YXJkfEJsdmRcXC4/fERyaXZlfERyXFwuPykkL2k7XG4gICAgaWYgKC9cXGQvLnRlc3QocmF3KSAmJiByYXcubGVuZ3RoID49IDMpIHtcbiAgICAgICAgcmV0dXJuIHsga2luZDogJ0FERFJFU1MnLCByZWFzb246ICdDb250YWlucyBkaWdpdHMgYW5kIGNvdWxkIGJlIHBhcnQgb2YgYW4gYWRkcmVzcycgfTtcbiAgICB9XG4gICAgaWYgKHN0cmVldFR5cGVzLnRlc3QocmF3KSkge1xuICAgICAgICByZXR1cm4geyBraW5kOiAnQUREUkVTUycsIHJlYXNvbjogJ1N0cmVldCB0eXBlIGluZGljYXRvcicgfTtcbiAgICB9XG4gICAgLy8gRW1haWxcbiAgICBjb25zdCBlbWFpbFBhdHRlcm4gPSAvXltBLVowLTkuXyUrLV0rQFtBLVowLTkuLV0rXFwuW0EtWl17Mix9JC9pO1xuICAgIGlmIChlbWFpbFBhdHRlcm4udGVzdChyYXcpKSB7XG4gICAgICAgIHJldHVybiB7IGtpbmQ6ICdFTUFJTCcsIHJlYXNvbjogJ01hdGNoZXMgZW1haWwgcGF0dGVybicgfTtcbiAgICB9XG4gICAgLy8gUGhvbmUgbnVtYmVyICh2ZXJ5IHBlcm1pc3NpdmUsIG1pbmltdW0gNyBkaWdpdHMpXG4gICAgY29uc3QgZGlnaXRzT25seSA9IHJhdy5yZXBsYWNlKC9cXEQvZywgJycpO1xuICAgIGlmIChkaWdpdHNPbmx5Lmxlbmd0aCA+PSA3ICYmIC9cXGR7Myx9Ly50ZXN0KGRpZ2l0c09ubHkpKSB7XG4gICAgICAgIC8vIFNpbXBsZSBoZXVyaXN0aWM6IGlmIGl0IGNvbnRhaW5zIDEw4oCTMTUgZGlnaXRzIGFuZCBpcyBub3QgcGFydCBvZiBhbm90aGVyIHBhdHRlcm5cbiAgICAgICAgaWYgKGRpZ2l0c09ubHkubGVuZ3RoID49IDEwICYmIGRpZ2l0c09ubHkubGVuZ3RoIDw9IDE1KSB7XG4gICAgICAgICAgICByZXR1cm4geyBraW5kOiAnUEhPTkUnLCByZWFzb246ICdQb3RlbnRpYWwgcGhvbmUgbnVtYmVyJyB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFBBTiAoY3JlZGl0IGNhcmQgbnVtYmVyKSDigJMgMTPigJMxOSBkaWdpdHMgd2l0aCBMdWhuIHZhbGlkXG4gICAgaWYgKGRpZ2l0c09ubHkubGVuZ3RoID49IDEzICYmIGRpZ2l0c09ubHkubGVuZ3RoIDw9IDE5ICYmIGlzTHVoblZhbGlkKGRpZ2l0c09ubHkpKSB7XG4gICAgICAgIHJldHVybiB7IGtpbmQ6ICdQQU4nLCByZWFzb246ICdMdWhuIHZhbGlkIHByaW1hcnkgYWNjb3VudCBudW1iZXInIH07XG4gICAgfVxuICAgIC8vIElCQU4gKHN0YXJ0cyB3aXRoIHR3byBsZXR0ZXJzIGZvbGxvd2VkIGJ5IGRpZ2l0cyBhbmQgbGV0dGVycylcbiAgICBjb25zdCBpYmFuUGF0dGVybiA9IC9eW0EtWl17Mn1bMC05QS1aXXsxMywzMn0kL2k7XG4gICAgaWYgKGliYW5QYXR0ZXJuLnRlc3QocmF3KSAmJiBpc1ZhbGlkSUJBTihyYXcpKSB7XG4gICAgICAgIHJldHVybiB7IGtpbmQ6ICdJQkFOJywgcmVhc29uOiAnVmFsaWQgSUJBTiBjaGVja3N1bScgfTtcbiAgICB9XG4gICAgLy8gU1NOIChVUyBmb3JtYXQpXG4gICAgY29uc3Qgc3NuUGF0dGVybiA9IC9eXFxkezN9LVxcZHsyfS1cXGR7NH0kLztcbiAgICBpZiAoc3NuUGF0dGVybi50ZXN0KHJhdykgJiYgaXNWYWxpZFNTTihyYXcpKSB7XG4gICAgICAgIHJldHVybiB7IGtpbmQ6ICdTU04nLCByZWFzb246ICdWYWxpZCBVUyBTU04gZm9ybWF0JyB9O1xuICAgIH1cbiAgICAvLyBKV1RcbiAgICBpZiAoaXNKV1QocmF3KSkge1xuICAgICAgICByZXR1cm4geyBraW5kOiAnSldUJywgcmVhc29uOiAnTG9va3MgbGlrZSBhIEpXVCB0b2tlbicgfTtcbiAgICB9XG4gICAgLy8gQVdTIGFjY2VzcyBrZXkgaWRcbiAgICBpZiAoaXNBV1NLZXkocmF3KSkge1xuICAgICAgICByZXR1cm4geyBraW5kOiAnQVBJX0tFWScsIHJlYXNvbjogJ0xvb2tzIGxpa2UgYW4gQVdTIGFjY2VzcyBrZXknIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../core-detect/dist/detectors/index.js\n");

/***/ }),

/***/ "../core-detect/dist/index.js":
/*!************************************!*\
  !*** ../core-detect/dist/index.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeDocument: () => (/* reexport safe */ _pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__.analyzeDocument),\n/* harmony export */   applyRedactions: () => (/* reexport safe */ _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__.applyRedactions),\n/* harmony export */   deletePreset: () => (/* reexport safe */ _presets__WEBPACK_IMPORTED_MODULE_3__.deletePreset),\n/* harmony export */   getPreset: () => (/* reexport safe */ _presets__WEBPACK_IMPORTED_MODULE_3__.getPreset),\n/* harmony export */   listPresets: () => (/* reexport safe */ _presets__WEBPACK_IMPORTED_MODULE_3__.listPresets),\n/* harmony export */   savePreset: () => (/* reexport safe */ _presets__WEBPACK_IMPORTED_MODULE_3__.savePreset)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"../core-detect/dist/types.js\");\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_0__) if([\"default\",\"analyzeDocument\",\"applyRedactions\",\"listPresets\",\"getPreset\",\"savePreset\",\"deletePreset\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _types__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pipeline/analyze */ \"../core-detect/dist/pipeline/analyze.js\");\n/* harmony import */ var _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pipeline/apply */ \"../core-detect/dist/pipeline/apply.js\");\n/* harmony import */ var _presets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./presets */ \"../core-detect/dist/presets.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__, _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__]);\n([_pipeline_analyze__WEBPACK_IMPORTED_MODULE_1__, _pipeline_apply__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdCO0FBQzZCO0FBQ0Y7QUFDMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uLi9jb3JlLWRldGVjdC9kaXN0L2luZGV4LmpzPzVlY2QiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyBhbmFseXplRG9jdW1lbnQgfSBmcm9tICcuL3BpcGVsaW5lL2FuYWx5emUnO1xuZXhwb3J0IHsgYXBwbHlSZWRhY3Rpb25zIH0gZnJvbSAnLi9waXBlbGluZS9hcHBseSc7XG5leHBvcnQgeyBsaXN0UHJlc2V0cywgZ2V0UHJlc2V0LCBzYXZlUHJlc2V0LCBkZWxldGVQcmVzZXQgfSBmcm9tICcuL3ByZXNldHMnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../core-detect/dist/index.js\n");

/***/ }),

/***/ "../core-detect/dist/pipeline/analyze.js":
/*!***********************************************!*\
  !*** ../core-detect/dist/pipeline/analyze.js ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeDocument: () => (/* binding */ analyzeDocument)\n/* harmony export */ });\n/* harmony import */ var _detectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../detectors */ \"../core-detect/dist/detectors/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tesseract.js */ \"../../node_modules/.pnpm/tesseract.js@4.1.4/node_modules/tesseract.js/src/index.js\");\n/* harmony import */ var tesseract_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(tesseract_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pdfjs-dist */ \"pdfjs-dist\");\n/* harmony import */ var pdfjs_dist__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jsqr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsqr */ \"jsqr\");\n/* harmony import */ var jsqr__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsqr__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _presets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../presets */ \"../core-detect/dist/presets.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([uuid__WEBPACK_IMPORTED_MODULE_0__]);\nuuid__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// Barcode detection library.  jsQR is a small library that can scan QR codes\n// and linear barcodes from image pixel data.  It returns the location of the\n// detected code if one is found.  See https://github.com/cozmo/jsQR for details.\n\n// Import preset utilities to allow filtering detections based on enabled kinds\n\n/*\n * The analyse pipeline orchestrates OCR and token detection for both images\n * and PDFs.  It uses native OCR when available (via Capacitor plugins) and\n * falls back to Tesseract.js running in the browser or a web worker.  PDF\n * pages are rendered to canvases via pdfjs-dist, then treated like images.\n */\n/** Convert a File/Blob to a Data URI. */\nasync function fileToDataURL(file) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = () => reject(reader.error);\n        reader.readAsDataURL(file);\n    });\n}\n/** Perform OCR on a data URL and return detections. */\nasync function analyzeImageDataURL(dataURL, pageIndex = 0) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    // Optionally perform a simple document auto‑crop before running OCR.  Many\n    // scanned documents contain large white margins.  Cropping to the\n    // bounding rectangle of non‑white pixels improves OCR accuracy and\n    // reduces processing time.  We detect the smallest rectangle that\n    // contains all pixels whose brightness is below a threshold.  If the\n    // resulting crop covers almost the entire image (>95%), we skip the\n    // crop to avoid losing content.  This heuristic is cheap to compute\n    // and does not require external dependencies.  See docs/ROADMAP.md.\n    async function autoCrop(dataUrl) {\n        return new Promise(resolve => {\n            const img = new Image();\n            img.onload = () => {\n                const canvas = document.createElement('canvas');\n                canvas.width = img.width;\n                canvas.height = img.height;\n                const ctx = canvas.getContext('2d');\n                if (!ctx) {\n                    resolve(dataUrl);\n                    return;\n                }\n                ctx.drawImage(img, 0, 0);\n                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n                const data = imageData.data;\n                let minX = canvas.width;\n                let maxX = 0;\n                let minY = canvas.height;\n                let maxY = 0;\n                // Threshold to consider a pixel as background (very light)\n                const isBg = (r, g, b) => r > 230 && g > 230 && b > 230;\n                for (let y = 0; y < canvas.height; y++) {\n                    for (let x = 0; x < canvas.width; x++) {\n                        const idx = (y * canvas.width + x) * 4;\n                        const r = data[idx];\n                        const g = data[idx + 1];\n                        const b = data[idx + 2];\n                        if (!isBg(r, g, b)) {\n                            if (x < minX)\n                                minX = x;\n                            if (x > maxX)\n                                maxX = x;\n                            if (y < minY)\n                                minY = y;\n                            if (y > maxY)\n                                maxY = y;\n                        }\n                    }\n                }\n                // If no foreground found, return original\n                if (minX > maxX || minY > maxY) {\n                    resolve(dataUrl);\n                    return;\n                }\n                // Compute bounds width/height\n                const bw = maxX - minX;\n                const bh = maxY - minY;\n                // If crop covers almost entire image, skip cropping\n                if (bw / canvas.width > 0.95 && bh / canvas.height > 0.95) {\n                    resolve(dataUrl);\n                    return;\n                }\n                // Expand crop by 5% margins to avoid cutting content\n                const marginX = Math.floor(bw * 0.05);\n                const marginY = Math.floor(bh * 0.05);\n                const cropX = Math.max(0, minX - marginX);\n                const cropY = Math.max(0, minY - marginY);\n                const cropW = Math.min(canvas.width - cropX, bw + marginX * 2);\n                const cropH = Math.min(canvas.height - cropY, bh + marginY * 2);\n                const croppedCanvas = document.createElement('canvas');\n                croppedCanvas.width = cropW;\n                croppedCanvas.height = cropH;\n                const cctx = croppedCanvas.getContext('2d');\n                if (!cctx) {\n                    resolve(dataUrl);\n                    return;\n                }\n                cctx.drawImage(canvas, cropX, cropY, cropW, cropH, 0, 0, cropW, cropH);\n                resolve(croppedCanvas.toDataURL());\n            };\n            img.onerror = () => resolve(dataUrl);\n            img.src = dataUrl;\n        });\n    }\n    // Run Tesseract on the original Data URL.  Cropping is disabled by\n    // default because adjusting bounding boxes back to the original\n    // coordinates is non‑trivial.  To experiment with auto‑crop, call\n    // autoCrop() on dataURL and adjust bounding boxes accordingly.\n    const result = await tesseract_js__WEBPACK_IMPORTED_MODULE_1___default().recognize(dataURL, 'eng', { logger: () => { } });\n    const { words } = result.data;\n    const detections = [];\n    // Determine image dimensions\n    const img = new Image();\n    await new Promise(resolve => {\n        img.onload = resolve;\n        img.src = dataURL;\n    });\n    const width = img.width;\n    const height = img.height;\n    for (const word of words) {\n        const text = (word.text || '').trim();\n        if (!text)\n            continue;\n        const match = (0,_detectors__WEBPACK_IMPORTED_MODULE_4__.detectToken)(text);\n        if (match) {\n            const { kind, reason } = match;\n            const bbox = word.bbox;\n            const x0 = (_b = (_a = bbox.x0) !== null && _a !== void 0 ? _a : bbox.left) !== null && _b !== void 0 ? _b : 0;\n            const y0 = (_d = (_c = bbox.y0) !== null && _c !== void 0 ? _c : bbox.top) !== null && _d !== void 0 ? _d : 0;\n            const x1 = (_f = (_e = bbox.x1) !== null && _e !== void 0 ? _e : bbox.right) !== null && _f !== void 0 ? _f : 0;\n            const y1 = (_h = (_g = bbox.y1) !== null && _g !== void 0 ? _g : bbox.bottom) !== null && _h !== void 0 ? _h : 0;\n            const box = {\n                x: x0 / width,\n                y: y0 / height,\n                w: (x1 - x0) / width,\n                h: (y1 - y0) / height,\n                page: pageIndex\n            };\n            detections.push({\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)(),\n                kind: kind,\n                box,\n                confidence: (_j = word.confidence) !== null && _j !== void 0 ? _j : 0.9,\n                reason,\n                preview: text\n            });\n        }\n    }\n    // Barcode detection using jsQR.  Draw the image onto a temporary canvas\n    // and scan its pixels.  jsQR returns null if no code is found.\n    try {\n        const canvas = document.createElement('canvas');\n        canvas.width = width;\n        canvas.height = height;\n        const ctx = canvas.getContext('2d');\n        if (ctx) {\n            ctx.drawImage(img, 0, 0, width, height);\n            const imageData = ctx.getImageData(0, 0, width, height);\n            const code = jsqr__WEBPACK_IMPORTED_MODULE_3___default()(imageData.data, imageData.width, imageData.height);\n            if (code && code.location) {\n                // Compute bounding box from corner points\n                const { topLeftCorner, topRightCorner, bottomRightCorner, bottomLeftCorner } = code.location;\n                const xs = [topLeftCorner.x, topRightCorner.x, bottomRightCorner.x, bottomLeftCorner.x];\n                const ys = [topLeftCorner.y, topRightCorner.y, bottomRightCorner.y, bottomLeftCorner.y];\n                const minX = Math.min(...xs);\n                const maxX = Math.max(...xs);\n                const minY = Math.min(...ys);\n                const maxY = Math.max(...ys);\n                const bbox = {\n                    x: minX / width,\n                    y: minY / height,\n                    w: (maxX - minX) / width,\n                    h: (maxY - minY) / height,\n                    page: pageIndex\n                };\n                detections.push({\n                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_0__.v4)(),\n                    kind: 'BARCODE',\n                    box: bbox,\n                    confidence: 1,\n                    reason: 'Detected barcode/QR code',\n                    preview: (_k = code.data) === null || _k === void 0 ? void 0 : _k.slice(0, 64) // show truncated payload\n                });\n            }\n        }\n    }\n    catch (err) {\n        // eslint-disable-next-line no-console\n        console.warn('Barcode detection failed:', err);\n    }\n    return detections;\n}\n/** Analyse a single file (image or PDF) and return detections across all pages. */\n// Import preset utilities at the top level\nasync function analyzeDocument(file, opts = {}) {\n    // Determine the MIME type from the file object if possible\n    const type = file.type || '';\n    const detections = [];\n    let pages = 1;\n    if (type === 'application/pdf') {\n        // Read the PDF into an ArrayBuffer\n        const buffer = await file.arrayBuffer();\n        // Configure worker for pdfjs if running in a browser\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        if (pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.GlobalWorkerOptions && pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.workerSrc === undefined) {\n            // Provide a default worker if none was set.  This requires that\n            // `pdfjs-dist/build/pdf.worker.js` is available in the bundle.\n            try {\n                // eslint-disable-next-line @typescript-eslint/no-var-requires\n                const workerSrc = __webpack_require__(/*! pdfjs-dist/build/pdf.worker.js */ \"pdfjs-dist/build/pdf.worker.js\");\n                pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.GlobalWorkerOptions.workerSrc = workerSrc;\n            }\n            catch (e) {\n                // ignore if require fails – pdfjs will attempt to fallback\n            }\n        }\n        const loadingTask = pdfjs_dist__WEBPACK_IMPORTED_MODULE_2__.getDocument({ data: buffer });\n        const pdf = await loadingTask.promise;\n        pages = pdf.numPages;\n        for (let i = 1; i <= pages; i++) {\n            const page = await pdf.getPage(i);\n            const viewport = page.getViewport({ scale: 1.0 });\n            const canvas = document.createElement('canvas');\n            canvas.width = viewport.width;\n            canvas.height = viewport.height;\n            const context = canvas.getContext('2d');\n            if (!context)\n                continue;\n            const renderContext = { canvasContext: context, viewport };\n            await page.render(renderContext).promise;\n            const dataURL = canvas.toDataURL();\n            const pageDetections = await analyzeImageDataURL(dataURL, i - 1);\n            detections.push(...pageDetections);\n        }\n    }\n    else {\n        // Assume image\n        const dataURL = await fileToDataURL(file);\n        const imgDetections = await analyzeImageDataURL(dataURL, 0);\n        detections.push(...imgDetections);\n    }\n    // Filter detections by preset if provided\n    if (opts.presetId) {\n        const preset = (0,_presets__WEBPACK_IMPORTED_MODULE_5__.getPreset)(opts.presetId);\n        if (preset && preset.enabledKinds && preset.enabledKinds.length > 0) {\n            // Remove detections whose kind is not enabled\n            for (let i = detections.length - 1; i >= 0; i--) {\n                if (!preset.enabledKinds.includes(detections[i].kind)) {\n                    detections.splice(i, 1);\n                }\n            }\n        }\n    }\n    return { detections, pages };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC9waXBlbGluZS9hbmFseXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkM7QUFDUDtBQUNDO0FBQ0U7QUFDdkM7QUFDQTtBQUNBO0FBQ3dCO0FBQ3hCO0FBQ3VDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxtQkFBbUI7QUFDbkQsb0NBQW9DLGtCQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZEQUFtQixtQkFBbUIsbUJBQW1CO0FBQ2xGLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFXO0FBQ2pDO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0NBQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkNBQUk7QUFDN0I7QUFDQTtBQUNBLHdCQUF3QixxRUFBcUU7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3Q0FBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw4Q0FBOEM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJEQUE0QixJQUFJLGlEQUFrQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtQkFBTyxDQUFDLHNFQUFnQztBQUMxRSxnQkFBZ0IsMkRBQTRCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbURBQW9CLEdBQUcsY0FBYztBQUNqRTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQSxnREFBZ0QsWUFBWTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtREFBUztBQUNoQztBQUNBO0FBQ0EsZ0RBQWdELFFBQVE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNsZWFuc2hhcmUvdWkvLi4vY29yZS1kZXRlY3QvZGlzdC9waXBlbGluZS9hbmFseXplLmpzP2Q3NmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGV0ZWN0VG9rZW4gfSBmcm9tICcuLi9kZXRlY3RvcnMnO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgVGVzc2VyYWN0IGZyb20gJ3Rlc3NlcmFjdC5qcyc7XG5pbXBvcnQgKiBhcyBwZGZqc0xpYiBmcm9tICdwZGZqcy1kaXN0Jztcbi8vIEJhcmNvZGUgZGV0ZWN0aW9uIGxpYnJhcnkuICBqc1FSIGlzIGEgc21hbGwgbGlicmFyeSB0aGF0IGNhbiBzY2FuIFFSIGNvZGVzXG4vLyBhbmQgbGluZWFyIGJhcmNvZGVzIGZyb20gaW1hZ2UgcGl4ZWwgZGF0YS4gIEl0IHJldHVybnMgdGhlIGxvY2F0aW9uIG9mIHRoZVxuLy8gZGV0ZWN0ZWQgY29kZSBpZiBvbmUgaXMgZm91bmQuICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2Nvem1vL2pzUVIgZm9yIGRldGFpbHMuXG5pbXBvcnQganNRUiBmcm9tICdqc3FyJztcbi8vIEltcG9ydCBwcmVzZXQgdXRpbGl0aWVzIHRvIGFsbG93IGZpbHRlcmluZyBkZXRlY3Rpb25zIGJhc2VkIG9uIGVuYWJsZWQga2luZHNcbmltcG9ydCB7IGdldFByZXNldCB9IGZyb20gJy4uL3ByZXNldHMnO1xuLypcbiAqIFRoZSBhbmFseXNlIHBpcGVsaW5lIG9yY2hlc3RyYXRlcyBPQ1IgYW5kIHRva2VuIGRldGVjdGlvbiBmb3IgYm90aCBpbWFnZXNcbiAqIGFuZCBQREZzLiAgSXQgdXNlcyBuYXRpdmUgT0NSIHdoZW4gYXZhaWxhYmxlICh2aWEgQ2FwYWNpdG9yIHBsdWdpbnMpIGFuZFxuICogZmFsbHMgYmFjayB0byBUZXNzZXJhY3QuanMgcnVubmluZyBpbiB0aGUgYnJvd3NlciBvciBhIHdlYiB3b3JrZXIuICBQREZcbiAqIHBhZ2VzIGFyZSByZW5kZXJlZCB0byBjYW52YXNlcyB2aWEgcGRmanMtZGlzdCwgdGhlbiB0cmVhdGVkIGxpa2UgaW1hZ2VzLlxuICovXG4vKiogQ29udmVydCBhIEZpbGUvQmxvYiB0byBhIERhdGEgVVJJLiAqL1xuYXN5bmMgZnVuY3Rpb24gZmlsZVRvRGF0YVVSTChmaWxlKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gKCkgPT4gcmVqZWN0KHJlYWRlci5lcnJvcik7XG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgIH0pO1xufVxuLyoqIFBlcmZvcm0gT0NSIG9uIGEgZGF0YSBVUkwgYW5kIHJldHVybiBkZXRlY3Rpb25zLiAqL1xuYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZUltYWdlRGF0YVVSTChkYXRhVVJMLCBwYWdlSW5kZXggPSAwKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rO1xuICAgIC8vIE9wdGlvbmFsbHkgcGVyZm9ybSBhIHNpbXBsZSBkb2N1bWVudCBhdXRv4oCRY3JvcCBiZWZvcmUgcnVubmluZyBPQ1IuICBNYW55XG4gICAgLy8gc2Nhbm5lZCBkb2N1bWVudHMgY29udGFpbiBsYXJnZSB3aGl0ZSBtYXJnaW5zLiAgQ3JvcHBpbmcgdG8gdGhlXG4gICAgLy8gYm91bmRpbmcgcmVjdGFuZ2xlIG9mIG5vbuKAkXdoaXRlIHBpeGVscyBpbXByb3ZlcyBPQ1IgYWNjdXJhY3kgYW5kXG4gICAgLy8gcmVkdWNlcyBwcm9jZXNzaW5nIHRpbWUuICBXZSBkZXRlY3QgdGhlIHNtYWxsZXN0IHJlY3RhbmdsZSB0aGF0XG4gICAgLy8gY29udGFpbnMgYWxsIHBpeGVscyB3aG9zZSBicmlnaHRuZXNzIGlzIGJlbG93IGEgdGhyZXNob2xkLiAgSWYgdGhlXG4gICAgLy8gcmVzdWx0aW5nIGNyb3AgY292ZXJzIGFsbW9zdCB0aGUgZW50aXJlIGltYWdlICg+OTUlKSwgd2Ugc2tpcCB0aGVcbiAgICAvLyBjcm9wIHRvIGF2b2lkIGxvc2luZyBjb250ZW50LiAgVGhpcyBoZXVyaXN0aWMgaXMgY2hlYXAgdG8gY29tcHV0ZVxuICAgIC8vIGFuZCBkb2VzIG5vdCByZXF1aXJlIGV4dGVybmFsIGRlcGVuZGVuY2llcy4gIFNlZSBkb2NzL1JPQURNQVAubWQuXG4gICAgYXN5bmMgZnVuY3Rpb24gYXV0b0Nyb3AoZGF0YVVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGlmICghY3R4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YVVybCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gaW1hZ2VEYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgbGV0IG1pblggPSBjYW52YXMud2lkdGg7XG4gICAgICAgICAgICAgICAgbGV0IG1heFggPSAwO1xuICAgICAgICAgICAgICAgIGxldCBtaW5ZID0gY2FudmFzLmhlaWdodDtcbiAgICAgICAgICAgICAgICBsZXQgbWF4WSA9IDA7XG4gICAgICAgICAgICAgICAgLy8gVGhyZXNob2xkIHRvIGNvbnNpZGVyIGEgcGl4ZWwgYXMgYmFja2dyb3VuZCAodmVyeSBsaWdodClcbiAgICAgICAgICAgICAgICBjb25zdCBpc0JnID0gKHIsIGcsIGIpID0+IHIgPiAyMzAgJiYgZyA+IDIzMCAmJiBiID4gMjMwO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgY2FudmFzLmhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgY2FudmFzLndpZHRoOyB4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9ICh5ICogY2FudmFzLndpZHRoICsgeCkgKiA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IGRhdGFbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGcgPSBkYXRhW2lkeCArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IGRhdGFbaWR4ICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzQmcociwgZywgYikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeCA8IG1pblgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pblggPSB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4ID4gbWF4WClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5ZID0geTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IG1heFkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFkgPSB5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIG5vIGZvcmVncm91bmQgZm91bmQsIHJldHVybiBvcmlnaW5hbFxuICAgICAgICAgICAgICAgIGlmIChtaW5YID4gbWF4WCB8fCBtaW5ZID4gbWF4WSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGFVcmwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgYm91bmRzIHdpZHRoL2hlaWdodFxuICAgICAgICAgICAgICAgIGNvbnN0IGJ3ID0gbWF4WCAtIG1pblg7XG4gICAgICAgICAgICAgICAgY29uc3QgYmggPSBtYXhZIC0gbWluWTtcbiAgICAgICAgICAgICAgICAvLyBJZiBjcm9wIGNvdmVycyBhbG1vc3QgZW50aXJlIGltYWdlLCBza2lwIGNyb3BwaW5nXG4gICAgICAgICAgICAgICAgaWYgKGJ3IC8gY2FudmFzLndpZHRoID4gMC45NSAmJiBiaCAvIGNhbnZhcy5oZWlnaHQgPiAwLjk1KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YVVybCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRXhwYW5kIGNyb3AgYnkgNSUgbWFyZ2lucyB0byBhdm9pZCBjdXR0aW5nIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBjb25zdCBtYXJnaW5YID0gTWF0aC5mbG9vcihidyAqIDAuMDUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmdpblkgPSBNYXRoLmZsb29yKGJoICogMC4wNSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3JvcFggPSBNYXRoLm1heCgwLCBtaW5YIC0gbWFyZ2luWCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3JvcFkgPSBNYXRoLm1heCgwLCBtaW5ZIC0gbWFyZ2luWSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3JvcFcgPSBNYXRoLm1pbihjYW52YXMud2lkdGggLSBjcm9wWCwgYncgKyBtYXJnaW5YICogMik7XG4gICAgICAgICAgICAgICAgY29uc3QgY3JvcEggPSBNYXRoLm1pbihjYW52YXMuaGVpZ2h0IC0gY3JvcFksIGJoICsgbWFyZ2luWSAqIDIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNyb3BwZWRDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICBjcm9wcGVkQ2FudmFzLndpZHRoID0gY3JvcFc7XG4gICAgICAgICAgICAgICAgY3JvcHBlZENhbnZhcy5oZWlnaHQgPSBjcm9wSDtcbiAgICAgICAgICAgICAgICBjb25zdCBjY3R4ID0gY3JvcHBlZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgICAgIGlmICghY2N0eCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGFVcmwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNjdHguZHJhd0ltYWdlKGNhbnZhcywgY3JvcFgsIGNyb3BZLCBjcm9wVywgY3JvcEgsIDAsIDAsIGNyb3BXLCBjcm9wSCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShjcm9wcGVkQ2FudmFzLnRvRGF0YVVSTCgpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbWcub25lcnJvciA9ICgpID0+IHJlc29sdmUoZGF0YVVybCk7XG4gICAgICAgICAgICBpbWcuc3JjID0gZGF0YVVybDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFJ1biBUZXNzZXJhY3Qgb24gdGhlIG9yaWdpbmFsIERhdGEgVVJMLiAgQ3JvcHBpbmcgaXMgZGlzYWJsZWQgYnlcbiAgICAvLyBkZWZhdWx0IGJlY2F1c2UgYWRqdXN0aW5nIGJvdW5kaW5nIGJveGVzIGJhY2sgdG8gdGhlIG9yaWdpbmFsXG4gICAgLy8gY29vcmRpbmF0ZXMgaXMgbm9u4oCRdHJpdmlhbC4gIFRvIGV4cGVyaW1lbnQgd2l0aCBhdXRv4oCRY3JvcCwgY2FsbFxuICAgIC8vIGF1dG9Dcm9wKCkgb24gZGF0YVVSTCBhbmQgYWRqdXN0IGJvdW5kaW5nIGJveGVzIGFjY29yZGluZ2x5LlxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFRlc3NlcmFjdC5yZWNvZ25pemUoZGF0YVVSTCwgJ2VuZycsIHsgbG9nZ2VyOiAoKSA9PiB7IH0gfSk7XG4gICAgY29uc3QgeyB3b3JkcyB9ID0gcmVzdWx0LmRhdGE7XG4gICAgY29uc3QgZGV0ZWN0aW9ucyA9IFtdO1xuICAgIC8vIERldGVybWluZSBpbWFnZSBkaW1lbnNpb25zXG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIGltZy5vbmxvYWQgPSByZXNvbHZlO1xuICAgICAgICBpbWcuc3JjID0gZGF0YVVSTDtcbiAgICB9KTtcbiAgICBjb25zdCB3aWR0aCA9IGltZy53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkcykge1xuICAgICAgICBjb25zdCB0ZXh0ID0gKHdvcmQudGV4dCB8fCAnJykudHJpbSgpO1xuICAgICAgICBpZiAoIXRleHQpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBkZXRlY3RUb2tlbih0ZXh0KTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBjb25zdCB7IGtpbmQsIHJlYXNvbiB9ID0gbWF0Y2g7XG4gICAgICAgICAgICBjb25zdCBiYm94ID0gd29yZC5iYm94O1xuICAgICAgICAgICAgY29uc3QgeDAgPSAoX2IgPSAoX2EgPSBiYm94LngwKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBiYm94LmxlZnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDA7XG4gICAgICAgICAgICBjb25zdCB5MCA9IChfZCA9IChfYyA9IGJib3gueTApICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGJib3gudG9wKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAwO1xuICAgICAgICAgICAgY29uc3QgeDEgPSAoX2YgPSAoX2UgPSBiYm94LngxKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBiYm94LnJpZ2h0KSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAwO1xuICAgICAgICAgICAgY29uc3QgeTEgPSAoX2ggPSAoX2cgPSBiYm94LnkxKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBiYm94LmJvdHRvbSkgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogMDtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IHtcbiAgICAgICAgICAgICAgICB4OiB4MCAvIHdpZHRoLFxuICAgICAgICAgICAgICAgIHk6IHkwIC8gaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHc6ICh4MSAtIHgwKSAvIHdpZHRoLFxuICAgICAgICAgICAgICAgIGg6ICh5MSAtIHkwKSAvIGhlaWdodCxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlSW5kZXhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkZXRlY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICAgICAgICAgIGJveCxcbiAgICAgICAgICAgICAgICBjb25maWRlbmNlOiAoX2ogPSB3b3JkLmNvbmZpZGVuY2UpICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6IDAuOSxcbiAgICAgICAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgICAgICAgcHJldmlldzogdGV4dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQmFyY29kZSBkZXRlY3Rpb24gdXNpbmcganNRUi4gIERyYXcgdGhlIGltYWdlIG9udG8gYSB0ZW1wb3JhcnkgY2FudmFzXG4gICAgLy8gYW5kIHNjYW4gaXRzIHBpeGVscy4gIGpzUVIgcmV0dXJucyBudWxsIGlmIG5vIGNvZGUgaXMgZm91bmQuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgaWYgKGN0eCkge1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBqc1FSKGltYWdlRGF0YS5kYXRhLCBpbWFnZURhdGEud2lkdGgsIGltYWdlRGF0YS5oZWlnaHQpO1xuICAgICAgICAgICAgaWYgKGNvZGUgJiYgY29kZS5sb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIENvbXB1dGUgYm91bmRpbmcgYm94IGZyb20gY29ybmVyIHBvaW50c1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdG9wTGVmdENvcm5lciwgdG9wUmlnaHRDb3JuZXIsIGJvdHRvbVJpZ2h0Q29ybmVyLCBib3R0b21MZWZ0Q29ybmVyIH0gPSBjb2RlLmxvY2F0aW9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IHhzID0gW3RvcExlZnRDb3JuZXIueCwgdG9wUmlnaHRDb3JuZXIueCwgYm90dG9tUmlnaHRDb3JuZXIueCwgYm90dG9tTGVmdENvcm5lci54XTtcbiAgICAgICAgICAgICAgICBjb25zdCB5cyA9IFt0b3BMZWZ0Q29ybmVyLnksIHRvcFJpZ2h0Q29ybmVyLnksIGJvdHRvbVJpZ2h0Q29ybmVyLnksIGJvdHRvbUxlZnRDb3JuZXIueV07XG4gICAgICAgICAgICAgICAgY29uc3QgbWluWCA9IE1hdGgubWluKC4uLnhzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhYID0gTWF0aC5tYXgoLi4ueHMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pblkgPSBNYXRoLm1pbiguLi55cyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4WSA9IE1hdGgubWF4KC4uLnlzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiYm94ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBtaW5YIC8gd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHk6IG1pblkgLyBoZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHc6IChtYXhYIC0gbWluWCkgLyB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaDogKG1heFkgLSBtaW5ZKSAvIGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZUluZGV4XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkZXRlY3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdCQVJDT0RFJyxcbiAgICAgICAgICAgICAgICAgICAgYm94OiBiYm94LFxuICAgICAgICAgICAgICAgICAgICBjb25maWRlbmNlOiAxLFxuICAgICAgICAgICAgICAgICAgICByZWFzb246ICdEZXRlY3RlZCBiYXJjb2RlL1FSIGNvZGUnLFxuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3OiAoX2sgPSBjb2RlLmRhdGEpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay5zbGljZSgwLCA2NCkgLy8gc2hvdyB0cnVuY2F0ZWQgcGF5bG9hZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS53YXJuKCdCYXJjb2RlIGRldGVjdGlvbiBmYWlsZWQ6JywgZXJyKTtcbiAgICB9XG4gICAgcmV0dXJuIGRldGVjdGlvbnM7XG59XG4vKiogQW5hbHlzZSBhIHNpbmdsZSBmaWxlIChpbWFnZSBvciBQREYpIGFuZCByZXR1cm4gZGV0ZWN0aW9ucyBhY3Jvc3MgYWxsIHBhZ2VzLiAqL1xuLy8gSW1wb3J0IHByZXNldCB1dGlsaXRpZXMgYXQgdGhlIHRvcCBsZXZlbFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFuYWx5emVEb2N1bWVudChmaWxlLCBvcHRzID0ge30pIHtcbiAgICAvLyBEZXRlcm1pbmUgdGhlIE1JTUUgdHlwZSBmcm9tIHRoZSBmaWxlIG9iamVjdCBpZiBwb3NzaWJsZVxuICAgIGNvbnN0IHR5cGUgPSBmaWxlLnR5cGUgfHwgJyc7XG4gICAgY29uc3QgZGV0ZWN0aW9ucyA9IFtdO1xuICAgIGxldCBwYWdlcyA9IDE7XG4gICAgaWYgKHR5cGUgPT09ICdhcHBsaWNhdGlvbi9wZGYnKSB7XG4gICAgICAgIC8vIFJlYWQgdGhlIFBERiBpbnRvIGFuIEFycmF5QnVmZmVyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgLy8gQ29uZmlndXJlIHdvcmtlciBmb3IgcGRmanMgaWYgcnVubmluZyBpbiBhIGJyb3dzZXJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChwZGZqc0xpYi5HbG9iYWxXb3JrZXJPcHRpb25zICYmIHBkZmpzTGliLndvcmtlclNyYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBQcm92aWRlIGEgZGVmYXVsdCB3b3JrZXIgaWYgbm9uZSB3YXMgc2V0LiAgVGhpcyByZXF1aXJlcyB0aGF0XG4gICAgICAgICAgICAvLyBgcGRmanMtZGlzdC9idWlsZC9wZGYud29ya2VyLmpzYCBpcyBhdmFpbGFibGUgaW4gdGhlIGJ1bmRsZS5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXNcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JrZXJTcmMgPSByZXF1aXJlKCdwZGZqcy1kaXN0L2J1aWxkL3BkZi53b3JrZXIuanMnKTtcbiAgICAgICAgICAgICAgICBwZGZqc0xpYi5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IHdvcmtlclNyYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gaWdub3JlIGlmIHJlcXVpcmUgZmFpbHMg4oCTIHBkZmpzIHdpbGwgYXR0ZW1wdCB0byBmYWxsYmFja1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvYWRpbmdUYXNrID0gcGRmanNMaWIuZ2V0RG9jdW1lbnQoeyBkYXRhOiBidWZmZXIgfSk7XG4gICAgICAgIGNvbnN0IHBkZiA9IGF3YWl0IGxvYWRpbmdUYXNrLnByb21pc2U7XG4gICAgICAgIHBhZ2VzID0gcGRmLm51bVBhZ2VzO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBwYWdlczsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYWdlID0gYXdhaXQgcGRmLmdldFBhZ2UoaSk7XG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHBhZ2UuZ2V0Vmlld3BvcnQoeyBzY2FsZTogMS4wIH0pO1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB2aWV3cG9ydC53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICBpZiAoIWNvbnRleHQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJDb250ZXh0ID0geyBjYW52YXNDb250ZXh0OiBjb250ZXh0LCB2aWV3cG9ydCB9O1xuICAgICAgICAgICAgYXdhaXQgcGFnZS5yZW5kZXIocmVuZGVyQ29udGV4dCkucHJvbWlzZTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKCk7XG4gICAgICAgICAgICBjb25zdCBwYWdlRGV0ZWN0aW9ucyA9IGF3YWl0IGFuYWx5emVJbWFnZURhdGFVUkwoZGF0YVVSTCwgaSAtIDEpO1xuICAgICAgICAgICAgZGV0ZWN0aW9ucy5wdXNoKC4uLnBhZ2VEZXRlY3Rpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gQXNzdW1lIGltYWdlXG4gICAgICAgIGNvbnN0IGRhdGFVUkwgPSBhd2FpdCBmaWxlVG9EYXRhVVJMKGZpbGUpO1xuICAgICAgICBjb25zdCBpbWdEZXRlY3Rpb25zID0gYXdhaXQgYW5hbHl6ZUltYWdlRGF0YVVSTChkYXRhVVJMLCAwKTtcbiAgICAgICAgZGV0ZWN0aW9ucy5wdXNoKC4uLmltZ0RldGVjdGlvbnMpO1xuICAgIH1cbiAgICAvLyBGaWx0ZXIgZGV0ZWN0aW9ucyBieSBwcmVzZXQgaWYgcHJvdmlkZWRcbiAgICBpZiAob3B0cy5wcmVzZXRJZCkge1xuICAgICAgICBjb25zdCBwcmVzZXQgPSBnZXRQcmVzZXQob3B0cy5wcmVzZXRJZCk7XG4gICAgICAgIGlmIChwcmVzZXQgJiYgcHJlc2V0LmVuYWJsZWRLaW5kcyAmJiBwcmVzZXQuZW5hYmxlZEtpbmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBkZXRlY3Rpb25zIHdob3NlIGtpbmQgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBkZXRlY3Rpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcmVzZXQuZW5hYmxlZEtpbmRzLmluY2x1ZGVzKGRldGVjdGlvbnNbaV0ua2luZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0ZWN0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGRldGVjdGlvbnMsIHBhZ2VzIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../core-detect/dist/pipeline/analyze.js\n");

/***/ }),

/***/ "../core-detect/dist/pipeline/apply.js":
/*!*********************************************!*\
  !*** ../core-detect/dist/pipeline/apply.js ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeDocument: () => (/* binding */ analyzeDocument),\n/* harmony export */   applyRedactions: () => (/* binding */ applyRedactions)\n/* harmony export */ });\n/* harmony import */ var _analyze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./analyze */ \"../core-detect/dist/pipeline/analyze.js\");\n/* harmony import */ var pdf_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pdf-lib */ \"../../node_modules/.pnpm/pdf-lib@1.17.1/node_modules/pdf-lib/cjs/index.js\");\n/* harmony import */ var pdf_lib__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pdf_lib__WEBPACK_IMPORTED_MODULE_0__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_analyze__WEBPACK_IMPORTED_MODULE_1__]);\n_analyze__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// A module‑scoped variable to store the last analysis result.  applyRedactions()\n// uses this map to resolve detection IDs to bounding boxes.  In a real\n// application you should pass the detections directly to avoid shared\n// mutable state.  This simplified implementation is sufficient for the\n// demonstration.\nlet lastResult = null;\n/** Override the exported analyse function to capture the last result. */\nasync function analyzeDocument(file, opts = {}) {\n    const result = await (0,_analyze__WEBPACK_IMPORTED_MODULE_1__.analyzeDocument)(file, opts);\n    lastResult = result;\n    return result;\n}\n/** Internal helper: convert a canvas to a data URI. */\nfunction canvasToDataURL(canvas, mimeType = 'image/png', quality = 0.92) {\n    return canvas.toDataURL(mimeType, quality);\n}\n/** Internal helper: convert a File/Blob into a HTMLImageElement. */\nasync function fileToImage(file) {\n    const dataURL = await new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = () => reject(reader.error);\n        reader.readAsDataURL(file);\n    });\n    const img = new Image();\n    await new Promise(resolve => {\n        img.onload = () => resolve();\n        img.src = dataURL;\n    });\n    return img;\n}\n/** Apply redactions to an image.  Returns a Data URI. */\nasync function applyRedactionsToImage(file, actions, quality = 0.92) {\n    const img = await fileToImage(file);\n    const canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n    const ctx = canvas.getContext('2d');\n    if (!ctx)\n        throw new Error('Cannot obtain 2D context');\n    // Draw original image\n    ctx.drawImage(img, 0, 0);\n    // Build detection map\n    const map = new Map();\n    if (lastResult) {\n        for (const det of lastResult.detections) {\n            map.set(det.id, det);\n        }\n    }\n    // Utility helpers for drawing various redaction styles on images\n    function drawBox(x, y, w, h) {\n        ctx.fillStyle = 'black';\n        ctx.fillRect(x, y, w, h);\n    }\n    // Apply a CSS blur filter to a region by drawing the original image with\n    // the filter enabled only for that region.  Canvas 2D `filter` is\n    // supported in modern browsers.  We temporarily clip the context to\n    // restrict the blur effect to the redaction box.\n    function drawBlur(x, y, w, h) {\n        ctx.save();\n        ctx.filter = 'blur(8px)';\n        ctx.beginPath();\n        ctx.rect(x, y, w, h);\n        ctx.clip();\n        ctx.drawImage(img, 0, 0);\n        ctx.restore();\n    }\n    // Pixelate by drawing the region scaled down and back up.  Choose a\n    // pixel size relative to region size to maintain some obfuscation but\n    // not degrade performance too much.\n    function drawPixelate(x, y, w, h) {\n        const pixelSize = Math.max(4, Math.floor(Math.min(w, h) / 10));\n        // Create a temporary canvas to hold the region scaled down\n        const tempCanvas = document.createElement('canvas');\n        tempCanvas.width = Math.max(1, Math.floor(w / pixelSize));\n        tempCanvas.height = Math.max(1, Math.floor(h / pixelSize));\n        const tctx = tempCanvas.getContext('2d');\n        if (!tctx) {\n            drawBox(x, y, w, h);\n            return;\n        }\n        // Draw the region scaled down onto the temp canvas\n        tctx.drawImage(img, x, y, w, h, 0, 0, tempCanvas.width, tempCanvas.height);\n        // Now draw the scaled up version onto the main canvas to pixelate\n        ctx.imageSmoothingEnabled = false;\n        ctx.drawImage(tempCanvas, 0, 0, tempCanvas.width, tempCanvas.height, x, y, w, h);\n        ctx.imageSmoothingEnabled = true;\n    }\n    // Draw a label over the region.  Fill a semi‑opaque box then draw\n    // the label text centred within.  When the label is too long to fit,\n    // truncate and append an ellipsis.\n    function drawLabel(x, y, w, h, text) {\n        ctx.save();\n        ctx.fillStyle = 'black';\n        ctx.fillRect(x, y, w, h);\n        ctx.fillStyle = 'white';\n        const fontSize = Math.max(10, Math.floor(h * 0.6));\n        ctx.font = `${fontSize}px sans-serif`;\n        ctx.textBaseline = 'middle';\n        ctx.textAlign = 'center';\n        // Truncate text if it won't fit\n        let label = text;\n        const maxWidth = w - 4;\n        while (ctx.measureText(label).width > maxWidth && label.length > 1) {\n            label = label.slice(0, -1);\n        }\n        if (label !== text) {\n            label = label.slice(0, -1) + '…';\n        }\n        ctx.fillText(label, x + w / 2, y + h / 2);\n        ctx.restore();\n    }\n    // Draw a mask that obscures all but the last four characters of the\n    // provided preview text.  The mask uses asterisks for the hidden\n    // portion.  Non‑digit characters are preserved in their positions.\n    function drawMaskLast4(x, y, w, h, preview) {\n        const text = preview || '';\n        // Keep only last 4 alphanumeric characters; replace preceding\n        // characters (letters or digits) with asterisks but preserve spaces and other symbols.\n        let masked = '';\n        let remaining = 4;\n        for (let i = text.length - 1; i >= 0; i--) {\n            const ch = text[i];\n            if (/\\w/.test(ch) && remaining > 0) {\n                masked = ch + masked;\n                remaining--;\n            }\n            else if (/\\w/.test(ch)) {\n                masked = '*' + masked;\n            }\n            else {\n                masked = ch + masked;\n            }\n        }\n        drawLabel(x, y, w, h, masked);\n    }\n    // Draw redactions using the selected style for each action.  If the\n    // style is not recognised, fallback to a solid box.\n    actions.forEach(action => {\n        const det = map.get(action.detectionId);\n        if (!det)\n            return;\n        const { box } = det;\n        const x = box.x * canvas.width;\n        const y = box.y * canvas.height;\n        const w = box.w * canvas.width;\n        const h = box.h * canvas.height;\n        switch (action.style) {\n            case 'BLUR':\n                drawBlur(x, y, w, h);\n                break;\n            case 'PIXELATE':\n                drawPixelate(x, y, w, h);\n                break;\n            case 'LABEL':\n                drawLabel(x, y, w, h, action.labelText || det.kind);\n                break;\n            case 'MASK_LAST4':\n                drawMaskLast4(x, y, w, h, det.preview);\n                break;\n            case 'REMOVE_METADATA':\n                // Metadata removal is handled by re‑encoding the image; no\n                // drawing needed for this redaction.\n                break;\n            default:\n                drawBox(x, y, w, h);\n        }\n    });\n    // Return a data URI without metadata (re‑encoding strips EXIF)\n    return canvas.toDataURL('image/jpeg', quality);\n}\n/** Apply redactions to a PDF.  Returns a Data URI of the new PDF. */\nasync function applyRedactionsToPdf(file, actions) {\n    const origBytes = await file.arrayBuffer();\n    const origPdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.load(origBytes);\n    const newPdf = await pdf_lib__WEBPACK_IMPORTED_MODULE_0__.PDFDocument.create();\n    const detectionMap = new Map();\n    if (lastResult) {\n        for (const det of lastResult.detections) {\n            detectionMap.set(det.id, det);\n        }\n    }\n    const total = origPdf.getPageCount();\n    for (let i = 0; i < total; i++) {\n        const [copiedPage] = await newPdf.copyPages(origPdf, [i]);\n        newPdf.addPage(copiedPage);\n        const { width, height } = copiedPage.getSize();\n        // Filter actions for this page\n        const pageActions = actions.filter(act => {\n            var _a;\n            const det = detectionMap.get(act.detectionId);\n            return det && ((_a = det.box.page) !== null && _a !== void 0 ? _a : 0) === i;\n        });\n        // Draw each redaction.  Always draw a black rectangle; then if the\n        // style supports text (LABEL or MASK_LAST4) overlay text on top.\n        for (const action of pageActions) {\n            const det = detectionMap.get(action.detectionId);\n            if (!det)\n                continue;\n            const { box } = det;\n            const x = box.x * width;\n            // Convert from top-left origin to PDF bottom-left origin\n            const y = (1 - box.y - box.h) * height;\n            const w = box.w * width;\n            const h = box.h * height;\n            // Draw base rectangle\n            copiedPage.drawRectangle({\n                x,\n                y,\n                width: w,\n                height: h,\n                color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(0, 0, 0),\n                opacity: 1\n            });\n            // Overlay text for LABEL or MASK_LAST4\n            if (action.style === 'LABEL' || action.style === 'MASK_LAST4') {\n                let text = '';\n                if (action.style === 'LABEL') {\n                    text = action.labelText || det.kind;\n                }\n                else if (action.style === 'MASK_LAST4') {\n                    const preview = det.preview || '';\n                    // Mask all but last four alphanumeric characters\n                    let masked = '';\n                    let remaining = 4;\n                    for (let i = preview.length - 1; i >= 0; i--) {\n                        const ch = preview[i];\n                        if (/\\w/.test(ch) && remaining > 0) {\n                            masked = ch + masked;\n                            remaining--;\n                        }\n                        else if (/\\w/.test(ch)) {\n                            masked = '*' + masked;\n                        }\n                        else {\n                            masked = ch + masked;\n                        }\n                    }\n                    text = masked;\n                }\n                // Ensure font size reasonably scales with height\n                const fontSize = Math.max(8, h * 0.6);\n                // Constrain text width; if too long, truncate and add ellipsis\n                let label = text;\n                // pdf-lib drawText does not provide measureText; approximate by\n                // character count relative to width and font size\n                const maxChars = Math.floor((w - 4) / (fontSize * 0.6));\n                if (label.length > maxChars) {\n                    label = label.slice(0, maxChars > 3 ? maxChars - 1 : 0) + '…';\n                }\n                // Approximate horizontal centering.  Estimate each character width as\n                // 0.6 × fontSize and compute offset relative to the region width.\n                const estTextWidth = label.length * fontSize * 0.6;\n                const xOffset = (w - estTextWidth) / 2;\n                copiedPage.drawText(label, {\n                    x: x + Math.max(0, xOffset),\n                    y: y + h / 2 - fontSize / 2,\n                    size: fontSize,\n                    color: (0,pdf_lib__WEBPACK_IMPORTED_MODULE_0__.rgb)(1, 1, 1)\n                });\n            }\n        }\n    }\n    const pdfBytes = await newPdf.save();\n    const base64 = typeof Buffer !== 'undefined' ? Buffer.from(pdfBytes).toString('base64') : btoa(String.fromCharCode(...new Uint8Array(pdfBytes)));\n    return `data:application/pdf;base64,${base64}`;\n}\n/**\n * Apply redactions to a file using the previously analysed detections.\n *\n * Note: This implementation relies on `lastResult` set by analyzeDocument().\n * In a real application you should pass the detections explicitly to avoid\n * hidden state.\n */\nasync function applyRedactions(file, actions, opts) {\n    var _a;\n    if (!lastResult) {\n        throw new Error('No analysis result available.  Call analyzeDocument() first.');\n    }\n    const mime = file.type || '';\n    let fileUri;\n    if (mime === 'application/pdf' || opts.output === 'pdf') {\n        fileUri = await applyRedactionsToPdf(file, actions);\n    }\n    else {\n        const quality = (_a = opts.quality) !== null && _a !== void 0 ? _a : 0.92;\n        fileUri = await applyRedactionsToImage(file, actions, quality);\n    }\n    // Build a simple report summarising redactions\n    const report = {};\n    if (lastResult) {\n        report.totalDetections = lastResult.detections.length;\n        report.redactedCount = actions.length;\n        const counts = {};\n        for (const action of actions) {\n            const det = lastResult.detections.find(d => d.id === action.detectionId);\n            if (det) {\n                counts[det.kind] = (counts[det.kind] || 0) + 1;\n            }\n        }\n        report.byKind = counts;\n    }\n    return { fileUri, report };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGNsZWFuc2hhcmUvdWkvLi4vY29yZS1kZXRlY3QvZGlzdC9waXBlbGluZS9hcHBseS5qcz8xMzczIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFuYWx5emVEb2N1bWVudCBhcyBhbmFseXplIH0gZnJvbSAnLi9hbmFseXplJztcbmltcG9ydCB7IFBERkRvY3VtZW50LCByZ2IgfSBmcm9tICdwZGYtbGliJztcbi8vIEEgbW9kdWxl4oCRc2NvcGVkIHZhcmlhYmxlIHRvIHN0b3JlIHRoZSBsYXN0IGFuYWx5c2lzIHJlc3VsdC4gIGFwcGx5UmVkYWN0aW9ucygpXG4vLyB1c2VzIHRoaXMgbWFwIHRvIHJlc29sdmUgZGV0ZWN0aW9uIElEcyB0byBib3VuZGluZyBib3hlcy4gIEluIGEgcmVhbFxuLy8gYXBwbGljYXRpb24geW91IHNob3VsZCBwYXNzIHRoZSBkZXRlY3Rpb25zIGRpcmVjdGx5IHRvIGF2b2lkIHNoYXJlZFxuLy8gbXV0YWJsZSBzdGF0ZS4gIFRoaXMgc2ltcGxpZmllZCBpbXBsZW1lbnRhdGlvbiBpcyBzdWZmaWNpZW50IGZvciB0aGVcbi8vIGRlbW9uc3RyYXRpb24uXG5sZXQgbGFzdFJlc3VsdCA9IG51bGw7XG4vKiogT3ZlcnJpZGUgdGhlIGV4cG9ydGVkIGFuYWx5c2UgZnVuY3Rpb24gdG8gY2FwdHVyZSB0aGUgbGFzdCByZXN1bHQuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYW5hbHl6ZURvY3VtZW50KGZpbGUsIG9wdHMgPSB7fSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGFuYWx5emUoZmlsZSwgb3B0cyk7XG4gICAgbGFzdFJlc3VsdCA9IHJlc3VsdDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqIEludGVybmFsIGhlbHBlcjogY29udmVydCBhIGNhbnZhcyB0byBhIGRhdGEgVVJJLiAqL1xuZnVuY3Rpb24gY2FudmFzVG9EYXRhVVJMKGNhbnZhcywgbWltZVR5cGUgPSAnaW1hZ2UvcG5nJywgcXVhbGl0eSA9IDAuOTIpIHtcbiAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTChtaW1lVHlwZSwgcXVhbGl0eSk7XG59XG4vKiogSW50ZXJuYWwgaGVscGVyOiBjb252ZXJ0IGEgRmlsZS9CbG9iIGludG8gYSBIVE1MSW1hZ2VFbGVtZW50LiAqL1xuYXN5bmMgZnVuY3Rpb24gZmlsZVRvSW1hZ2UoZmlsZSkge1xuICAgIGNvbnN0IGRhdGFVUkwgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICByZWFkZXIub25lcnJvciA9ICgpID0+IHJlamVjdChyZWFkZXIuZXJyb3IpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICB9KTtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoKTtcbiAgICAgICAgaW1nLnNyYyA9IGRhdGFVUkw7XG4gICAgfSk7XG4gICAgcmV0dXJuIGltZztcbn1cbi8qKiBBcHBseSByZWRhY3Rpb25zIHRvIGFuIGltYWdlLiAgUmV0dXJucyBhIERhdGEgVVJJLiAqL1xuYXN5bmMgZnVuY3Rpb24gYXBwbHlSZWRhY3Rpb25zVG9JbWFnZShmaWxlLCBhY3Rpb25zLCBxdWFsaXR5ID0gMC45Mikge1xuICAgIGNvbnN0IGltZyA9IGF3YWl0IGZpbGVUb0ltYWdlKGZpbGUpO1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoIWN0eClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgb2J0YWluIDJEIGNvbnRleHQnKTtcbiAgICAvLyBEcmF3IG9yaWdpbmFsIGltYWdlXG4gICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xuICAgIC8vIEJ1aWxkIGRldGVjdGlvbiBtYXBcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgaWYgKGxhc3RSZXN1bHQpIHtcbiAgICAgICAgZm9yIChjb25zdCBkZXQgb2YgbGFzdFJlc3VsdC5kZXRlY3Rpb25zKSB7XG4gICAgICAgICAgICBtYXAuc2V0KGRldC5pZCwgZGV0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBVdGlsaXR5IGhlbHBlcnMgZm9yIGRyYXdpbmcgdmFyaW91cyByZWRhY3Rpb24gc3R5bGVzIG9uIGltYWdlc1xuICAgIGZ1bmN0aW9uIGRyYXdCb3goeCwgeSwgdywgaCkge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHcsIGgpO1xuICAgIH1cbiAgICAvLyBBcHBseSBhIENTUyBibHVyIGZpbHRlciB0byBhIHJlZ2lvbiBieSBkcmF3aW5nIHRoZSBvcmlnaW5hbCBpbWFnZSB3aXRoXG4gICAgLy8gdGhlIGZpbHRlciBlbmFibGVkIG9ubHkgZm9yIHRoYXQgcmVnaW9uLiAgQ2FudmFzIDJEIGBmaWx0ZXJgIGlzXG4gICAgLy8gc3VwcG9ydGVkIGluIG1vZGVybiBicm93c2Vycy4gIFdlIHRlbXBvcmFyaWx5IGNsaXAgdGhlIGNvbnRleHQgdG9cbiAgICAvLyByZXN0cmljdCB0aGUgYmx1ciBlZmZlY3QgdG8gdGhlIHJlZGFjdGlvbiBib3guXG4gICAgZnVuY3Rpb24gZHJhd0JsdXIoeCwgeSwgdywgaCkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguZmlsdGVyID0gJ2JsdXIoOHB4KSc7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnJlY3QoeCwgeSwgdywgaCk7XG4gICAgICAgIGN0eC5jbGlwKCk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgLy8gUGl4ZWxhdGUgYnkgZHJhd2luZyB0aGUgcmVnaW9uIHNjYWxlZCBkb3duIGFuZCBiYWNrIHVwLiAgQ2hvb3NlIGFcbiAgICAvLyBwaXhlbCBzaXplIHJlbGF0aXZlIHRvIHJlZ2lvbiBzaXplIHRvIG1haW50YWluIHNvbWUgb2JmdXNjYXRpb24gYnV0XG4gICAgLy8gbm90IGRlZ3JhZGUgcGVyZm9ybWFuY2UgdG9vIG11Y2guXG4gICAgZnVuY3Rpb24gZHJhd1BpeGVsYXRlKHgsIHksIHcsIGgpIHtcbiAgICAgICAgY29uc3QgcGl4ZWxTaXplID0gTWF0aC5tYXgoNCwgTWF0aC5mbG9vcihNYXRoLm1pbih3LCBoKSAvIDEwKSk7XG4gICAgICAgIC8vIENyZWF0ZSBhIHRlbXBvcmFyeSBjYW52YXMgdG8gaG9sZCB0aGUgcmVnaW9uIHNjYWxlZCBkb3duXG4gICAgICAgIGNvbnN0IHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IodyAvIHBpeGVsU2l6ZSkpO1xuICAgICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IoaCAvIHBpeGVsU2l6ZSkpO1xuICAgICAgICBjb25zdCB0Y3R4ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoIXRjdHgpIHtcbiAgICAgICAgICAgIGRyYXdCb3goeCwgeSwgdywgaCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRHJhdyB0aGUgcmVnaW9uIHNjYWxlZCBkb3duIG9udG8gdGhlIHRlbXAgY2FudmFzXG4gICAgICAgIHRjdHguZHJhd0ltYWdlKGltZywgeCwgeSwgdywgaCwgMCwgMCwgdGVtcENhbnZhcy53aWR0aCwgdGVtcENhbnZhcy5oZWlnaHQpO1xuICAgICAgICAvLyBOb3cgZHJhdyB0aGUgc2NhbGVkIHVwIHZlcnNpb24gb250byB0aGUgbWFpbiBjYW52YXMgdG8gcGl4ZWxhdGVcbiAgICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBjdHguZHJhd0ltYWdlKHRlbXBDYW52YXMsIDAsIDAsIHRlbXBDYW52YXMud2lkdGgsIHRlbXBDYW52YXMuaGVpZ2h0LCB4LCB5LCB3LCBoKTtcbiAgICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIC8vIERyYXcgYSBsYWJlbCBvdmVyIHRoZSByZWdpb24uICBGaWxsIGEgc2VtaeKAkW9wYXF1ZSBib3ggdGhlbiBkcmF3XG4gICAgLy8gdGhlIGxhYmVsIHRleHQgY2VudHJlZCB3aXRoaW4uICBXaGVuIHRoZSBsYWJlbCBpcyB0b28gbG9uZyB0byBmaXQsXG4gICAgLy8gdHJ1bmNhdGUgYW5kIGFwcGVuZCBhbiBlbGxpcHNpcy5cbiAgICBmdW5jdGlvbiBkcmF3TGFiZWwoeCwgeSwgdywgaCwgdGV4dCkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KHgsIHksIHcsIGgpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICAgICAgY29uc3QgZm9udFNpemUgPSBNYXRoLm1heCgxMCwgTWF0aC5mbG9vcihoICogMC42KSk7XG4gICAgICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemV9cHggc2Fucy1zZXJpZmA7XG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAvLyBUcnVuY2F0ZSB0ZXh0IGlmIGl0IHdvbid0IGZpdFxuICAgICAgICBsZXQgbGFiZWwgPSB0ZXh0O1xuICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHcgLSA0O1xuICAgICAgICB3aGlsZSAoY3R4Lm1lYXN1cmVUZXh0KGxhYmVsKS53aWR0aCA+IG1heFdpZHRoICYmIGxhYmVsLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGxhYmVsID0gbGFiZWwuc2xpY2UoMCwgLTEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYWJlbCAhPT0gdGV4dCkge1xuICAgICAgICAgICAgbGFiZWwgPSBsYWJlbC5zbGljZSgwLCAtMSkgKyAn4oCmJztcbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbFRleHQobGFiZWwsIHggKyB3IC8gMiwgeSArIGggLyAyKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgLy8gRHJhdyBhIG1hc2sgdGhhdCBvYnNjdXJlcyBhbGwgYnV0IHRoZSBsYXN0IGZvdXIgY2hhcmFjdGVycyBvZiB0aGVcbiAgICAvLyBwcm92aWRlZCBwcmV2aWV3IHRleHQuICBUaGUgbWFzayB1c2VzIGFzdGVyaXNrcyBmb3IgdGhlIGhpZGRlblxuICAgIC8vIHBvcnRpb24uICBOb27igJFkaWdpdCBjaGFyYWN0ZXJzIGFyZSBwcmVzZXJ2ZWQgaW4gdGhlaXIgcG9zaXRpb25zLlxuICAgIGZ1bmN0aW9uIGRyYXdNYXNrTGFzdDQoeCwgeSwgdywgaCwgcHJldmlldykge1xuICAgICAgICBjb25zdCB0ZXh0ID0gcHJldmlldyB8fCAnJztcbiAgICAgICAgLy8gS2VlcCBvbmx5IGxhc3QgNCBhbHBoYW51bWVyaWMgY2hhcmFjdGVyczsgcmVwbGFjZSBwcmVjZWRpbmdcbiAgICAgICAgLy8gY2hhcmFjdGVycyAobGV0dGVycyBvciBkaWdpdHMpIHdpdGggYXN0ZXJpc2tzIGJ1dCBwcmVzZXJ2ZSBzcGFjZXMgYW5kIG90aGVyIHN5bWJvbHMuXG4gICAgICAgIGxldCBtYXNrZWQgPSAnJztcbiAgICAgICAgbGV0IHJlbWFpbmluZyA9IDQ7XG4gICAgICAgIGZvciAobGV0IGkgPSB0ZXh0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBjaCA9IHRleHRbaV07XG4gICAgICAgICAgICBpZiAoL1xcdy8udGVzdChjaCkgJiYgcmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgICAgIG1hc2tlZCA9IGNoICsgbWFza2VkO1xuICAgICAgICAgICAgICAgIHJlbWFpbmluZy0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoL1xcdy8udGVzdChjaCkpIHtcbiAgICAgICAgICAgICAgICBtYXNrZWQgPSAnKicgKyBtYXNrZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXNrZWQgPSBjaCArIG1hc2tlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkcmF3TGFiZWwoeCwgeSwgdywgaCwgbWFza2VkKTtcbiAgICB9XG4gICAgLy8gRHJhdyByZWRhY3Rpb25zIHVzaW5nIHRoZSBzZWxlY3RlZCBzdHlsZSBmb3IgZWFjaCBhY3Rpb24uICBJZiB0aGVcbiAgICAvLyBzdHlsZSBpcyBub3QgcmVjb2duaXNlZCwgZmFsbGJhY2sgdG8gYSBzb2xpZCBib3guXG4gICAgYWN0aW9ucy5mb3JFYWNoKGFjdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IGRldCA9IG1hcC5nZXQoYWN0aW9uLmRldGVjdGlvbklkKTtcbiAgICAgICAgaWYgKCFkZXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgYm94IH0gPSBkZXQ7XG4gICAgICAgIGNvbnN0IHggPSBib3gueCAqIGNhbnZhcy53aWR0aDtcbiAgICAgICAgY29uc3QgeSA9IGJveC55ICogY2FudmFzLmhlaWdodDtcbiAgICAgICAgY29uc3QgdyA9IGJveC53ICogY2FudmFzLndpZHRoO1xuICAgICAgICBjb25zdCBoID0gYm94LmggKiBjYW52YXMuaGVpZ2h0O1xuICAgICAgICBzd2l0Y2ggKGFjdGlvbi5zdHlsZSkge1xuICAgICAgICAgICAgY2FzZSAnQkxVUic6XG4gICAgICAgICAgICAgICAgZHJhd0JsdXIoeCwgeSwgdywgaCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQSVhFTEFURSc6XG4gICAgICAgICAgICAgICAgZHJhd1BpeGVsYXRlKHgsIHksIHcsIGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTEFCRUwnOlxuICAgICAgICAgICAgICAgIGRyYXdMYWJlbCh4LCB5LCB3LCBoLCBhY3Rpb24ubGFiZWxUZXh0IHx8IGRldC5raW5kKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ01BU0tfTEFTVDQnOlxuICAgICAgICAgICAgICAgIGRyYXdNYXNrTGFzdDQoeCwgeSwgdywgaCwgZGV0LnByZXZpZXcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUkVNT1ZFX01FVEFEQVRBJzpcbiAgICAgICAgICAgICAgICAvLyBNZXRhZGF0YSByZW1vdmFsIGlzIGhhbmRsZWQgYnkgcmXigJFlbmNvZGluZyB0aGUgaW1hZ2U7IG5vXG4gICAgICAgICAgICAgICAgLy8gZHJhd2luZyBuZWVkZWQgZm9yIHRoaXMgcmVkYWN0aW9uLlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBkcmF3Qm94KHgsIHksIHcsIGgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gUmV0dXJuIGEgZGF0YSBVUkkgd2l0aG91dCBtZXRhZGF0YSAocmXigJFlbmNvZGluZyBzdHJpcHMgRVhJRilcbiAgICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIHF1YWxpdHkpO1xufVxuLyoqIEFwcGx5IHJlZGFjdGlvbnMgdG8gYSBQREYuICBSZXR1cm5zIGEgRGF0YSBVUkkgb2YgdGhlIG5ldyBQREYuICovXG5hc3luYyBmdW5jdGlvbiBhcHBseVJlZGFjdGlvbnNUb1BkZihmaWxlLCBhY3Rpb25zKSB7XG4gICAgY29uc3Qgb3JpZ0J5dGVzID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpO1xuICAgIGNvbnN0IG9yaWdQZGYgPSBhd2FpdCBQREZEb2N1bWVudC5sb2FkKG9yaWdCeXRlcyk7XG4gICAgY29uc3QgbmV3UGRmID0gYXdhaXQgUERGRG9jdW1lbnQuY3JlYXRlKCk7XG4gICAgY29uc3QgZGV0ZWN0aW9uTWFwID0gbmV3IE1hcCgpO1xuICAgIGlmIChsYXN0UmVzdWx0KSB7XG4gICAgICAgIGZvciAoY29uc3QgZGV0IG9mIGxhc3RSZXN1bHQuZGV0ZWN0aW9ucykge1xuICAgICAgICAgICAgZGV0ZWN0aW9uTWFwLnNldChkZXQuaWQsIGRldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdG90YWwgPSBvcmlnUGRmLmdldFBhZ2VDb3VudCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICBjb25zdCBbY29waWVkUGFnZV0gPSBhd2FpdCBuZXdQZGYuY29weVBhZ2VzKG9yaWdQZGYsIFtpXSk7XG4gICAgICAgIG5ld1BkZi5hZGRQYWdlKGNvcGllZFBhZ2UpO1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGNvcGllZFBhZ2UuZ2V0U2l6ZSgpO1xuICAgICAgICAvLyBGaWx0ZXIgYWN0aW9ucyBmb3IgdGhpcyBwYWdlXG4gICAgICAgIGNvbnN0IHBhZ2VBY3Rpb25zID0gYWN0aW9ucy5maWx0ZXIoYWN0ID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IGRldCA9IGRldGVjdGlvbk1hcC5nZXQoYWN0LmRldGVjdGlvbklkKTtcbiAgICAgICAgICAgIHJldHVybiBkZXQgJiYgKChfYSA9IGRldC5ib3gucGFnZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCkgPT09IGk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBEcmF3IGVhY2ggcmVkYWN0aW9uLiAgQWx3YXlzIGRyYXcgYSBibGFjayByZWN0YW5nbGU7IHRoZW4gaWYgdGhlXG4gICAgICAgIC8vIHN0eWxlIHN1cHBvcnRzIHRleHQgKExBQkVMIG9yIE1BU0tfTEFTVDQpIG92ZXJsYXkgdGV4dCBvbiB0b3AuXG4gICAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIHBhZ2VBY3Rpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkZXQgPSBkZXRlY3Rpb25NYXAuZ2V0KGFjdGlvbi5kZXRlY3Rpb25JZCk7XG4gICAgICAgICAgICBpZiAoIWRldClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IHsgYm94IH0gPSBkZXQ7XG4gICAgICAgICAgICBjb25zdCB4ID0gYm94LnggKiB3aWR0aDtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgZnJvbSB0b3AtbGVmdCBvcmlnaW4gdG8gUERGIGJvdHRvbS1sZWZ0IG9yaWdpblxuICAgICAgICAgICAgY29uc3QgeSA9ICgxIC0gYm94LnkgLSBib3guaCkgKiBoZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCB3ID0gYm94LncgKiB3aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGggPSBib3guaCAqIGhlaWdodDtcbiAgICAgICAgICAgIC8vIERyYXcgYmFzZSByZWN0YW5nbGVcbiAgICAgICAgICAgIGNvcGllZFBhZ2UuZHJhd1JlY3RhbmdsZSh7XG4gICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgICAgICAgIGhlaWdodDogaCxcbiAgICAgICAgICAgICAgICBjb2xvcjogcmdiKDAsIDAsIDApLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gT3ZlcmxheSB0ZXh0IGZvciBMQUJFTCBvciBNQVNLX0xBU1Q0XG4gICAgICAgICAgICBpZiAoYWN0aW9uLnN0eWxlID09PSAnTEFCRUwnIHx8IGFjdGlvbi5zdHlsZSA9PT0gJ01BU0tfTEFTVDQnKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRleHQgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLnN0eWxlID09PSAnTEFCRUwnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBhY3Rpb24ubGFiZWxUZXh0IHx8IGRldC5raW5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhY3Rpb24uc3R5bGUgPT09ICdNQVNLX0xBU1Q0Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3ID0gZGV0LnByZXZpZXcgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1hc2sgYWxsIGJ1dCBsYXN0IGZvdXIgYWxwaGFudW1lcmljIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hc2tlZCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmVtYWluaW5nID0gNDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHByZXZpZXcubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoID0gcHJldmlld1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvXFx3Ly50ZXN0KGNoKSAmJiByZW1haW5pbmcgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza2VkID0gY2ggKyBtYXNrZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtYWluaW5nLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgvXFx3Ly50ZXN0KGNoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tlZCA9ICcqJyArIG1hc2tlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tlZCA9IGNoICsgbWFza2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBtYXNrZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBmb250IHNpemUgcmVhc29uYWJseSBzY2FsZXMgd2l0aCBoZWlnaHRcbiAgICAgICAgICAgICAgICBjb25zdCBmb250U2l6ZSA9IE1hdGgubWF4KDgsIGggKiAwLjYpO1xuICAgICAgICAgICAgICAgIC8vIENvbnN0cmFpbiB0ZXh0IHdpZHRoOyBpZiB0b28gbG9uZywgdHJ1bmNhdGUgYW5kIGFkZCBlbGxpcHNpc1xuICAgICAgICAgICAgICAgIGxldCBsYWJlbCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgLy8gcGRmLWxpYiBkcmF3VGV4dCBkb2VzIG5vdCBwcm92aWRlIG1lYXN1cmVUZXh0OyBhcHByb3hpbWF0ZSBieVxuICAgICAgICAgICAgICAgIC8vIGNoYXJhY3RlciBjb3VudCByZWxhdGl2ZSB0byB3aWR0aCBhbmQgZm9udCBzaXplXG4gICAgICAgICAgICAgICAgY29uc3QgbWF4Q2hhcnMgPSBNYXRoLmZsb29yKCh3IC0gNCkgLyAoZm9udFNpemUgKiAwLjYpKTtcbiAgICAgICAgICAgICAgICBpZiAobGFiZWwubGVuZ3RoID4gbWF4Q2hhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBsYWJlbC5zbGljZSgwLCBtYXhDaGFycyA+IDMgPyBtYXhDaGFycyAtIDEgOiAwKSArICfigKYnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBcHByb3hpbWF0ZSBob3Jpem9udGFsIGNlbnRlcmluZy4gIEVzdGltYXRlIGVhY2ggY2hhcmFjdGVyIHdpZHRoIGFzXG4gICAgICAgICAgICAgICAgLy8gMC42IMOXIGZvbnRTaXplIGFuZCBjb21wdXRlIG9mZnNldCByZWxhdGl2ZSB0byB0aGUgcmVnaW9uIHdpZHRoLlxuICAgICAgICAgICAgICAgIGNvbnN0IGVzdFRleHRXaWR0aCA9IGxhYmVsLmxlbmd0aCAqIGZvbnRTaXplICogMC42O1xuICAgICAgICAgICAgICAgIGNvbnN0IHhPZmZzZXQgPSAodyAtIGVzdFRleHRXaWR0aCkgLyAyO1xuICAgICAgICAgICAgICAgIGNvcGllZFBhZ2UuZHJhd1RleHQobGFiZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgeDogeCArIE1hdGgubWF4KDAsIHhPZmZzZXQpLFxuICAgICAgICAgICAgICAgICAgICB5OiB5ICsgaCAvIDIgLSBmb250U2l6ZSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IGZvbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogcmdiKDEsIDEsIDEpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcGRmQnl0ZXMgPSBhd2FpdCBuZXdQZGYuc2F2ZSgpO1xuICAgIGNvbnN0IGJhc2U2NCA9IHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnID8gQnVmZmVyLmZyb20ocGRmQnl0ZXMpLnRvU3RyaW5nKCdiYXNlNjQnKSA6IGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5uZXcgVWludDhBcnJheShwZGZCeXRlcykpKTtcbiAgICByZXR1cm4gYGRhdGE6YXBwbGljYXRpb24vcGRmO2Jhc2U2NCwke2Jhc2U2NH1gO1xufVxuLyoqXG4gKiBBcHBseSByZWRhY3Rpb25zIHRvIGEgZmlsZSB1c2luZyB0aGUgcHJldmlvdXNseSBhbmFseXNlZCBkZXRlY3Rpb25zLlxuICpcbiAqIE5vdGU6IFRoaXMgaW1wbGVtZW50YXRpb24gcmVsaWVzIG9uIGBsYXN0UmVzdWx0YCBzZXQgYnkgYW5hbHl6ZURvY3VtZW50KCkuXG4gKiBJbiBhIHJlYWwgYXBwbGljYXRpb24geW91IHNob3VsZCBwYXNzIHRoZSBkZXRlY3Rpb25zIGV4cGxpY2l0bHkgdG8gYXZvaWRcbiAqIGhpZGRlbiBzdGF0ZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwcGx5UmVkYWN0aW9ucyhmaWxlLCBhY3Rpb25zLCBvcHRzKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghbGFzdFJlc3VsdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFuYWx5c2lzIHJlc3VsdCBhdmFpbGFibGUuICBDYWxsIGFuYWx5emVEb2N1bWVudCgpIGZpcnN0LicpO1xuICAgIH1cbiAgICBjb25zdCBtaW1lID0gZmlsZS50eXBlIHx8ICcnO1xuICAgIGxldCBmaWxlVXJpO1xuICAgIGlmIChtaW1lID09PSAnYXBwbGljYXRpb24vcGRmJyB8fCBvcHRzLm91dHB1dCA9PT0gJ3BkZicpIHtcbiAgICAgICAgZmlsZVVyaSA9IGF3YWl0IGFwcGx5UmVkYWN0aW9uc1RvUGRmKGZpbGUsIGFjdGlvbnMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcXVhbGl0eSA9IChfYSA9IG9wdHMucXVhbGl0eSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMC45MjtcbiAgICAgICAgZmlsZVVyaSA9IGF3YWl0IGFwcGx5UmVkYWN0aW9uc1RvSW1hZ2UoZmlsZSwgYWN0aW9ucywgcXVhbGl0eSk7XG4gICAgfVxuICAgIC8vIEJ1aWxkIGEgc2ltcGxlIHJlcG9ydCBzdW1tYXJpc2luZyByZWRhY3Rpb25zXG4gICAgY29uc3QgcmVwb3J0ID0ge307XG4gICAgaWYgKGxhc3RSZXN1bHQpIHtcbiAgICAgICAgcmVwb3J0LnRvdGFsRGV0ZWN0aW9ucyA9IGxhc3RSZXN1bHQuZGV0ZWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIHJlcG9ydC5yZWRhY3RlZENvdW50ID0gYWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNvdW50cyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkZXQgPSBsYXN0UmVzdWx0LmRldGVjdGlvbnMuZmluZChkID0+IGQuaWQgPT09IGFjdGlvbi5kZXRlY3Rpb25JZCk7XG4gICAgICAgICAgICBpZiAoZGV0KSB7XG4gICAgICAgICAgICAgICAgY291bnRzW2RldC5raW5kXSA9IChjb3VudHNbZGV0LmtpbmRdIHx8IDApICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXBvcnQuYnlLaW5kID0gY291bnRzO1xuICAgIH1cbiAgICByZXR1cm4geyBmaWxlVXJpLCByZXBvcnQgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../core-detect/dist/pipeline/apply.js\n");

/***/ }),

/***/ "../core-detect/dist/presets.js":
/*!**************************************!*\
  !*** ../core-detect/dist/presets.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PRESETS: () => (/* binding */ PRESETS),\n/* harmony export */   deletePreset: () => (/* binding */ deletePreset),\n/* harmony export */   getPreset: () => (/* binding */ getPreset),\n/* harmony export */   listPresets: () => (/* binding */ listPresets),\n/* harmony export */   savePreset: () => (/* binding */ savePreset)\n/* harmony export */ });\n// Predefined presets.  These can be customised by the user at runtime via the UI.\nconst PRESETS = [\n    {\n        id: 'developer',\n        name: 'Developer Secrets',\n        enabledKinds: ['EMAIL', 'PHONE', 'PAN', 'JWT', 'API_KEY', 'IBAN', 'SSN'],\n        styleMap: {},\n        customRegex: []\n    },\n    {\n        id: 'work',\n        name: 'Work Screenshot',\n        enabledKinds: ['EMAIL', 'PHONE', 'PAN', 'JWT', 'API_KEY', 'NAME', 'ADDRESS'],\n        styleMap: {},\n        customRegex: []\n    },\n    {\n        id: 'all',\n        name: 'All Detectors',\n        enabledKinds: ['FACE', 'EMAIL', 'PHONE', 'PAN', 'IBAN', 'SSN', 'JWT', 'API_KEY', 'BARCODE', 'NAME', 'ADDRESS', 'OTHER'],\n        styleMap: {},\n        customRegex: []\n    }\n];\n/** Return all registered presets. */\nfunction listPresets() {\n    return PRESETS.slice();\n}\n/** Lookup a preset by its ID. */\nfunction getPreset(id) {\n    return PRESETS.find(p => p.id === id);\n}\n/** Save or update a preset.  If the ID exists, it will be replaced; otherwise it is added. */\nfunction savePreset(preset) {\n    const index = PRESETS.findIndex(p => p.id === preset.id);\n    if (index >= 0) {\n        PRESETS[index] = preset;\n    }\n    else {\n        PRESETS.push(preset);\n    }\n}\n/** Delete a preset by its ID.  If the preset does not exist, no action is taken. */\nfunction deletePreset(id) {\n    const index = PRESETS.findIndex(p => p.id === id);\n    if (index >= 0) {\n        PRESETS.splice(index, 1);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC9wcmVzZXRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxxRUFBcUU7QUFDOUQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uLi9jb3JlLWRldGVjdC9kaXN0L3ByZXNldHMuanM/MjI4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQcmVkZWZpbmVkIHByZXNldHMuICBUaGVzZSBjYW4gYmUgY3VzdG9taXNlZCBieSB0aGUgdXNlciBhdCBydW50aW1lIHZpYSB0aGUgVUkuXG5leHBvcnQgY29uc3QgUFJFU0VUUyA9IFtcbiAgICB7XG4gICAgICAgIGlkOiAnZGV2ZWxvcGVyJyxcbiAgICAgICAgbmFtZTogJ0RldmVsb3BlciBTZWNyZXRzJyxcbiAgICAgICAgZW5hYmxlZEtpbmRzOiBbJ0VNQUlMJywgJ1BIT05FJywgJ1BBTicsICdKV1QnLCAnQVBJX0tFWScsICdJQkFOJywgJ1NTTiddLFxuICAgICAgICBzdHlsZU1hcDoge30sXG4gICAgICAgIGN1c3RvbVJlZ2V4OiBbXVxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogJ3dvcmsnLFxuICAgICAgICBuYW1lOiAnV29yayBTY3JlZW5zaG90JyxcbiAgICAgICAgZW5hYmxlZEtpbmRzOiBbJ0VNQUlMJywgJ1BIT05FJywgJ1BBTicsICdKV1QnLCAnQVBJX0tFWScsICdOQU1FJywgJ0FERFJFU1MnXSxcbiAgICAgICAgc3R5bGVNYXA6IHt9LFxuICAgICAgICBjdXN0b21SZWdleDogW11cbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6ICdhbGwnLFxuICAgICAgICBuYW1lOiAnQWxsIERldGVjdG9ycycsXG4gICAgICAgIGVuYWJsZWRLaW5kczogWydGQUNFJywgJ0VNQUlMJywgJ1BIT05FJywgJ1BBTicsICdJQkFOJywgJ1NTTicsICdKV1QnLCAnQVBJX0tFWScsICdCQVJDT0RFJywgJ05BTUUnLCAnQUREUkVTUycsICdPVEhFUiddLFxuICAgICAgICBzdHlsZU1hcDoge30sXG4gICAgICAgIGN1c3RvbVJlZ2V4OiBbXVxuICAgIH1cbl07XG4vKiogUmV0dXJuIGFsbCByZWdpc3RlcmVkIHByZXNldHMuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdFByZXNldHMoKSB7XG4gICAgcmV0dXJuIFBSRVNFVFMuc2xpY2UoKTtcbn1cbi8qKiBMb29rdXAgYSBwcmVzZXQgYnkgaXRzIElELiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFByZXNldChpZCkge1xuICAgIHJldHVybiBQUkVTRVRTLmZpbmQocCA9PiBwLmlkID09PSBpZCk7XG59XG4vKiogU2F2ZSBvciB1cGRhdGUgYSBwcmVzZXQuICBJZiB0aGUgSUQgZXhpc3RzLCBpdCB3aWxsIGJlIHJlcGxhY2VkOyBvdGhlcndpc2UgaXQgaXMgYWRkZWQuICovXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVByZXNldChwcmVzZXQpIHtcbiAgICBjb25zdCBpbmRleCA9IFBSRVNFVFMuZmluZEluZGV4KHAgPT4gcC5pZCA9PT0gcHJlc2V0LmlkKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBQUkVTRVRTW2luZGV4XSA9IHByZXNldDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIFBSRVNFVFMucHVzaChwcmVzZXQpO1xuICAgIH1cbn1cbi8qKiBEZWxldGUgYSBwcmVzZXQgYnkgaXRzIElELiAgSWYgdGhlIHByZXNldCBkb2VzIG5vdCBleGlzdCwgbm8gYWN0aW9uIGlzIHRha2VuLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVByZXNldChpZCkge1xuICAgIGNvbnN0IGluZGV4ID0gUFJFU0VUUy5maW5kSW5kZXgocCA9PiBwLmlkID09PSBpZCk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgUFJFU0VUUy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../core-detect/dist/presets.js\n");

/***/ }),

/***/ "../core-detect/dist/types.js":
/*!************************************!*\
  !*** ../core-detect/dist/types.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vY29yZS1kZXRlY3QvZGlzdC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiO0FBQVUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AY2xlYW5zaGFyZS91aS8uLi9jb3JlLWRldGVjdC9kaXN0L3R5cGVzLmpzP2I1NjMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHt9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../core-detect/dist/types.js\n");

/***/ }),

/***/ "jsqr":
/*!***********************!*\
  !*** external "jsqr" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("jsqr");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "pdfjs-dist":
/*!*****************************!*\
  !*** external "pdfjs-dist" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("pdfjs-dist");

/***/ }),

/***/ "pdfjs-dist/build/pdf.worker.js":
/*!*************************************************!*\
  !*** external "pdfjs-dist/build/pdf.worker.js" ***!
  \*************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("pdfjs-dist/build/pdf.worker.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = import("uuid");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?60a5":
/*!**************************!*\
  !*** encoding (ignored) ***!
  \**************************/
/***/ (() => {

/* (ignored) */

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0","vendor-chunks/@swc+helpers@0.5.2","vendor-chunks/pdf-lib@1.17.1","vendor-chunks/tesseract.js@4.1.4","vendor-chunks/@pdf-lib+standard-fonts@1.0.0","vendor-chunks/pako@1.0.11","vendor-chunks/whatwg-url@5.0.0","vendor-chunks/tr46@0.0.3","vendor-chunks/webidl-conversions@3.0.1","vendor-chunks/tslib@1.14.1","vendor-chunks/regenerator-runtime@0.13.11","vendor-chunks/node-fetch@2.7.0","vendor-chunks/is-url@1.2.4","vendor-chunks/is-electron@2.2.2","vendor-chunks/@pdf-lib+upng@1.0.1"], () => (__webpack_exec__("../../node_modules/.pnpm/next@14.1.0_@babel+core@7.28.3_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();